var Iu=Object.defineProperty;var zu=(i,t,e)=>t in i?Iu(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var ve=(i,t,e)=>zu(i,typeof t!="symbol"?t+"":t,e);class oa{constructor(){this.subscribable=new Hl(this),this.subscribers=new Set}subscribe(t){return this.subscribers.add(t),()=>this.unsubscribe(t)}unsubscribe(t){this.subscribers.delete(t)}clear(){this.subscribers.clear()}notifySubscribers(t){return[...this.subscribers].map(e=>e(t))}}class Hl{constructor(t){this.dispatcher=t}subscribe(t){return this.dispatcher.subscribe(t)}unsubscribe(t){this.dispatcher.unsubscribe(t)}}class Mn extends oa{dispatch(t){this.notifySubscribers(t)}}class $u extends oa{constructor(){super(...arguments),this.value=!1}raise(){this.value||(this.value=!0,this.notifySubscribers())}reset(){this.value=!1}isRaised(){return this.value}subscribe(t){const e=super.subscribe(t);return this.value&&t(),e}}class wn extends oa{get current(){return this.value}set current(t){this.value=t,this.notifySubscribers(t)}constructor(t){super(),this.value=t,this.subscribable=new _u(this)}subscribe(t,e=!0){const n=super.subscribe(t);return e&&t(this.value),n}}class _u extends Hl{get current(){return this.dispatcher.current}subscribe(t,e=!0){return this.dispatcher.subscribe(t,e)}}class Je{get onChanged(){return this.value.subscribable}get onDisabled(){return this.disabled.subscribable}constructor(t,e){this.name=t,this.initial=e,this.type=void 0,this.spacing=!1,this.description="",this.disabled=new wn(!1),this.value=new wn(e)}get(){return this.value.current}set(t){this.value.current=this.parse(t)}parse(t){return t}serialize(){return this.value.current}clone(){return new this.constructor(this.name,this.get())}disable(t=!0){return this.disabled.current=t,this}space(t=!0){return this.spacing=t,this}describe(t){return this.description=t,this}}class Bu extends Je{get onFieldsChanged(){return this.event.subscribable}constructor(t,e){const n=new Map(Object.entries(e));super(t,Object.fromEntries(Array.from(n,([s,r])=>[s,r.get()]))),this.type=Object,this.ignoreChange=!1,this.customFields={},this.handleChange=()=>{this.ignoreChange||(this.value.current={...this.transform("get"),...this.customFields})},this.event=new wn([...n.values()]),this.fields=n;for(const[s,r]of this.fields)Object.defineProperty(this,s,{value:r}),r.onChanged.subscribe(this.handleChange)}set(t){this.ignoreChange=!0;for(const[e,n]of Object.entries(t)){const s=this.fields.get(e);s?s.set(n):this.customFields[e]=n}this.ignoreChange=!1,this.handleChange()}serialize(){return{...this.transform("serialize"),...this.customFields}}clone(){const t=new this.constructor(this.name,this.transform("clone"));return t.set(structuredClone(this.customFields)),t}transform(t){return Object.fromEntries(Array.from(this.fields,([n,s])=>[n,s[t]()]))}}const Fi=Bu;class ml extends Je{constructor(){super(...arguments),this.type=Boolean}parse(t){return!!t}}class Ul extends Error{constructor(t,e){typeof t=="string"?(super(t),this.remarks=e):(super(t.message),this.remarks=t.remarks,this.object=t.object,this.durationMs=t.durationMs,this.inspect=t.inspect)}}class Wu{constructor(){this.resolveCurrent=null,this.current=null}async acquire(){for(;this.current;)await this.current;this.current=new Promise(t=>{this.resolveCurrent=t})}release(){var t;this.current=null,(t=this.resolveCurrent)==null||t.call(this),this.resolveCurrent=null}}const ho=[];function aa(){const i=ho.at(-1);if(!i)throw new Error("The scene is not available in the current context.");return i}function ju(i){ho.push(i)}function Nu(i){if(ho.pop()!==i)throw new Error("startScene/endScene were called out of order.")}function de(){var i;return((i=ho.at(-1))==null?void 0:i.logger)??console}const la=[];function co(){const i=la.at(-1);if(!i)throw new Ul("The thread is not available in the current context.",`<p><code>useThread()</code> can only be called from within generator functions.
      It&#39;s not available during rendering.</p>
`);return i}function yl(i){la.push(i)}function vl(i){if(la.pop()!==i)throw new Error("startThread/endThread was called out of order.")}function as(i){return i[0].toUpperCase()+i.slice(1)}function gt(){let i;return e=>{if(e!==void 0)i=e;else return i}}function Yl(i){return{message:i.message,stack:i.stack,remarks:i.remarks}}const bl=[{value:.25,text:"0.25x (Quarter)"},{value:.5,text:"0.5x (Half)"},{value:1,text:"1.0x (Full)"},{value:2,text:"2.0x (Double)"}],Hu=[{value:"srgb",text:"sRGB"},{value:"display-p3",text:"DCI-P3"}],wl=[{value:30,text:"30 FPS"},{value:60,text:"60 FPS"}];var mn;(function(i){i.Error="error",i.Warn="warn",i.Info="info",i.Http="http",i.Verbose="verbose",i.Debug="debug",i.Silly="silly"})(mn||(mn={}));class Uu{constructor(){this.logged=new Mn,this.history=[],this.profilers={}}get onLogged(){return this.logged.subscribable}log(t){this.logged.dispatch(t),this.history.push(t)}error(t){this.logLevel(mn.Error,t)}warn(t){this.logLevel(mn.Warn,t)}info(t){this.logLevel(mn.Info,t)}http(t){this.logLevel(mn.Http,t)}verbose(t){this.logLevel(mn.Verbose,t)}debug(t){this.logLevel(mn.Debug,t)}silly(t){this.logLevel(mn.Silly,t)}logLevel(t,e){const n=typeof e=="string"?{message:e}:e;n.level=t,this.log(n)}profile(t,e){const n=performance.now();if(this.profilers[t]){const s=this.profilers[t];delete this.profilers[t];const r=e??{message:t};r.level??(r.level=mn.Debug),r.durationMs=n-s,this.log(r);return}this.profilers[t]=n}}var ur;(function(i){i[i.Playing=0]="Playing",i[i.Rendering=1]="Rendering",i[i.Paused=2]="Paused",i[i.Presenting=3]="Presenting"})(ur||(ur={}));function Yu(i){const t={version:new Je("version",1),shared:new Fi("General",{background:new Qo("background",null),range:new fo("range",[0,1/0]),size:new nh("resolution",new y(1920,1080)),audioOffset:new Xo("audio offset",0)}),preview:new Fi("Preview",{fps:new Xo("frame rate",30).setPresets(wl).setRange(1),resolutionScale:new hs("scale",bl,1)}),rendering:new Fi("Rendering",{fps:new Xo("frame rate",60).setPresets(wl).setRange(1),resolutionScale:new hs("scale",bl,1),colorSpace:new hs("color space",Hu),exporter:new Pf("exporter",i)})};return t.shared.audioOffset.disable(!i.audio),t}class Xu extends Fi{constructor(t){super("project",Yu(t))}getFullPreviewSettings(){return{...this.shared.get(),...this.preview.get()}}getFullRenderingSettings(){return{...this.shared.get(),...this.rendering.get()}}}function Gu(){return new Fi("Application Settings",{version:new Je("version",1),appearance:new Fi("Appearance",{color:new Qo("accent color",new Ei("#33a6ff")).describe("The accent color for the user interface. (Leave empty to use the default color)"),font:new ml("legacy font",!1).describe("Use the 'JetBrains Mono' font for the user interface."),coordinates:new ml("coordinates",!0).describe("Display mouse coordinates within the preview window.")}),defaults:new Fi("Defaults",{background:new Qo("background",null).describe("The default background color used in new projects."),size:new nh("resolution",new y(1920,1080)).describe("The default resolution used in new projects.")})})}function qu(i,t,e,n,s,r,l=n.logger??new Uu){const c=Gu();r.attach(c);const f={name:i,...n,plugins:e,versions:t,settings:c,logger:l};return f.meta=new Xu(f),f.meta.shared.set(c.defaults.get()),f.experimentalFeatures??(f.experimentalFeatures=!1),s.attach(f.meta),f}function Ju(i,t){return{level:mn.Error,message:i,remarks:`<p>This feature requires enabling the <code>experimentalFeatures</code> flag in your project
configuration:</p>
<pre class=""><code class="language-ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">makeProject</span>({
  <span class="hljs-attr">experimentalFeatures</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-comment">// ...</span>
});</code></pre><p><a href='https://motioncanvas.io/docs/experimental' target='_blank'>Learn more</a> about experimental
features.</p>
`}}const Vu=180/Math.PI,Mi=Math.PI/180;function xl(i,t,e){let n=0,s=i;e=e===void 0?n<s?1:-1:e;const r=[];let l=Math.max(Math.ceil((s-n)/e),0),c=0;for(;l--;)r[c++]=n,n+=e;return r}function Zu(i){const t=aa(),e=co();return t.timeEvents.register(i,e.time())}const ha=[];function Xl(){const i=ha.at(-1);if(!i)throw new Error("The playback is not available in the current context.");return i}function Ku(i){ha.push(i)}function Qu(i){if(ha.pop()!==i)throw new Error("startPlayback/endPlayback were called out of order.")}function Di(i,...t){const e={[i.name]:i},n=Object.getOwnPropertyDescriptor(e,i.name);if(n)for(let s=t.length-1;s>=0;s--)t[s](e,i.name,n)}const Sl=Symbol.for("@motion-canvas/core/decorators/UNINITIALIZED");function dr(i){return(t,e)=>{let n=Sl;Object.defineProperty(t,e,{get(){return n===Sl&&(n=i.call(this)),n}})}}function qt(i){return function(t,e,n){n.value.prototype.name=i??e,n.value.prototype.threadable=!0}}Di(D,qt());function*D(...i){for(const t of i)yield t;yield*Vl(...i)}Di(tf,qt());function*tf(i,t){yield*U(Zu(i)),t&&(yield*t)}Di(U,qt());function*U(i=0,t){const e=co(),n=Xl().framesToSeconds(1),s=e.time()+i;for(;s-n>e.fixed;)yield;e.time(s),t&&(yield*t)}Di(Gl,qt());function*Gl(){}function Cl(i,t){let e;return typeof i=="string"?(e=t(),ao(e,i)):(e=i(),ao(e,e)),e}function ef(i){return i&&(typeof i=="object"||typeof i=="function")&&"toPromise"in i}function ql(i){return i!==null&&typeof i=="object"&&Symbol.iterator in i&&"next"in i}function ao(i,t){const e=Object.getPrototypeOf(i);e.threadable||(e.threadable=!0,e.name=typeof t=="string"?t:Jl(t))}function Jl(i){return Object.getPrototypeOf(i).name??null}class Yo{get onDeferred(){return this.deferred.subscribable}get fixed(){return this.fixedTime}get canceled(){var t;return this.isCanceled||(((t=this.parent)==null?void 0:t.canceled)??!1)}get paused(){var t;return this.isPaused||(((t=this.parent)==null?void 0:t.paused)??!1)}get root(){var t;return((t=this.parent)==null?void 0:t.root)??this}constructor(t){this.runner=t,this.deferred=new Mn,this.children=[],this.time=Z(0),this.parent=null,this.isCanceled=!1,this.isPaused=!1,this.fixedTime=0,this.queue=[],this.runner.task&&(de().error({message:`The generator "${Jl(this.runner)}" is already being executed by another thread.`,remarks:`<p>This usually happens when you mistakenly reuse a generator that is already
running.</p>
<p>For example, using <code>yield</code> here will run the opacity generator concurrently and
store it in the <code>task</code> variable (in case you want to cancel or await it later):</p>
<pre class=""><code class="language-ts"><span class="hljs-keyword">const</span> task = <span class="hljs-keyword">yield</span> <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">opacity</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);</code></pre><p>Trying to <code>yield</code> this task again will cause the current error:</p>
<pre class=""><code class="language-ts"><span class="hljs-keyword">yield</span> task;</code></pre><p>Passing it to other flow functions will also cause the error:</p>
<pre class=""><code class="language-ts"><span class="hljs-keyword">yield</span>* <span class="hljs-title function_">all</span>(task);</code></pre><p>Try to investigate your code looking for <code>yield</code> statements whose return value
is reused in this way. Here&#39;s an example of a common mistake:</p>
<pre class="wrong"><code class="language-ts"><span class="hljs-keyword">yield</span>* <span class="hljs-title function_">all</span>(
  <span class="hljs-keyword">yield</span> <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">opacity</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), 
  <span class="hljs-keyword">yield</span> <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">x</span>(<span class="hljs-number">200</span>, <span class="hljs-number">1</span>),
);</code></pre><pre class="correct"><code class="language-ts"><span class="hljs-keyword">yield</span>* <span class="hljs-title function_">all</span>(
  <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">opacity</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), 
  <span class="hljs-title function_">rect</span>().<span class="hljs-title function_">x</span>(<span class="hljs-number">200</span>, <span class="hljs-number">1</span>),
);</code></pre>`}),this.runner=Gl()),this.runner.task=this}next(){if(this.paused)return{value:null,done:!1};yl(this);const t=this.runner.next(this.value);return vl(this),this.value=null,t}update(t){this.paused||(this.time(this.time()+t),this.fixedTime+=t),this.children=this.children.filter(e=>!e.canceled)}spawn(t){return ql(t)||(t=t()),this.queue.push(t),t}add(t){t.parent=this,t.isCanceled=!1,t.time(this.time()),t.fixedTime=this.fixedTime,this.children.push(t),ao(t.runner,`unknown ${this.children.length}`)}drain(t){this.queue.forEach(t),this.queue=[]}cancel(){this.deferred.clear(),this.runner.return(),this.isCanceled=!0,this.parent=null,this.drain(t=>t.return())}pause(t){this.isPaused=t}runDeferred(){yl(this),this.deferred.dispatch(),vl(this)}}Di(Vl,qt());function*Vl(i,...t){let e=!0;typeof i=="boolean"?e=i:t.push(i);const n=co(),s=t.map(c=>n.children.find(f=>f.runner===c)).filter(c=>c),r=n.time();let l;if(e){for(;s.find(c=>!c.canceled);)yield;l=Math.max(...s.map(c=>c.time()))}else{for(;!s.find(f=>f.canceled);)yield;const c=s.filter(f=>f.canceled);l=Math.min(...c.map(f=>f.time()))}n.time(Math.max(r,l))}function nf(i){return typeof(i==null?void 0:i.then)=="function"}Di(Zl,qt());function*Zl(i,t){const e=Xl(),n=i();ao(n,"root");const s=new Yo(n);t==null||t(s);let r=[s];for(;r.length>0;){const l=[],c=[...r],f=e.deltaTime;for(;c.length>0;){const g=c.pop();if(!g||g.canceled)continue;const x=g.next();if(x.done){g.cancel();continue}if(ql(x.value)){const S=new Yo(x.value);g.value=x.value,g.add(S),c.push(g),c.push(S)}else x.value?(g.value=yield x.value,c.push(g)):(g.update(f),g.drain(S=>{const T=new Yo(S);g.add(T),l.unshift(T)}),l.unshift(g))}r=[];for(const g of l)g.canceled||(r.push(g),g.runDeferred());r.length>0&&(yield)}}var On;(function(i){i[i.BeforeRender=0]="BeforeRender",i[i.BeginRender=1]="BeginRender",i[i.FinishRender=2]="FinishRender",i[i.AfterRender=3]="AfterRender"})(On||(On={}));class sf{get onBeforeRender(){return this.beforeRender.subscribable}get onBeginRender(){return this.beginRender.subscribable}get onFinishRender(){return this.finishRender.subscribable}get onAfterRender(){return this.afterRender.subscribable}constructor(t){this.scene=t,this.beforeRender=new Mn,this.beginRender=new Mn,this.finishRender=new Mn,this.afterRender=new Mn,this.scene.onRenderLifecycle.subscribe(([e,n])=>{switch(e){case On.BeforeRender:return this.beforeRender.dispatch(n);case On.BeginRender:return this.beginRender.dispatch(n);case On.FinishRender:return this.finishRender.dispatch(n);case On.AfterRender:return this.afterRender.dispatch(n)}}),this.scene.onReset.subscribe(()=>{this.beforeRender.clear(),this.beginRender.clear(),this.finishRender.clear(),this.afterRender.clear()})}}class fr{constructor(t){this.state=t,this.nextGauss=null}static createSeed(){return Math.floor(Math.random()*4294967296)}nextFloat(t=0,e=1){return It(t,e,this.next())}nextInt(t=0,e=4294967296){let n=Math.floor(It(t,e,this.next()));return n===e&&(n=t),n}gauss(t=0,e=1){let n=this.nextGauss;if(this.nextGauss=null,n===null){const s=this.next()*2*Math.PI,r=Math.sqrt(-2*Math.log(1-this.next()));n=Math.cos(s)*r,this.nextGauss=Math.sin(s)*r}return t+n*e}floatArray(t,e=0,n=1){return xl(t).map(()=>this.nextFloat(e,n))}intArray(t,e=0,n=4294967296){return xl(t).map(()=>this.nextInt(e,n))}spawn(){return new fr(this.nextInt())}next(){this.state|=0,this.state=this.state+1831565813|0;let t=Math.imul(this.state^this.state>>>15,1|this.state);return t=t+Math.imul(t^t>>>7,61|t)^t,((t^t>>>14)>>>0)/4294967296}}var fe;(function(i){i[i.Initial=0]="Initial",i[i.AfterTransitionIn=1]="AfterTransitionIn",i[i.CanTransitionOut=2]="CanTransitionOut",i[i.Finished=3]="Finished"})(fe||(fe={}));const rf="resolution",of="destinationTexture",af="sourceTexture",kl="time",lf="deltaTime",hf="framerate",cf="sourceMatrix",uf="destinationMatrix",ff=`#version 300 es

in vec2 position;

out vec2 screenUV;
out vec2 sourceUV;
out vec2 destinationUV;

uniform mat4 sourceMatrix;
uniform mat4 destinationMatrix;

void main() {
    vec2 position_source = position * 0.5 + 0.5;
    vec4 position_screen = sourceMatrix * vec4(position_source, 0, 1);

    screenUV = position_screen.xy;
    sourceUV = position_source;
    destinationUV = (destinationMatrix * position_screen).xy;

    gl_Position = (position_screen - 0.5) * 2.0;
}
`;class df{constructor(t,e){this.scene=t,this.sharedContext=e,this.gl=null,this.positionBuffer=null,this.sourceTexture=null,this.destinationTexture=null,this.positionLocation=0,this.quadPositions=new Float32Array([-1,1,-1,-1,1,1,1,-1]),this.handleReload=()=>{this.gl&&this.updateViewport()},t.onReloaded.subscribe(this.handleReload)}setup(t){this.gl=t,this.updateViewport(),this.positionBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer),t.bufferData(t.ARRAY_BUFFER,this.quadPositions,t.STATIC_DRAW),t.vertexAttribPointer(this.positionLocation,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(this.positionLocation),this.sourceTexture=t.createTexture(),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.sourceTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.destinationTexture=t.createTexture(),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this.destinationTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}teardown(t){t.deleteBuffer(this.positionBuffer),t.disableVertexAttribArray(this.positionLocation),t.deleteTexture(this.sourceTexture),t.deleteTexture(this.destinationTexture),this.positionBuffer=null,this.sourceTexture=null,this.destinationTexture=null,this.gl=null}updateViewport(){if(this.gl){const t=this.scene.getRealSize();this.gl.canvas.width=t.width,this.gl.canvas.height=t.height,this.gl.viewport(0,0,t.width,t.height)}}getGL(){return this.gl??this.sharedContext.borrow(this)}getProgram(t){const e=this.sharedContext.getProgram(t,ff);if(!e)return null;const n=this.scene.getRealSize(),s=this.getGL();return s.useProgram(e),s.uniform1i(s.getUniformLocation(e,af),0),s.uniform1i(s.getUniformLocation(e,of),1),s.uniform2f(s.getUniformLocation(e,rf),n.x,n.y),s.uniform1f(s.getUniformLocation(e,lf),this.scene.playback.deltaTime),s.uniform1f(s.getUniformLocation(e,hf),this.scene.playback.fps),e}copyTextures(t,e){this.copyTexture(e,this.sourceTexture),this.copyTexture(t,this.destinationTexture)}clear(){const t=this.getGL();t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)}render(){const t=this.getGL();t.drawArrays(t.TRIANGLE_STRIP,0,4)}copyTexture(t,e){const n=this.getGL();n.bindTexture(n.TEXTURE_2D,e),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,t),n.generateMipmap(n.TEXTURE_2D)}}class pf{get onChanged(){return this.slides.subscribable}constructor(t){this.scene=t,this.slides=new wn([]),this.lookup=new Map,this.collisionLookup=new Set,this.current=null,this.canResume=!1,this.waitsForId=null,this.targetId=null,this.handleReload=()=>{this.lookup.clear(),this.collisionLookup.clear(),this.current=null,this.waitsForId=null,this.targetId=null},this.handleReset=()=>{this.collisionLookup.clear(),this.current=null,this.waitsForId=null},this.handleRecalculated=()=>{this.slides.current=[...this.lookup.values()]},this.scene.onReloaded.subscribe(this.handleReload),this.scene.onReset.subscribe(this.handleReset),this.scene.onRecalculated.subscribe(this.handleRecalculated)}setTarget(t){this.targetId=t}resume(){this.canResume=!0}isWaitingFor(t){return this.waitsForId===t}isWaiting(){return this.waitsForId!==null}didHappen(t){var e;if(this.current===null)return!1;for(const n of this.lookup.keys()){if(n===t)return!0;if(n===((e=this.current)==null?void 0:e.id))return!1}return!1}getCurrent(){return this.current}register(t,e){if(this.waitsForId!==null)throw new Error(`The animation already waits for a slide: ${this.waitsForId}.`);const n=this.toId(t);this.scene.playback.state!==ur.Presenting&&(this.lookup.has(n)||this.lookup.set(n,{id:n,name:t,time:e,scene:this.scene,stack:new Error().stack}),this.collisionLookup.has(t)?this.scene.logger.warn({message:`A slide named "${t}" already exists.`,stack:new Error().stack}):this.collisionLookup.add(t)),this.waitsForId=n,this.current=this.lookup.get(n)??null,this.canResume=!1}shouldWait(t){const e=this.toId(t);if(this.waitsForId!==e)throw new Error(`The animation waits for a different slide: ${this.waitsForId}.`);if(!this.lookup.get(e))throw new Error(`Could not find the "${t}" slide.`);let s=this.canResume;return this.scene.playback.state!==ur.Presenting&&(s=e!==this.targetId),s&&(this.waitsForId=null),!s}toId(t){return`${this.scene.name}:${t}`}}class gf{constructor(t){this.scene=t,this.signals={},this.variables={},this.handleReset=()=>{this.signals={}},t.onReset.subscribe(this.handleReset)}get(t,e){var n;return(n=this.signals)[t]??(n[t]=Z(this.variables[t]??e)),()=>this.signals[t]()}updateSignals(t){this.variables=t,Object.keys(t).map(e=>{e in this.signals&&this.signals[e](t[e])})}}class mf{get firstFrame(){return this.cache.current.firstFrame}get lastFrame(){return this.firstFrame+this.cache.current.duration}get onCacheChanged(){return this.cache.subscribable}get onReloaded(){return this.reloaded.subscribable}get onRecalculated(){return this.recalculated.subscribable}get onThreadChanged(){return this.thread.subscribable}get onRenderLifecycle(){return this.renderLifecycle.subscribable}get onReset(){return this.afterReset.subscribable}get LifecycleEvents(){return this.logger.warn("LifecycleEvents is deprecated. Use lifecycleEvents instead."),this.lifecycleEvents}get previous(){return this.previousScene}constructor(t){this.cache=new wn({firstFrame:0,transitionDuration:0,duration:0,lastFrame:0}),this.reloaded=new Mn,this.recalculated=new Mn,this.thread=new wn(null),this.renderLifecycle=new Mn,this.afterReset=new Mn,this.lifecycleEvents=new sf(this),this.previousScene=null,this.runner=null,this.state=fe.Initial,this.cached=!1,this.counters={},this.name=t.name,this.size=t.size,this.resolutionScale=t.resolutionScale,this.logger=t.logger,this.playback=t.playback,this.meta=t.meta,this.runnerFactory=t.config,this.creationStack=t.stack,this.experimentalFeatures=t.experimentalFeatures??!1,Di(this.runnerFactory,qt(this.name)),this.timeEvents=new t.timeEventsClass(this),this.variables=new gf(this),this.shaders=new df(this,t.sharedWebGLContext),this.slides=new pf(this),this.random=new fr(this.meta.seed.get()),this.previousOnTop=!1}update(){}async render(t){let e=0;do e++,await Kt.consumePromises(),t.save(),t.clearRect(0,0,t.canvas.width,t.canvas.height),this.execute(()=>this.draw(t)),t.restore();while(Kt.hasPromises()&&e<10);e>1&&this.logger.debug(`render iterations: ${e}`)}reload({config:t,size:e,stack:n,resolutionScale:s}={}){t&&(this.runnerFactory=t),e&&(this.size=e),s&&(this.resolutionScale=s),n&&(this.creationStack=n),this.cached=!1,this.reloaded.dispatch()}async recalculate(t){const e=this.cache.current;if(e.firstFrame=this.playback.frame,e.lastFrame=e.firstFrame+e.duration,this.isCached()){t(e.lastFrame),this.cache.current={...e};return}for(e.transitionDuration=-1,await this.reset();!this.canTransitionOut();)e.transitionDuration<0&&this.state===fe.AfterTransitionIn&&(e.transitionDuration=this.playback.frame-e.firstFrame),t(this.playback.frame+1),await this.next();e.transitionDuration===-1&&(e.transitionDuration=0),e.lastFrame=this.playback.frame,e.duration=e.lastFrame-e.firstFrame,await new Promise(n=>setTimeout(n,0)),this.cached=!0,this.cache.current={...e},this.recalculated.dispatch()}async next(){var e;if(!this.runner)return;let t=this.execute(()=>this.runner.next());for(this.update();t.value;){if(ef(t.value)){const n=await t.value.toPromise();t=this.execute(()=>this.runner.next(n))}else if(nf(t.value)){const n=await t.value;t=this.execute(()=>this.runner.next(n))}else this.logger.warn({message:"Invalid value yielded by the scene.",object:t.value}),t=this.execute(()=>this.runner.next(t.value));this.update()}if(Kt.hasPromises()){const n=await Kt.consumePromises();this.logger.error({message:"Tried to access an asynchronous property before the node was ready. Make sure to yield the node before accessing the property.",stack:n[0].stack,inspect:((e=n[0].owner)==null?void 0:e.key)??void 0})}t.done&&(this.state=fe.Finished)}async reset(t=null){this.counters={},this.previousScene=t,this.previousOnTop=!1,this.random=new fr(this.meta.seed.get()),this.runner=Zl(()=>this.runnerFactory(this.getView()),e=>{this.thread.current=e}),this.state=fe.AfterTransitionIn,this.afterReset.dispatch(),await this.next()}getSize(){return this.size}getRealSize(){return this.size.mul(this.resolutionScale)}isAfterTransitionIn(){return this.state===fe.AfterTransitionIn}canTransitionOut(){return this.state===fe.CanTransitionOut||this.state===fe.Finished}isFinished(){return this.state===fe.Finished}enterInitial(){this.state===fe.AfterTransitionIn?this.state=fe.Initial:this.logger.warn(`Scene ${this.name} entered initial in an unexpected state: ${this.state}`)}enterAfterTransitionIn(){this.state===fe.Initial?this.state=fe.AfterTransitionIn:this.logger.warn(`Scene ${this.name} transitioned in an unexpected state: ${this.state}`)}enterCanTransitionOut(){this.state===fe.AfterTransitionIn||this.state===fe.Initial?this.state=fe.CanTransitionOut:this.logger.warn(`Scene ${this.name} was marked as finished in an unexpected state: ${this.state}`)}isCached(){return this.cached}execute(t){let e;ju(this),Ku(this.playback);try{e=t()}finally{Qu(this.playback),Nu(this)}return e}}function yf(){return new Fi("scene",{version:new Je("version",1),timeEvents:new Je("time events",[]),seed:new Je("seed",fr.createSeed())})}function Kl(i,t,e){const n=[...i],s=[...t];if(s.length>=n.length){const r=Math.floor(s.length*e),l=Math.floor(It(n.length-1,s.length,e));let c="";for(let f=0;f<s.length;f++)f<r?c+=s[f]:(n[f]||f<=l)&&(c+=n[f]??s[f]);return c}else{const r=Math.round(n.length*(1-e)),l=Math.floor(It(n.length+1,s.length,e)),c=[];for(let f=n.length-1;f>=0;f--)f<r?c.unshift(n[f]):(s[f]||f<l)&&c.unshift(s[f]??n[f]);return c.join("")}}function Bs(i,t,e,n=!1){if(e===0)return i;if(e===1)return t;if(i==null||t==null){n||de().warn(`Attempting to lerp ${i} -> ${t} may result in unexpected behavior.`);return}if(typeof i=="number"&&typeof t=="number")return It(i,t,e);if(typeof i=="string"&&typeof t=="string")return Kl(i,t,e);if(typeof i=="boolean"&&typeof t=="boolean")return e<.5?i:t;if("lerp"in i)return i.lerp(t,e);if(i&&t&&typeof i=="object"&&typeof t=="object")if(Array.isArray(i)&&Array.isArray(t)){if(i.length===t.length)return i.map((s,r)=>Bs(s,t[r],e))}else{let s=!1;if(!(i instanceof Map)&&!(t instanceof Map)&&(s=!0,i=new Map(Object.entries(i)),t=new Map(Object.entries(t))),i instanceof Map&&t instanceof Map){const r=new Map;for(const l of new Set([...i.keys(),...t.keys()])){const c=Bs(i.get(l),t.get(l),e,!0);c!==void 0&&r.set(l,c)}return s?Object.fromEntries(r):r}}return t}function vf(i,t,e){return e<.5?i:t}function It(i,t,e){return i+(t-i)*e}function bf(i,t,e,n,s){return e+(s-i)*(n-e)/(t-i)}function Fe(i,t,e){return e<i?i:e>t?t:e}function Ql(i,t,e){let n=t;e>1?e=1/e:n=!n;const s=n?Math.acos(Fe(-1,1,1-i)):Math.asin(i),r=It(s,It(0,Math.PI/2,i),e);let l=Math.sin(r),c=1-Math.cos(r);return t&&([l,c]=[c,l]),new y(l,c)}function w(i,t=0,e=1){return i=i<.5?4*i*i*i:1-Math.pow(-2*i+2,3)/2,It(t,e,i)}function wf(i,t=0,e=1){return i=i===1?1:1-Math.pow(2,-10*i),It(t,e,i)}function es(i,t=0,e=1){return It(t,e,i)}Di(vn,qt());function*vn(i,t,e){const n=co(),s=n.time(),r=n.time()+i;for(t(0,0);r>n.fixed;){const l=n.fixed-s,c=l/i;l>0&&t(c,l),yield}n.time(r),t(1,i),e==null||e(1,i)}class Kt{static collectPromise(t,e=null){const n={promise:t,value:e,stack:new Error().stack},s=this.collectionStack.at(-1);return s&&(n.owner=s.owner),t.then(r=>{n.value=r,s==null||s.markDirty()}),this.promises.push(n),n}static hasPromises(){return this.promises.length>0}static async consumePromises(){const t=[...this.promises];return await Promise.all(t.map(e=>e.promise)),this.promises=this.promises.filter(e=>!t.includes(e)),t}constructor(t){this.owner=t,this.dependencies=new Set,this.event=new $u,this.markDirty=()=>this.event.raise(),this.invokable=this.invoke.bind(this),Object.defineProperty(this.invokable,"context",{value:this}),Object.defineProperty(this.invokable,"toPromise",{value:this.toPromise.bind(this)})}invoke(){}startCollecting(){if(Kt.collectionSet.has(this))throw new Ul("A circular dependency occurred between signals.",`This can happen when signals reference each other in a loop.
        Try using the attached stack trace to locate said loop.`);Kt.collectionSet.add(this),Kt.collectionStack.push(this)}finishCollecting(){if(Kt.collectionSet.delete(this),Kt.collectionStack.pop()!==this)throw new Error("collectStart/collectEnd was called out of order.")}clearDependencies(){this.dependencies.forEach(t=>t.unsubscribe(this.markDirty)),this.dependencies.clear()}collect(){const t=Kt.collectionStack.at(-1);t&&(t.dependencies.add(this.event.subscribable),this.event.subscribe(t.markDirty))}dispose(){this.clearDependencies(),this.event.clear(),this.owner=null}async toPromise(){do await Kt.consumePromises(),this.invokable();while(Kt.hasPromises());return this.invokable}}Kt.collectionSet=new Set;Kt.collectionStack=[];Kt.promises=[];const $s=Symbol.for("@motion-canvas/core/signals/default");function ni(i){return typeof i=="function"}function ls(i,t){return ni(i)?()=>t(i()):t(i)}function Fn(i){return ni(i)?i():i}class cs extends Kt{constructor(t,e,n=void 0,s=l=>l,r={}){super(n),this.initial=t,this.interpolation=e,this.parser=s,this.tweening=!1,Object.defineProperty(this.invokable,"reset",{value:this.reset.bind(this)}),Object.defineProperty(this.invokable,"save",{value:this.save.bind(this)}),Object.defineProperty(this.invokable,"isInitial",{value:this.isInitial.bind(this)}),this.initial!==void 0&&(this.current=this.initial,this.markDirty(),ni(this.initial)||(this.last=this.parse(this.initial))),this.extensions={getter:this.getter.bind(this),setter:this.setter.bind(this),tweener:this.tweener.bind(this),...r}}toSignal(){return this.invokable}parse(t){return this.parser(t)}set(t){return this.extensions.setter(t),this.owner}setter(t){return t===$s&&(t=this.initial),this.current===t?this.owner:(this.current=t,this.clearDependencies(),ni(t)||(this.last=this.parse(t)),this.markDirty(),this.owner)}get(){return this.extensions.getter()}getter(){var t;if(this.event.isRaised()&&ni(this.current)){this.clearDependencies(),this.startCollecting();try{this.last=this.parse(this.current())}catch(e){de().error({...Yl(e),inspect:(t=this.owner)==null?void 0:t.key})}this.finishCollecting()}return this.event.reset(),this.collect(),this.last}invoke(t,e,n=w,s=this.interpolation){return t===void 0?this.get():e===void 0?this.set(t):this.createQueue(n,s).to(t,e)}createQueue(t,e){const n=this.get(),s=[],r=Cl("animation chain",function*(){for(;s.length>0;)yield*s.shift()});return r.to=(l,c,f=t,g=e)=>(t=f,e=g,s.push(this.tween(l,c,f,g)),r),r.back=(l,c=t,f=e)=>(t=c,e=f,s.push(this.tween(n,l,t,e)),r),r.wait=l=>(s.push(U(l)),r),r.run=l=>(s.push(l),r),r.do=l=>(s.push(Cl(function*(){l()})),r),r}*tween(t,e,n,s){t===$s&&(t=this.initial),this.tweening=!0,yield*this.extensions.tweener(t,e,n,s),this.set(t),this.tweening=!1}*tweener(t,e,n,s){const r=this.get();yield*vn(e,l=>{this.set(s(r,this.parse(Fn(t)),n(l)))})}dispose(){super.dispose(),this.initial=void 0,this.current=void 0,this.last=void 0}reset(){return this.initial!==void 0&&this.set(this.initial),this.owner}save(){return this.set(this.get())}isInitial(){return this.collect(),this.current===this.initial}getInitial(){return this.initial}raw(){return this.current}isTweening(){return this.tweening}}class uo extends cs{constructor(t,e,n,s,r=void 0,l={}){var c;super(void 0,s,r,e,l),this.entries=t,this.signals=[],this.parser=e;for(const f of t){let g,x;Array.isArray(f)?([g,x]=f,(c=x.context).owner??(c.owner=this)):(g=f,x=new cs(ls(n,S=>e(S)[f]),It,r??this.invokable).toSignal()),this.signals.push([g,x]),Object.defineProperty(this.invokable,g,{value:x})}}toSignal(){return this.invokable}parse(t){return this.parser(t)}getter(){return this.parse(Object.fromEntries(this.signals.map(([t,e])=>[t,e()])))}setter(t){if(ni(t))for(const[e,n]of this.signals)n(()=>this.parser(t())[e]);else{const e=this.parse(t);for(const[n,s]of this.signals)s(e[n])}return this.owner}reset(){for(const[,t]of this.signals)t.reset();return this.owner}save(){for(const[,t]of this.signals)t.save();return this.owner}isInitial(){for(const[,t]of this.signals)if(!t.isInitial())return!1;return!0}raw(){return Object.fromEntries(this.signals.map(([t,e])=>[t,e.context.raw()]))}}class xf extends Kt{constructor(t,e){super(e),this.factory=t,this.markDirty()}toSignal(){return this.invokable}dispose(){super.dispose(),this.last=void 0}invoke(...t){var e;if(this.event.isRaised()){this.clearDependencies(),this.startCollecting();try{this.last=this.factory(...t)}catch(n){de().error({...Yl(n),inspect:(e=this.owner)==null?void 0:e.key})}this.finishCollecting()}return this.event.reset(),this.collect(),this.last}}class th extends uo{constructor(t,e,n,s,r=void 0,l={}){super(t,e,n,s,r,l),Object.defineProperty(this.invokable,"edit",{value:this.edit.bind(this)}),Object.defineProperty(this.invokable,"mul",{value:this.mul.bind(this)}),Object.defineProperty(this.invokable,"div",{value:this.div.bind(this)}),Object.defineProperty(this.invokable,"add",{value:this.add.bind(this)}),Object.defineProperty(this.invokable,"sub",{value:this.sub.bind(this)}),Object.defineProperty(this.invokable,"dot",{value:this.dot.bind(this)}),Object.defineProperty(this.invokable,"cross",{value:this.cross.bind(this)}),Object.defineProperty(this.invokable,"mod",{value:this.mod.bind(this)})}toSignal(){return this.invokable}edit(t,e,n,s){const r=t(this.get());return this.invoke(r,e,n,s)}mul(t,e,n,s){const r=l=>l.mul(t);return e===void 0?this.edit(r):this.edit(r,e,n,s)}div(t,e,n,s){const r=l=>l.div(t);return e===void 0?this.edit(r):this.edit(r,e,n,s)}add(t,e,n,s){const r=l=>l.add(t);return e===void 0?this.edit(r):this.edit(r,e,n,s)}sub(t,e,n,s){const r=l=>l.sub(t);return e===void 0?this.edit(r):this.edit(r,e,n,s)}dot(t,e,n,s){const r=l=>l.dot(t);return e===void 0?this.edit(r):this.edit(r,e,n,s)}cross(t,e,n,s){const r=l=>l.cross(t);return e===void 0?this.edit(r):this.edit(r,e,n,s)}mod(t,e,n,s){const r=l=>l.mod(t);return e===void 0?this.edit(r):this.edit(r,e,n,s)}}function Sf(i,t){return new xf(i,t).toSignal()}function Z(i,t=Bs,e){return new cs(i,t,e).toSignal()}class yn{static createSignal(t,e=yn.lerp){return new uo(["top","right","bottom","left"],n=>new yn(n),t,e).toSignal()}static lerp(t,e,n){return new yn(It(t.top,e.top,n),It(t.right,e.right,n),It(t.bottom,e.bottom,n),It(t.left,e.left,n))}get x(){return this.left+this.right}get y(){return this.top+this.bottom}constructor(t=0,e,n,s){if(this.top=0,this.right=0,this.bottom=0,this.left=0,t!=null){if(Array.isArray(t)&&(s=t[3],n=t[2],e=t[1],t=t[0]),typeof t=="number"){this.top=t,this.right=e!==void 0?e:t,this.bottom=n!==void 0?n:t,this.left=s!==void 0?s:e!==void 0?e:t;return}this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left}}lerp(t,e){return yn.lerp(this,t,e)}scale(t){return new yn(this.top*t,this.right*t,this.bottom*t,this.left*t)}addScalar(t){return new yn(this.top+t,this.right+t,this.bottom+t,this.left+t)}toSymbol(){return yn.symbol}toString(){return`Spacing(${this.top}, ${this.right}, ${this.bottom}, ${this.left})`}toUniform(t,e){t.uniform4f(e,this.top,this.right,this.bottom,this.left)}serialize(){return{top:this.top,right:this.right,bottom:this.bottom,left:this.left}}}yn.symbol=Symbol.for("@motion-canvas/core/types/Spacing");const hr=1e-6;class Wt{static fromRotation(t){return Wt.identity.rotate(t)}static fromTranslation(t){return Wt.identity.translate(new y(t))}static fromScaling(t){return Wt.identity.scale(new y(t))}get x(){return new y(this.values[0],this.values[1])}get y(){return new y(this.values[2],this.values[3])}get scaleX(){return this.values[0]}set scaleX(t){this.values[0]=this.x.normalized.scale(t).x}get skewX(){return this.values[1]}set skewX(t){this.values[1]=t}get scaleY(){return this.values[3]}set scaleY(t){this.values[3]=this.y.normalized.scale(t).y}get skewY(){return this.values[2]}set skewY(t){this.values[2]=t}get translateX(){return this.values[4]}set translateX(t){this.values[4]=t}get translateY(){return this.values[5]}set translateY(t){this.values[5]=t}get rotation(){return y.degrees(this.values[0],this.values[1])}set rotation(t){const e=this.rotate(t-this.rotation);this.values[0]=e.values[0],this.values[1]=e.values[1],this.values[2]=e.values[2],this.values[3]=e.values[3]}get translation(){return new y(this.values[4],this.values[5])}set translation(t){const e=new y(t);this.values[4]=e.x,this.values[5]=e.y}get scaling(){return new y(this.values[0],this.values[3])}set scaling(t){const e=new y(t),n=new y(this.values[0],this.values[1]).normalized,s=new y(this.values[2],this.values[3]).normalized;this.values[0]=n.x*e.x,this.values[1]=n.y*e.y,this.values[2]=s.x*e.x,this.values[3]=s.y*e.y}get inverse(){const t=this.values[0],e=this.values[1],n=this.values[2],s=this.values[3],r=this.values[4],l=this.values[5];let c=t*s-e*n;return c?(c=1/c,new Wt(s*c,-e*c,-n*c,t*c,(n*l-s*r)*c,(e*r-t*l)*c)):null}get determinant(){return this.values[0]*this.values[3]-this.values[1]*this.values[2]}get domMatrix(){return new DOMMatrix([this.values[0],this.values[1],this.values[2],this.values[3],this.values[4],this.values[5]])}constructor(t,e,n,s,r,l){if(this.values=new Float32Array(6),arguments.length===0){this.values=new Float32Array([1,0,0,1,0,0]);return}if(arguments.length===6){this.values[0]=t,this.values[1]=e,this.values[2]=n,this.values[3]=s,this.values[4]=r,this.values[5]=l;return}if(t instanceof DOMMatrix){this.values[0]=t.m11,this.values[1]=t.m12,this.values[2]=t.m21,this.values[3]=t.m22,this.values[4]=t.m41,this.values[5]=t.m42;return}if(t instanceof Wt){this.values=t.values;return}if(Array.isArray(t)){if(t.length===2){this.values[0]=t[0],this.values[1]=t[1],this.values[2]=e[0],this.values[3]=e[1],this.values[4]=n[0],this.values[5]=n[1];return}if(t.length===3){const x=new y(t[0]),S=new y(t[1]),T=new y(t[2]);this.values[0]=x.x,this.values[1]=x.y,this.values[2]=S.x,this.values[3]=S.y,this.values[4]=T.x,this.values[5]=T.y;return}this.values[0]=t[0],this.values[1]=t[1],this.values[2]=t[2],this.values[3]=t[3],this.values[4]=t[4],this.values[5]=t[5];return}const c=new y(t),f=new y(e),g=new y(n);this.values[0]=c.x,this.values[1]=c.y,this.values[2]=f.x,this.values[3]=f.y,this.values[4]=g.x,this.values[5]=g.y}column(t){return new y(this.values[t*2],this.values[t*2+1])}row(t){return[this.values[t],this.values[t+2],this.values[t+4]]}mul(t){const e=this.values[0],n=this.values[1],s=this.values[2],r=this.values[3],l=this.values[4],c=this.values[5],f=t.values[0],g=t.values[1],x=t.values[2],S=t.values[3],T=t.values[4],N=t.values[5];return new Wt(e*f+s*g,n*f+r*g,e*x+s*S,n*x+r*S,e*T+s*N+l,n*T+r*N+c)}rotate(t,e=!0){e&&(t*=Mi);const n=this.values[0],s=this.values[1],r=this.values[2],l=this.values[3],c=this.values[4],f=this.values[5],g=Math.sin(t),x=Math.cos(t);return new Wt(n*x+r*g,s*x+l*g,n*-g+r*x,s*-g+l*x,c,f)}scale(t){const e=new y(t);return new Wt(this.values[0]*e.x,this.values[1]*e.x,this.values[2]*e.y,this.values[3]*e.y,this.values[4],this.values[5])}mulScalar(t){return new Wt(this.values[0]*t,this.values[1]*t,this.values[2]*t,this.values[3]*t,this.values[4]*t,this.values[5]*t)}translate(t){const e=new y(t);return new Wt(this.values[0],this.values[1],this.values[2],this.values[3],this.values[0]*e.x+this.values[2]*e.y+this.values[4],this.values[1]*e.x+this.values[3]*e.y+this.values[5])}add(t){return new Wt(this.values[0]+t.values[0],this.values[1]+t.values[1],this.values[2]+t.values[2],this.values[3]+t.values[3],this.values[4]+t.values[4],this.values[5]+t.values[5])}sub(t){return new Wt(this.values[0]-t.values[0],this.values[1]-t.values[1],this.values[2]-t.values[2],this.values[3]-t.values[3],this.values[4]-t.values[4],this.values[5]-t.values[5])}toSymbol(){return Wt.symbol}toUniform(t,e){t.uniformMatrix3fv(e,!1,[this.values[0],this.values[1],0,this.values[2],this.values[3],0,this.values[4],this.values[5],1])}equals(t,e=hr){return Math.abs(this.values[0]-t.values[0])<=e+Number.EPSILON&&Math.abs(this.values[1]-t.values[1])<=e+Number.EPSILON&&Math.abs(this.values[2]-t.values[2])<=e+Number.EPSILON&&Math.abs(this.values[3]-t.values[3])<=e+Number.EPSILON&&Math.abs(this.values[4]-t.values[4])<=e+Number.EPSILON&&Math.abs(this.values[5]-t.values[5])<=e+Number.EPSILON}exactlyEquals(t){return this.values[0]===t.values[0]&&this.values[1]===t.values[1]&&this.values[2]===t.values[2]&&this.values[3]===t.values[3]&&this.values[4]===t.values[4]&&this.values[5]===t.values[5]}}Wt.symbol=Symbol.for("@motion-canvas/core/types/Matrix2D");Wt.identity=new Wt(1,0,0,1,0,0);Wt.zero=new Wt(0,0,0,0,0,0);var Tl;(function(i){i[i.Vertical=1]="Vertical",i[i.Horizontal=2]="Horizontal"})(Tl||(Tl={}));var Ne;(function(i){i[i.Top=4]="Top",i[i.Bottom=8]="Bottom",i[i.Left=16]="Left",i[i.Right=32]="Right"})(Ne||(Ne={}));var Ht;(function(i){i[i.Middle=3]="Middle",i[i.Top=5]="Top",i[i.Bottom=9]="Bottom",i[i.Left=18]="Left",i[i.Right=34]="Right",i[i.TopLeft=20]="TopLeft",i[i.TopRight=36]="TopRight",i[i.BottomLeft=24]="BottomLeft",i[i.BottomRight=40]="BottomRight"})(Ht||(Ht={}));function Cf(i){if(i===Ht.Middle)return y.zero;let t=0;i&Ne.Left?t=-1:i&Ne.Right&&(t=1);let e=0;return i&Ne.Top?e=-1:i&Ne.Bottom&&(e=1),new y(t,e)}class y{static createSignal(t,e=y.lerp,n){return new th(["x","y"],s=>new y(s),t,e,n).toSignal()}static lerp(t,e,n){let s,r;return typeof n=="number"?s=r=n:(s=n.x,r=n.y),new y(It(t.x,e.x,s),It(t.y,e.y,r))}static arcLerp(t,e,n,s=!1,r){return r??(r=t.sub(e).ctg),y.lerp(t,e,Ql(n,s,r))}static createArcLerp(t,e){return(n,s,r)=>y.arcLerp(n,s,r,t,e)}static polarLerp(t,e,n,s=!1,r=y.zero){t=t.sub(r),e=e.sub(r);const l=t.degrees;let c=e.degrees;l>c!==s&&(c=c+(s?-360:360));const g=It(l,c,n)*Mi,x=It(t.magnitude,e.magnitude,n);return new y(x*Math.cos(g)+r.x,x*Math.sin(g)+r.y)}static createPolarLerp(t=!1,e=y.zero){return(n,s,r)=>y.polarLerp(n,s,r,t,new y(e))}static fromOrigin(t){const e=new y;return t===Ht.Middle||(t&Ne.Left?e.x=-1:t&Ne.Right&&(e.x=1),t&Ne.Top?e.y=-1:t&Ne.Bottom&&(e.y=1)),e}static fromScalar(t){return new y(t,t)}static fromRadians(t){return new y(Math.cos(t),Math.sin(t))}static fromDegrees(t){return y.fromRadians(t*Mi)}static radians(t,e){return Math.atan2(e,t)}static degrees(t,e){return y.radians(t,e)*Vu}static magnitude(t,e){return Math.sqrt(t*t+e*e)}static squaredMagnitude(t,e){return t*t+e*e}static angleBetween(t,e){return Math.acos(Fe(-1,1,t.dot(e)/(t.magnitude*e.magnitude)))*(t.cross(e)>=0?1:-1)}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}get magnitude(){return y.magnitude(this.x,this.y)}get squaredMagnitude(){return y.squaredMagnitude(this.x,this.y)}get normalized(){return this.scale(1/y.magnitude(this.x,this.y))}get safe(){return new y(isNaN(this.x)?0:this.x,isNaN(this.y)?0:this.y)}get flipped(){return new y(-this.x,-this.y)}get floored(){return new y(Math.floor(this.x),Math.floor(this.y))}get rounded(){return new y(Math.round(this.x),Math.round(this.y))}get ceiled(){return new y(Math.ceil(this.x),Math.ceil(this.y))}get perpendicular(){return new y(this.y,-this.x)}get radians(){return y.radians(this.x,this.y)}get degrees(){return y.degrees(this.x,this.y)}get ctg(){return this.x/this.y}constructor(t,e){if(this.x=0,this.y=0,t!=null){if(typeof t!="object"){this.x=t,this.y=e??t;return}if(Array.isArray(t)){this.x=t[0],this.y=t[1];return}if("width"in t){this.x=t.width,this.y=t.height;return}this.x=t.x,this.y=t.y}}lerp(t,e){return y.lerp(this,t,e)}getOriginOffset(t){const e=y.fromOrigin(t);return e.x*=this.x/2,e.y*=this.y/2,e}scale(t){return new y(this.x*t,this.y*t)}transformAsPoint(t){const e=new Wt(t);return new y(this.x*e.scaleX+this.y*e.skewY+e.translateX,this.x*e.skewX+this.y*e.scaleY+e.translateY)}transform(t){const e=new Wt(t);return new y(this.x*e.scaleX+this.y*e.skewY,this.x*e.skewX+this.y*e.scaleY)}mul(t){const e=new y(t);return new y(this.x*e.x,this.y*e.y)}div(t){const e=new y(t);return new y(this.x/e.x,this.y/e.y)}add(t){const e=new y(t);return new y(this.x+e.x,this.y+e.y)}sub(t){const e=new y(t);return new y(this.x-e.x,this.y-e.y)}dot(t){const e=new y(t);return this.x*e.x+this.y*e.y}cross(t){const e=new y(t);return this.x*e.y-this.y*e.x}mod(t){const e=new y(t);return new y(this.x%e.x,this.y%e.y)}rotate(t,e=y.zero){const n=new y(e),s=Wt.fromTranslation(n).rotate(t).translate(n.flipped);return this.transformAsPoint(s)}addX(t){return new y(this.x+t,this.y)}addY(t){return new y(this.x,this.y+t)}map(t){return new y(t(this.x,0),t(this.y,1))}toSymbol(){return y.symbol}toString(){return`Vector2(${this.x}, ${this.y})`}toArray(){return[this.x,this.y]}toUniform(t,e){t.uniform2f(e,this.x,this.y)}serialize(){return{x:this.x,y:this.y}}exactlyEquals(t){return this.x===t.x&&this.y===t.y}equals(t,e=hr){return Math.abs(this.x-t.x)<=e+Number.EPSILON&&Math.abs(this.y-t.y)<=e+Number.EPSILON}*[Symbol.iterator](){yield this.x,yield this.y}}y.symbol=Symbol.for("@motion-canvas/core/types/Vector2");y.zero=new y;y.one=new y(1,1);y.right=new y(1,0);y.left=new y(-1,0);y.up=new y(0,1);y.down=new y(0,-1);y.top=new y(0,-1);y.bottom=new y(0,1);y.topLeft=new y(-1,-1);y.topRight=new y(1,-1);y.bottomLeft=new y(-1,1);y.bottomRight=new y(1,1);class St{static createSignal(t,e=St.lerp){return new uo(["x","y","width","height"],n=>new St(n),t,e).toSignal()}static lerp(t,e,n){let s,r,l,c;return typeof n=="number"?s=r=l=c=n:n instanceof y?(s=l=n.x,r=c=n.y):(s=n.x,r=n.y,l=n.width,c=n.height),new St(It(t.x,e.x,s),It(t.y,e.y,r),It(t.width,e.width,l),It(t.height,e.height,c))}static arcLerp(t,e,n,s=!1,r){return r??(r=(t.position.sub(e.position).ctg+t.size.sub(e.size).ctg)/2),St.lerp(t,e,Ql(n,s,r))}static fromSizeCentered(t){return new St(-t.width/2,-t.height/2,t.width,t.height)}static fromPoints(...t){let e=1/0,n=1/0,s=-1/0,r=-1/0;for(const l of t)l.x>s&&(s=l.x),l.x<e&&(e=l.x),l.y>r&&(r=l.y),l.y<n&&(n=l.y);return new St(e,n,s-e,r-n)}static fromBBoxes(...t){let e=1/0,n=1/0,s=-1/0,r=-1/0;for(const l of t){const c=l.x+l.width;c>s&&(s=c),l.x<e&&(e=l.x);const f=l.y+l.height;f>r&&(r=f),l.y<n&&(n=l.y)}return new St(e,n,s-e,r-n)}lerp(t,e){return St.lerp(this,t,e)}get position(){return new y(this.x,this.y)}set position(t){this.x=t.x,this.y=t.y}get size(){return new y(this.width,this.height)}get center(){return new y(this.x+this.width/2,this.y+this.height/2)}get left(){return this.x}set left(t){this.width+=this.x-t,this.x=t}get right(){return this.x+this.width}set right(t){this.width=t-this.x}get top(){return this.y}set top(t){this.height+=this.y-t,this.y=t}get bottom(){return this.y+this.height}set bottom(t){this.height=t-this.y}get topLeft(){return this.position}get topRight(){return new y(this.x+this.width,this.y)}get bottomLeft(){return new y(this.x,this.y+this.height)}get bottomRight(){return new y(this.x+this.width,this.y+this.height)}get corners(){return[this.topLeft,this.topRight,this.bottomRight,this.bottomLeft]}get pixelPerfect(){return new St(Math.floor(this.x),Math.floor(this.y),Math.ceil(this.width+1),Math.ceil(this.height+1))}constructor(t,e=0,n=0,s=0){if(this.x=0,this.y=0,this.width=0,this.height=0,t!=null){if(typeof t=="number"){this.x=t,this.y=e,this.width=n,this.height=s;return}if(t instanceof y){this.x=t.x,this.y=t.y,e instanceof y&&(this.width=e.x,this.height=e.y);return}if(Array.isArray(t)){this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3];return}this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}}transform(t){return new St(this.position.transformAsPoint(t),this.size.transform(t))}transformCorners(t){return this.corners.map(e=>e.transformAsPoint(t))}expand(t){const e=new yn(t),n=new St(this);return n.left-=e.left,n.top-=e.top,n.right+=e.right,n.bottom+=e.bottom,n}addSpacing(t){return this.expand(t)}includes(t){return t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height}intersects(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top}intersection(t){const e=new St;return this.intersects(t)&&(e.left=Math.max(this.left,t.left),e.top=Math.max(this.top,t.top),e.right=Math.min(this.right,t.right),e.bottom=Math.min(this.bottom,t.bottom)),e}union(t){const e=new St;return e.left=Math.min(this.left,t.left),e.top=Math.min(this.top,t.top),e.right=Math.max(this.right,t.right),e.bottom=Math.max(this.bottom,t.bottom),e}toSymbol(){return St.symbol}toString(){return`BBox(${this.x}, ${this.y}, ${this.width}, ${this.height})`}toUniform(t,e){t.uniform4f(e,this.x,this.y,this.width,this.height)}serialize(){return{x:this.x,y:this.y,width:this.width,height:this.height}}}St.symbol=Symbol.for("@motion-canvas/core/types/Rect");var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eh={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(i,t){(function(e,n){i.exports=n()})(kf,function(){for(var e=function(o,a,h){return a===void 0&&(a=0),h===void 0&&(h=1),o<a?a:o>h?h:o},n=e,s=function(o){o._clipped=!1,o._unclipped=o.slice(0);for(var a=0;a<=3;a++)a<3?((o[a]<0||o[a]>255)&&(o._clipped=!0),o[a]=n(o[a],0,255)):a===3&&(o[a]=n(o[a],0,1));return o},r={},l=0,c=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];l<c.length;l+=1){var f=c[l];r["[object "+f+"]"]=f.toLowerCase()}var g=function(o){return r[Object.prototype.toString.call(o)]||"object"},x=g,S=function(o,a){return a===void 0&&(a=null),o.length>=3?Array.prototype.slice.call(o):x(o[0])=="object"&&a?a.split("").filter(function(h){return o[0][h]!==void 0}).map(function(h){return o[0][h]}):o[0]},T=g,N=function(o){if(o.length<2)return null;var a=o.length-1;return T(o[a])=="string"?o[a].toLowerCase():null},K=Math.PI,C={clip_rgb:s,limit:e,type:g,unpack:S,last:N,TWOPI:K*2,PITHIRD:K/3,DEG2RAD:K/180,RAD2DEG:180/K},$={format:{},autodetect:[]},W=C.last,st=C.clip_rgb,Ot=C.type,rt=$,at=function(){for(var a=[],h=arguments.length;h--;)a[h]=arguments[h];var u=this;if(Ot(a[0])==="object"&&a[0].constructor&&a[0].constructor===this.constructor)return a[0];var p=W(a),m=!1;if(!p){m=!0,rt.sorted||(rt.autodetect=rt.autodetect.sort(function(R,I){return I.p-R.p}),rt.sorted=!0);for(var d=0,v=rt.autodetect;d<v.length;d+=1){var b=v[d];if(p=b.test.apply(b,a),p)break}}if(rt.format[p]){var k=rt.format[p].apply(null,m?a:a.slice(0,-1));u._rgb=st(k)}else throw new Error("unknown format: "+a);u._rgb.length===3&&u._rgb.push(1)};at.prototype.toString=function(){return Ot(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var F=at,Et=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(Et.Color,[null].concat(o)))};Et.Color=F,Et.version="2.4.2";var yt=Et,Ct=C.unpack,zt=Math.max,jt=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=Ct(o,"rgb"),u=h[0],p=h[1],m=h[2];u=u/255,p=p/255,m=m/255;var d=1-zt(u,zt(p,m)),v=d<1?1/(1-d):0,b=(1-u-d)*v,k=(1-p-d)*v,R=(1-m-d)*v;return[b,k,R,d]},At=jt,ee=C.unpack,Qt=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];o=ee(o,"cmyk");var h=o[0],u=o[1],p=o[2],m=o[3],d=o.length>4?o[4]:1;return m===1?[0,0,0,d]:[h>=1?0:255*(1-h)*(1-m),u>=1?0:255*(1-u)*(1-m),p>=1?0:255*(1-p)*(1-m),d]},V=Qt,J=yt,mt=F,Nt=$,ne=C.unpack,He=C.type,ze=At;mt.prototype.cmyk=function(){return ze(this._rgb)},J.cmyk=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(mt,[null].concat(o,["cmyk"])))},Nt.format.cmyk=V,Nt.autodetect.push({p:2,test:function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];if(o=ne(o,"cmyk"),He(o)==="array"&&o.length===4)return"cmyk"}});var we=C.unpack,Ue=C.last,$e=function(o){return Math.round(o*100)/100},Dn=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=we(o,"hsla"),u=Ue(o)||"lsa";return h[0]=$e(h[0]||0),h[1]=$e(h[1]*100)+"%",h[2]=$e(h[2]*100)+"%",u==="hsla"||h.length>3&&h[3]<1?(h[3]=h.length>3?h[3]:1,u="hsla"):h.length=3,u+"("+h.join(",")+")"},In=Dn,Bi=C.unpack,Wi=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];o=Bi(o,"rgba");var h=o[0],u=o[1],p=o[2];h/=255,u/=255,p/=255;var m=Math.min(h,u,p),d=Math.max(h,u,p),v=(d+m)/2,b,k;return d===m?(b=0,k=Number.NaN):b=v<.5?(d-m)/(d+m):(d-m)/(2-d-m),h==d?k=(u-p)/(d-m):u==d?k=2+(p-h)/(d-m):p==d&&(k=4+(h-u)/(d-m)),k*=60,k<0&&(k+=360),o.length>3&&o[3]!==void 0?[k,b,v,o[3]]:[k,b,v]},Cn=Wi,ge=C.unpack,ie=C.last,se=In,ps=Cn,oi=Math.round,ai=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=ge(o,"rgba"),u=ie(o)||"rgb";return u.substr(0,3)=="hsl"?se(ps(h),u):(h[0]=oi(h[0]),h[1]=oi(h[1]),h[2]=oi(h[2]),(u==="rgba"||h.length>3&&h[3]<1)&&(h[3]=h.length>3?h[3]:1,u="rgba"),u+"("+h.slice(0,u==="rgb"?3:4).join(",")+")")},ji=ai,gs=C.unpack,li=Math.round,ms=function(){for(var o,a=[],h=arguments.length;h--;)a[h]=arguments[h];a=gs(a,"hsl");var u=a[0],p=a[1],m=a[2],d,v,b;if(p===0)d=v=b=m*255;else{var k=[0,0,0],R=[0,0,0],I=m<.5?m*(1+p):m+p-m*p,M=2*m-I,B=u/360;k[0]=B+1/3,k[1]=B,k[2]=B-1/3;for(var _=0;_<3;_++)k[_]<0&&(k[_]+=1),k[_]>1&&(k[_]-=1),6*k[_]<1?R[_]=M+(I-M)*6*k[_]:2*k[_]<1?R[_]=I:3*k[_]<2?R[_]=M+(I-M)*(2/3-k[_])*6:R[_]=M;o=[li(R[0]*255),li(R[1]*255),li(R[2]*255)],d=o[0],v=o[1],b=o[2]}return a.length>3?[d,v,b,a[3]]:[d,v,b,1]},hi=ms,ci=hi,kn=$,z=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,_t=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,he=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,bt=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,xe=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Se=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Ce=Math.round,Ut=function(o){o=o.toLowerCase().trim();var a;if(kn.format.named)try{return kn.format.named(o)}catch{}if(a=o.match(z)){for(var h=a.slice(1,4),u=0;u<3;u++)h[u]=+h[u];return h[3]=1,h}if(a=o.match(_t)){for(var p=a.slice(1,5),m=0;m<4;m++)p[m]=+p[m];return p}if(a=o.match(he)){for(var d=a.slice(1,4),v=0;v<3;v++)d[v]=Ce(d[v]*2.55);return d[3]=1,d}if(a=o.match(bt)){for(var b=a.slice(1,5),k=0;k<3;k++)b[k]=Ce(b[k]*2.55);return b[3]=+b[3],b}if(a=o.match(xe)){var R=a.slice(1,4);R[1]*=.01,R[2]*=.01;var I=ci(R);return I[3]=1,I}if(a=o.match(Se)){var M=a.slice(1,4);M[1]*=.01,M[2]*=.01;var B=ci(M);return B[3]=+a[4],B}};Ut.test=function(o){return z.test(o)||_t.test(o)||he.test(o)||bt.test(o)||xe.test(o)||Se.test(o)};var Yt=Ut,ke=yt,Te=F,Pe=$,Ze=C.type,en=ji,zn=Yt;Te.prototype.css=function(o){return en(this._rgb,o)},ke.css=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(Te,[null].concat(o,["css"])))},Pe.format.css=zn,Pe.autodetect.push({p:5,test:function(o){for(var a=[],h=arguments.length-1;h-- >0;)a[h]=arguments[h+1];if(!a.length&&Ze(o)==="string"&&zn.test(o))return"css"}});var q=F,Ye=yt,$n=$,Re=C.unpack;$n.format.gl=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=Re(o,"rgba");return h[0]*=255,h[1]*=255,h[2]*=255,h},Ye.gl=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(q,[null].concat(o,["gl"])))},q.prototype.gl=function(){var o=this._rgb;return[o[0]/255,o[1]/255,o[2]/255,o[3]]};var ui=C.unpack,me=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=ui(o,"rgb"),u=h[0],p=h[1],m=h[2],d=Math.min(u,p,m),v=Math.max(u,p,m),b=v-d,k=b*100/255,R=d/(255-b)*100,I;return b===0?I=Number.NaN:(u===v&&(I=(p-m)/b),p===v&&(I=2+(m-u)/b),m===v&&(I=4+(u-p)/b),I*=60,I<0&&(I+=360)),[I,k,R]},$t=me,re=C.unpack,Xe=Math.floor,ye=function(){for(var o,a,h,u,p,m,d=[],v=arguments.length;v--;)d[v]=arguments[v];d=re(d,"hcg");var b=d[0],k=d[1],R=d[2],I,M,B;R=R*255;var _=k*255;if(k===0)I=M=B=R;else{b===360&&(b=0),b>360&&(b-=360),b<0&&(b+=360),b/=60;var ct=Xe(b),pt=b-ct,wt=R*(1-k),kt=wt+_*(1-pt),ce=wt+_*pt,ae=wt+_;switch(ct){case 0:o=[ae,ce,wt],I=o[0],M=o[1],B=o[2];break;case 1:a=[kt,ae,wt],I=a[0],M=a[1],B=a[2];break;case 2:h=[wt,ae,ce],I=h[0],M=h[1],B=h[2];break;case 3:u=[wt,kt,ae],I=u[0],M=u[1],B=u[2];break;case 4:p=[ce,wt,ae],I=p[0],M=p[1],B=p[2];break;case 5:m=[ae,wt,kt],I=m[0],M=m[1],B=m[2];break}}return[I,M,B,d.length>3?d[3]:1]},Xt=ye,_n=C.unpack,fi=C.type,Le=yt,Me=F,Jt=$,di=$t;Me.prototype.hcg=function(){return di(this._rgb)},Le.hcg=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(Me,[null].concat(o,["hcg"])))},Jt.format.hcg=Xt,Jt.autodetect.push({p:1,test:function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];if(o=_n(o,"hcg"),fi(o)==="array"&&o.length===3)return"hcg"}});var Ni=C.unpack,ys=C.last,pi=Math.round,vs=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=Ni(o,"rgba"),u=h[0],p=h[1],m=h[2],d=h[3],v=ys(o)||"auto";d===void 0&&(d=1),v==="auto"&&(v=d<1?"rgba":"rgb"),u=pi(u),p=pi(p),m=pi(m);var b=u<<16|p<<8|m,k="000000"+b.toString(16);k=k.substr(k.length-6);var R="0"+pi(d*255).toString(16);switch(R=R.substr(R.length-2),v.toLowerCase()){case"rgba":return"#"+k+R;case"argb":return"#"+R+k;default:return"#"+k}},Bn=vs,nn=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Wn=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Ws=function(o){if(o.match(nn)){(o.length===4||o.length===7)&&(o=o.substr(1)),o.length===3&&(o=o.split(""),o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]);var a=parseInt(o,16),h=a>>16,u=a>>8&255,p=a&255;return[h,u,p,1]}if(o.match(Wn)){(o.length===5||o.length===9)&&(o=o.substr(1)),o.length===4&&(o=o.split(""),o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]+o[3]+o[3]);var m=parseInt(o,16),d=m>>24&255,v=m>>16&255,b=m>>8&255,k=Math.round((m&255)/255*100)/100;return[d,v,b,k]}throw new Error("unknown hex color: "+o)},gi=Ws,Hi=yt,jn=F,bs=C.type,_e=$,Ui=Bn;jn.prototype.hex=function(o){return Ui(this._rgb,o)},Hi.hex=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(jn,[null].concat(o,["hex"])))},_e.format.hex=gi,_e.autodetect.push({p:4,test:function(o){for(var a=[],h=arguments.length-1;h-- >0;)a[h]=arguments[h+1];if(!a.length&&bs(o)==="string"&&[3,4,5,6,7,8,9].indexOf(o.length)>=0)return"hex"}});var mi=C.unpack,Yi=C.TWOPI,Xi=Math.min,ws=Math.sqrt,sn=Math.acos,xs=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=mi(o,"rgb"),u=h[0],p=h[1],m=h[2];u/=255,p/=255,m/=255;var d,v=Xi(u,p,m),b=(u+p+m)/3,k=b>0?1-v/b:0;return k===0?d=NaN:(d=(u-p+(u-m))/2,d/=ws((u-p)*(u-p)+(u-m)*(p-m)),d=sn(d),m>p&&(d=Yi-d),d/=Yi),[d*360,k,b]},Ss=xs,rn=C.unpack,L=C.limit,ht=C.TWOPI,Nn=C.PITHIRD,on=Math.cos,Hn=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];o=rn(o,"hsi");var h=o[0],u=o[1],p=o[2],m,d,v;return isNaN(h)&&(h=0),isNaN(u)&&(u=0),h>360&&(h-=360),h<0&&(h+=360),h/=360,h<1/3?(v=(1-u)/3,m=(1+u*on(ht*h)/on(Nn-ht*h))/3,d=1-(v+m)):h<2/3?(h-=1/3,m=(1-u)/3,d=(1+u*on(ht*h)/on(Nn-ht*h))/3,v=1-(m+d)):(h-=2/3,d=(1-u)/3,v=(1+u*on(ht*h)/on(Nn-ht*h))/3,m=1-(d+v)),m=L(p*m*3),d=L(p*d*3),v=L(p*v*3),[m*255,d*255,v*255,o.length>3?o[3]:1]},Un=Hn,yo=C.unpack,js=C.type,Cr=yt,kr=F,Gi=$,vo=Ss;kr.prototype.hsi=function(){return vo(this._rgb)},Cr.hsi=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(kr,[null].concat(o,["hsi"])))},Gi.format.hsi=Un,Gi.autodetect.push({p:2,test:function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];if(o=yo(o,"hsi"),js(o)==="array"&&o.length===3)return"hsi"}});var Tr=C.unpack,Ns=C.type,Yn=yt,Hs=F,Pr=$,Rr=Cn;Hs.prototype.hsl=function(){return Rr(this._rgb)},Yn.hsl=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(Hs,[null].concat(o,["hsl"])))},Pr.format.hsl=hi,Pr.autodetect.push({p:2,test:function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];if(o=Tr(o,"hsl"),Ns(o)==="array"&&o.length===3)return"hsl"}});var bo=C.unpack,qi=Math.min,Lr=Math.max,Ji=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];o=bo(o,"rgb");var h=o[0],u=o[1],p=o[2],m=qi(h,u,p),d=Lr(h,u,p),v=d-m,b,k,R;return R=d/255,d===0?(b=Number.NaN,k=0):(k=v/d,h===d&&(b=(u-p)/v),u===d&&(b=2+(p-h)/v),p===d&&(b=4+(h-u)/v),b*=60,b<0&&(b+=360)),[b,k,R]},Us=Ji,Cs=C.unpack,Vi=Math.floor,Ys=function(){for(var o,a,h,u,p,m,d=[],v=arguments.length;v--;)d[v]=arguments[v];d=Cs(d,"hsv");var b=d[0],k=d[1],R=d[2],I,M,B;if(R*=255,k===0)I=M=B=R;else{b===360&&(b=0),b>360&&(b-=360),b<0&&(b+=360),b/=60;var _=Vi(b),ct=b-_,pt=R*(1-k),wt=R*(1-k*ct),kt=R*(1-k*(1-ct));switch(_){case 0:o=[R,kt,pt],I=o[0],M=o[1],B=o[2];break;case 1:a=[wt,R,pt],I=a[0],M=a[1],B=a[2];break;case 2:h=[pt,R,kt],I=h[0],M=h[1],B=h[2];break;case 3:u=[pt,wt,R],I=u[0],M=u[1],B=u[2];break;case 4:p=[kt,pt,R],I=p[0],M=p[1],B=p[2];break;case 5:m=[R,pt,wt],I=m[0],M=m[1],B=m[2];break}}return[I,M,B,d.length>3?d[3]:1]},ks=Ys,Mr=C.unpack,Or=C.type,Ts=yt,Xs=F,Ar=$,wo=Us;Xs.prototype.hsv=function(){return wo(this._rgb)},Ts.hsv=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(Xs,[null].concat(o,["hsv"])))},Ar.format.hsv=ks,Ar.autodetect.push({p:2,test:function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];if(o=Mr(o,"hsv"),Or(o)==="array"&&o.length===3)return"hsv"}});var Xn={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Gn=Xn,xo=C.unpack,Fr=Math.pow,ka=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=xo(o,"rgb"),u=h[0],p=h[1],m=h[2],d=Gs(u,p,m),v=d[0],b=d[1],k=d[2],R=116*b-16;return[R<0?0:R,500*(v-b),200*(b-k)]},qn=function(o){return(o/=255)<=.04045?o/12.92:Fr((o+.055)/1.055,2.4)},Jn=function(o){return o>Gn.t3?Fr(o,1/3):o/Gn.t2+Gn.t0},Gs=function(o,a,h){o=qn(o),a=qn(a),h=qn(h);var u=Jn((.4124564*o+.3575761*a+.1804375*h)/Gn.Xn),p=Jn((.2126729*o+.7151522*a+.072175*h)/Gn.Yn),m=Jn((.0193339*o+.119192*a+.9503041*h)/Gn.Zn);return[u,p,m]},qs=ka,an=Xn,So=C.unpack,Js=Math.pow,yi=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];o=So(o,"lab");var h=o[0],u=o[1],p=o[2],m,d,v,b,k,R;return d=(h+16)/116,m=isNaN(u)?d:d+u/500,v=isNaN(p)?d:d-p/200,d=an.Yn*Vs(d),m=an.Xn*Vs(m),v=an.Zn*Vs(v),b=Ke(3.2404542*m-1.5371385*d-.4985314*v),k=Ke(-.969266*m+1.8760108*d+.041556*v),R=Ke(.0556434*m-.2040259*d+1.0572252*v),[b,k,R,o.length>3?o[3]:1]},Ke=function(o){return 255*(o<=.00304?12.92*o:1.055*Js(o,1/2.4)-.055)},Vs=function(o){return o>an.t1?o*o*o:an.t2*(o-an.t0)},Er=yi,Dr=C.unpack,Co=C.type,Zi=yt,Ir=F,zr=$,$r=qs;Ir.prototype.lab=function(){return $r(this._rgb)},Zi.lab=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(Ir,[null].concat(o,["lab"])))},zr.format.lab=Er,zr.autodetect.push({p:2,test:function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];if(o=Dr(o,"lab"),Co(o)==="array"&&o.length===3)return"lab"}});var vi=C.unpack,_r=C.RAD2DEG,Zs=Math.sqrt,Ks=Math.atan2,Br=Math.round,Ps=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=vi(o,"lab"),u=h[0],p=h[1],m=h[2],d=Zs(p*p+m*m),v=(Ks(m,p)*_r+360)%360;return Br(d*1e4)===0&&(v=Number.NaN),[u,d,v]},Tn=Ps,Wr=C.unpack,jr=qs,A=Tn,it=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=Wr(o,"rgb"),u=h[0],p=h[1],m=h[2],d=jr(u,p,m),v=d[0],b=d[1],k=d[2];return A(v,b,k)},Gt=it,Pt=C.unpack,ln=C.DEG2RAD,Pn=Math.sin,bi=Math.cos,Rn=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=Pt(o,"lch"),u=h[0],p=h[1],m=h[2];return isNaN(m)&&(m=0),m=m*ln,[u,bi(m)*p,Pn(m)*p]},hn=Rn,Qs=C.unpack,tr=hn,Ge=Er,Qe=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];o=Qs(o,"lch");var h=o[0],u=o[1],p=o[2],m=tr(h,u,p),d=m[0],v=m[1],b=m[2],k=Ge(d,v,b),R=k[0],I=k[1],M=k[2];return[R,I,M,o.length>3?o[3]:1]},er=Qe,Vn=C.unpack,wi=er,mh=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=Vn(o,"hcl").reverse();return wi.apply(void 0,h)},yh=mh,vh=C.unpack,bh=C.type,Ta=yt,Nr=F,ko=$,Pa=Gt;Nr.prototype.lch=function(){return Pa(this._rgb)},Nr.prototype.hcl=function(){return Pa(this._rgb).reverse()},Ta.lch=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(Nr,[null].concat(o,["lch"])))},Ta.hcl=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(Nr,[null].concat(o,["hcl"])))},ko.format.lch=er,ko.format.hcl=yh,["lch","hcl"].forEach(function(o){return ko.autodetect.push({p:2,test:function(){for(var a=[],h=arguments.length;h--;)a[h]=arguments[h];if(a=vh(a,o),bh(a)==="array"&&a.length===3)return o}})});var wh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Ra=wh,xh=F,La=$,Sh=C.type,nr=Ra,Ch=gi,kh=Bn;xh.prototype.name=function(){for(var o=kh(this._rgb,"rgb"),a=0,h=Object.keys(nr);a<h.length;a+=1){var u=h[a];if(nr[u]===o)return u.toLowerCase()}return o},La.format.named=function(o){if(o=o.toLowerCase(),nr[o])return Ch(nr[o]);throw new Error("unknown color name: "+o)},La.autodetect.push({p:5,test:function(o){for(var a=[],h=arguments.length-1;h-- >0;)a[h]=arguments[h+1];if(!a.length&&Sh(o)==="string"&&nr[o.toLowerCase()])return"named"}});var Th=C.unpack,Ph=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=Th(o,"rgb"),u=h[0],p=h[1],m=h[2];return(u<<16)+(p<<8)+m},Rh=Ph,Lh=C.type,Mh=function(o){if(Lh(o)=="number"&&o>=0&&o<=16777215){var a=o>>16,h=o>>8&255,u=o&255;return[a,h,u,1]}throw new Error("unknown num color: "+o)},Oh=Mh,Ah=yt,Ma=F,Oa=$,Fh=C.type,Eh=Rh;Ma.prototype.num=function(){return Eh(this._rgb)},Ah.num=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(Ma,[null].concat(o,["num"])))},Oa.format.num=Oh,Oa.autodetect.push({p:5,test:function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];if(o.length===1&&Fh(o[0])==="number"&&o[0]>=0&&o[0]<=16777215)return"num"}});var Dh=yt,To=F,Aa=$,Fa=C.unpack,Ea=C.type,Da=Math.round;To.prototype.rgb=function(o){return o===void 0&&(o=!0),o===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Da)},To.prototype.rgba=function(o){return o===void 0&&(o=!0),this._rgb.slice(0,4).map(function(a,h){return h<3?o===!1?a:Da(a):a})},Dh.rgb=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(To,[null].concat(o,["rgb"])))},Aa.format.rgb=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=Fa(o,"rgba");return h[3]===void 0&&(h[3]=1),h},Aa.autodetect.push({p:3,test:function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];if(o=Fa(o,"rgba"),Ea(o)==="array"&&(o.length===3||o.length===4&&Ea(o[3])=="number"&&o[3]>=0&&o[3]<=1))return"rgb"}});var Hr=Math.log,Ih=function(o){var a=o/100,h,u,p;return a<66?(h=255,u=a<6?0:-155.25485562709179-.44596950469579133*(u=a-2)+104.49216199393888*Hr(u),p=a<20?0:-254.76935184120902+.8274096064007395*(p=a-10)+115.67994401066147*Hr(p)):(h=351.97690566805693+.114206453784165*(h=a-55)-40.25366309332127*Hr(h),u=325.4494125711974+.07943456536662342*(u=a-50)-28.0852963507957*Hr(u),p=255),[h,u,p,1]},Ia=Ih,zh=Ia,$h=C.unpack,_h=Math.round,Bh=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];for(var h=$h(o,"rgb"),u=h[0],p=h[2],m=1e3,d=4e4,v=.4,b;d-m>v;){b=(d+m)*.5;var k=zh(b);k[2]/k[0]>=p/u?d=b:m=b}return _h(b)},Wh=Bh,Po=yt,Ur=F,Ro=$,jh=Wh;Ur.prototype.temp=Ur.prototype.kelvin=Ur.prototype.temperature=function(){return jh(this._rgb)},Po.temp=Po.kelvin=Po.temperature=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(Ur,[null].concat(o,["temp"])))},Ro.format.temp=Ro.format.kelvin=Ro.format.temperature=Ia;var Nh=C.unpack,Lo=Math.cbrt,Hh=Math.pow,Uh=Math.sign,Yh=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=Nh(o,"rgb"),u=h[0],p=h[1],m=h[2],d=[Mo(u/255),Mo(p/255),Mo(m/255)],v=d[0],b=d[1],k=d[2],R=Lo(.4122214708*v+.5363325363*b+.0514459929*k),I=Lo(.2119034982*v+.6806995451*b+.1073969566*k),M=Lo(.0883024619*v+.2817188376*b+.6299787005*k);return[.2104542553*R+.793617785*I-.0040720468*M,1.9779984951*R-2.428592205*I+.4505937099*M,.0259040371*R+.7827717662*I-.808675766*M]},za=Yh;function Mo(o){var a=Math.abs(o);return a<.04045?o/12.92:(Uh(o)||1)*Hh((a+.055)/1.055,2.4)}var Xh=C.unpack,Yr=Math.pow,Gh=Math.sign,qh=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];o=Xh(o,"lab");var h=o[0],u=o[1],p=o[2],m=Yr(h+.3963377774*u+.2158037573*p,3),d=Yr(h-.1055613458*u-.0638541728*p,3),v=Yr(h-.0894841775*u-1.291485548*p,3);return[255*Oo(4.0767416621*m-3.3077115913*d+.2309699292*v),255*Oo(-1.2684380046*m+2.6097574011*d-.3413193965*v),255*Oo(-.0041960863*m-.7034186147*d+1.707614701*v),o.length>3?o[3]:1]},$a=qh;function Oo(o){var a=Math.abs(o);return a>.0031308?(Gh(o)||1)*(1.055*Yr(a,1/2.4)-.055):o*12.92}var Jh=C.unpack,Vh=C.type,Zh=yt,_a=F,Ba=$,Kh=za;_a.prototype.oklab=function(){return Kh(this._rgb)},Zh.oklab=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(_a,[null].concat(o,["oklab"])))},Ba.format.oklab=$a,Ba.autodetect.push({p:3,test:function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];if(o=Jh(o,"oklab"),Vh(o)==="array"&&o.length===3)return"oklab"}});var Qh=C.unpack,tc=za,ec=Tn,nc=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];var h=Qh(o,"rgb"),u=h[0],p=h[1],m=h[2],d=tc(u,p,m),v=d[0],b=d[1],k=d[2];return ec(v,b,k)},ic=nc,sc=C.unpack,rc=hn,oc=$a,ac=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];o=sc(o,"lch");var h=o[0],u=o[1],p=o[2],m=rc(h,u,p),d=m[0],v=m[1],b=m[2],k=oc(d,v,b),R=k[0],I=k[1],M=k[2];return[R,I,M,o.length>3?o[3]:1]},lc=ac,hc=C.unpack,cc=C.type,uc=yt,Wa=F,ja=$,fc=ic;Wa.prototype.oklch=function(){return fc(this._rgb)},uc.oklch=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];return new(Function.prototype.bind.apply(Wa,[null].concat(o,["oklch"])))},ja.format.oklch=lc,ja.autodetect.push({p:3,test:function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];if(o=hc(o,"oklch"),cc(o)==="array"&&o.length===3)return"oklch"}});var Na=F,dc=C.type;Na.prototype.alpha=function(o,a){return a===void 0&&(a=!1),o!==void 0&&dc(o)==="number"?a?(this._rgb[3]=o,this):new Na([this._rgb[0],this._rgb[1],this._rgb[2],o],"rgb"):this._rgb[3]};var pc=F;pc.prototype.clipped=function(){return this._rgb._clipped||!1};var Ki=F,gc=Xn;Ki.prototype.darken=function(o){o===void 0&&(o=1);var a=this,h=a.lab();return h[0]-=gc.Kn*o,new Ki(h,"lab").alpha(a.alpha(),!0)},Ki.prototype.brighten=function(o){return o===void 0&&(o=1),this.darken(-o)},Ki.prototype.darker=Ki.prototype.darken,Ki.prototype.brighter=Ki.prototype.brighten;var mc=F;mc.prototype.get=function(o){var a=o.split("."),h=a[0],u=a[1],p=this[h]();if(u){var m=h.indexOf(u)-(h.substr(0,2)==="ok"?2:0);if(m>-1)return p[m];throw new Error("unknown channel "+u+" in mode "+h)}else return p};var Rs=F,yc=C.type,vc=Math.pow,bc=1e-7,wc=20;Rs.prototype.luminance=function(o){if(o!==void 0&&yc(o)==="number"){if(o===0)return new Rs([0,0,0,this._rgb[3]],"rgb");if(o===1)return new Rs([255,255,255,this._rgb[3]],"rgb");var a=this.luminance(),h="rgb",u=wc,p=function(d,v){var b=d.interpolate(v,.5,h),k=b.luminance();return Math.abs(o-k)<bc||!u--?b:k>o?p(d,b):p(b,v)},m=(a>o?p(new Rs([0,0,0]),this):p(this,new Rs([255,255,255]))).rgb();return new Rs(m.concat([this._rgb[3]]))}return xc.apply(void 0,this._rgb.slice(0,3))};var xc=function(o,a,h){return o=Ao(o),a=Ao(a),h=Ao(h),.2126*o+.7152*a+.0722*h},Ao=function(o){return o/=255,o<=.03928?o/12.92:vc((o+.055)/1.055,2.4)},qe={},Ha=F,Ua=C.type,Xr=qe,Ya=function(o,a,h){h===void 0&&(h=.5);for(var u=[],p=arguments.length-3;p-- >0;)u[p]=arguments[p+3];var m=u[0]||"lrgb";if(!Xr[m]&&!u.length&&(m=Object.keys(Xr)[0]),!Xr[m])throw new Error("interpolation mode "+m+" is not defined");return Ua(o)!=="object"&&(o=new Ha(o)),Ua(a)!=="object"&&(a=new Ha(a)),Xr[m](o,a,h).alpha(o.alpha()+h*(a.alpha()-o.alpha()))},Xa=F,Sc=Ya;Xa.prototype.mix=Xa.prototype.interpolate=function(o,a){a===void 0&&(a=.5);for(var h=[],u=arguments.length-2;u-- >0;)h[u]=arguments[u+2];return Sc.apply(void 0,[this,o,a].concat(h))};var Ga=F;Ga.prototype.premultiply=function(o){o===void 0&&(o=!1);var a=this._rgb,h=a[3];return o?(this._rgb=[a[0]*h,a[1]*h,a[2]*h,h],this):new Ga([a[0]*h,a[1]*h,a[2]*h,h],"rgb")};var Fo=F,Cc=Xn;Fo.prototype.saturate=function(o){o===void 0&&(o=1);var a=this,h=a.lch();return h[1]+=Cc.Kn*o,h[1]<0&&(h[1]=0),new Fo(h,"lch").alpha(a.alpha(),!0)},Fo.prototype.desaturate=function(o){return o===void 0&&(o=1),this.saturate(-o)};var qa=F,Ja=C.type;qa.prototype.set=function(o,a,h){h===void 0&&(h=!1);var u=o.split("."),p=u[0],m=u[1],d=this[p]();if(m){var v=p.indexOf(m)-(p.substr(0,2)==="ok"?2:0);if(v>-1){if(Ja(a)=="string")switch(a.charAt(0)){case"+":d[v]+=+a;break;case"-":d[v]+=+a;break;case"*":d[v]*=+a.substr(1);break;case"/":d[v]/=+a.substr(1);break;default:d[v]=+a}else if(Ja(a)==="number")d[v]=a;else throw new Error("unsupported value for Color.set");var b=new qa(d,p);return h?(this._rgb=b._rgb,this):b}throw new Error("unknown channel "+m+" in mode "+p)}else return d};var kc=F,Tc=function(o,a,h){var u=o._rgb,p=a._rgb;return new kc(u[0]+h*(p[0]-u[0]),u[1]+h*(p[1]-u[1]),u[2]+h*(p[2]-u[2]),"rgb")};qe.rgb=Tc;var Pc=F,Eo=Math.sqrt,Ls=Math.pow,Rc=function(o,a,h){var u=o._rgb,p=u[0],m=u[1],d=u[2],v=a._rgb,b=v[0],k=v[1],R=v[2];return new Pc(Eo(Ls(p,2)*(1-h)+Ls(b,2)*h),Eo(Ls(m,2)*(1-h)+Ls(k,2)*h),Eo(Ls(d,2)*(1-h)+Ls(R,2)*h),"rgb")};qe.lrgb=Rc;var Lc=F,Mc=function(o,a,h){var u=o.lab(),p=a.lab();return new Lc(u[0]+h*(p[0]-u[0]),u[1]+h*(p[1]-u[1]),u[2]+h*(p[2]-u[2]),"lab")};qe.lab=Mc;var Va=F,Ms=function(o,a,h,u){var p,m,d,v;u==="hsl"?(d=o.hsl(),v=a.hsl()):u==="hsv"?(d=o.hsv(),v=a.hsv()):u==="hcg"?(d=o.hcg(),v=a.hcg()):u==="hsi"?(d=o.hsi(),v=a.hsi()):u==="lch"||u==="hcl"?(u="hcl",d=o.hcl(),v=a.hcl()):u==="oklch"&&(d=o.oklch().reverse(),v=a.oklch().reverse());var b,k,R,I,M,B;(u.substr(0,1)==="h"||u==="oklch")&&(p=d,b=p[0],R=p[1],M=p[2],m=v,k=m[0],I=m[1],B=m[2]);var _,ct,pt,wt;return!isNaN(b)&&!isNaN(k)?(k>b&&k-b>180?wt=k-(b+360):k<b&&b-k>180?wt=k+360-b:wt=k-b,ct=b+h*wt):isNaN(b)?isNaN(k)?ct=Number.NaN:(ct=k,(M==1||M==0)&&u!="hsv"&&(_=I)):(ct=b,(B==1||B==0)&&u!="hsv"&&(_=R)),_===void 0&&(_=R+h*(I-R)),pt=M+h*(B-M),u==="oklch"?new Va([pt,_,ct],u):new Va([ct,_,pt],u)},Oc=Ms,Za=function(o,a,h){return Oc(o,a,h,"lch")};qe.lch=Za,qe.hcl=Za;var Ac=F,Fc=function(o,a,h){var u=o.num(),p=a.num();return new Ac(u+h*(p-u),"num")};qe.num=Fc;var Ec=Ms,Dc=function(o,a,h){return Ec(o,a,h,"hcg")};qe.hcg=Dc;var Ic=Ms,zc=function(o,a,h){return Ic(o,a,h,"hsi")};qe.hsi=zc;var $c=Ms,_c=function(o,a,h){return $c(o,a,h,"hsl")};qe.hsl=_c;var Bc=Ms,Wc=function(o,a,h){return Bc(o,a,h,"hsv")};qe.hsv=Wc;var jc=F,Nc=function(o,a,h){var u=o.oklab(),p=a.oklab();return new jc(u[0]+h*(p[0]-u[0]),u[1]+h*(p[1]-u[1]),u[2]+h*(p[2]-u[2]),"oklab")};qe.oklab=Nc;var Hc=Ms,Uc=function(o,a,h){return Hc(o,a,h,"oklch")};qe.oklch=Uc;var Do=F,Yc=C.clip_rgb,Io=Math.pow,zo=Math.sqrt,$o=Math.PI,Ka=Math.cos,Qa=Math.sin,Xc=Math.atan2,Gc=function(o,a,h){a===void 0&&(a="lrgb"),h===void 0&&(h=null);var u=o.length;h||(h=Array.from(new Array(u)).map(function(){return 1}));var p=u/h.reduce(function(ct,pt){return ct+pt});if(h.forEach(function(ct,pt){h[pt]*=p}),o=o.map(function(ct){return new Do(ct)}),a==="lrgb")return qc(o,h);for(var m=o.shift(),d=m.get(a),v=[],b=0,k=0,R=0;R<d.length;R++)if(d[R]=(d[R]||0)*h[0],v.push(isNaN(d[R])?0:h[0]),a.charAt(R)==="h"&&!isNaN(d[R])){var I=d[R]/180*$o;b+=Ka(I)*h[0],k+=Qa(I)*h[0]}var M=m.alpha()*h[0];o.forEach(function(ct,pt){var wt=ct.get(a);M+=ct.alpha()*h[pt+1];for(var kt=0;kt<d.length;kt++)if(!isNaN(wt[kt]))if(v[kt]+=h[pt+1],a.charAt(kt)==="h"){var ce=wt[kt]/180*$o;b+=Ka(ce)*h[pt+1],k+=Qa(ce)*h[pt+1]}else d[kt]+=wt[kt]*h[pt+1]});for(var B=0;B<d.length;B++)if(a.charAt(B)==="h"){for(var _=Xc(k/v[B],b/v[B])/$o*180;_<0;)_+=360;for(;_>=360;)_-=360;d[B]=_}else d[B]=d[B]/v[B];return M/=u,new Do(d,a).alpha(M>.99999?1:M,!0)},qc=function(o,a){for(var h=o.length,u=[0,0,0,0],p=0;p<o.length;p++){var m=o[p],d=a[p]/h,v=m._rgb;u[0]+=Io(v[0],2)*d,u[1]+=Io(v[1],2)*d,u[2]+=Io(v[2],2)*d,u[3]+=v[3]*d}return u[0]=zo(u[0]),u[1]=zo(u[1]),u[2]=zo(u[2]),u[3]>.9999999&&(u[3]=1),new Do(Yc(u))},cn=yt,Os=C.type,Jc=Math.pow,_o=function(o){var a="rgb",h=cn("#ccc"),u=0,p=[0,1],m=[],d=[0,0],v=!1,b=[],k=!1,R=0,I=1,M=!1,B={},_=!0,ct=1,pt=function(O){if(O=O||["#fff","#000"],O&&Os(O)==="string"&&cn.brewer&&cn.brewer[O.toLowerCase()]&&(O=cn.brewer[O.toLowerCase()]),Os(O)==="array"){O.length===1&&(O=[O[0],O[0]]),O=O.slice(0);for(var tt=0;tt<O.length;tt++)O[tt]=cn(O[tt]);m.length=0;for(var ft=0;ft<O.length;ft++)m.push(ft/(O.length-1))}return Be(),b=O},wt=function(O){if(v!=null){for(var tt=v.length-1,ft=0;ft<tt&&O>=v[ft];)ft++;return ft-1}return 0},kt=function(O){return O},ce=function(O){return O},ae=function(O,tt){var ft,ut;if(tt==null&&(tt=!1),isNaN(O)||O===null)return h;if(tt)ut=O;else if(v&&v.length>2){var ue=wt(O);ut=ue/(v.length-2)}else I!==R?ut=(O-R)/(I-R):ut=1;ut=ce(ut),tt||(ut=kt(ut)),ct!==1&&(ut=Jc(ut,ct)),ut=d[0]+ut*(1-d[0]-d[1]),ut=Math.min(1,Math.max(0,ut));var Dt=Math.floor(ut*1e4);if(_&&B[Dt])ft=B[Dt];else{if(Os(b)==="array")for(var xt=0;xt<m.length;xt++){var Rt=m[xt];if(ut<=Rt){ft=b[xt];break}if(ut>=Rt&&xt===m.length-1){ft=b[xt];break}if(ut>Rt&&ut<m[xt+1]){ut=(ut-Rt)/(m[xt+1]-Rt),ft=cn.interpolate(b[xt],b[xt+1],ut,a);break}}else Os(b)==="function"&&(ft=b(ut));_&&(B[Dt]=ft)}return ft},Be=function(){return B={}};pt(o);var vt=function(O){var tt=cn(ae(O));return k&&tt[k]?tt[k]():tt};return vt.classes=function(O){if(O!=null){if(Os(O)==="array")v=O,p=[O[0],O[O.length-1]];else{var tt=cn.analyze(p);O===0?v=[tt.min,tt.max]:v=cn.limits(tt,"e",O)}return vt}return v},vt.domain=function(O){if(!arguments.length)return p;R=O[0],I=O[O.length-1],m=[];var tt=b.length;if(O.length===tt&&R!==I)for(var ft=0,ut=Array.from(O);ft<ut.length;ft+=1){var ue=ut[ft];m.push((ue-R)/(I-R))}else{for(var Dt=0;Dt<tt;Dt++)m.push(Dt/(tt-1));if(O.length>2){var xt=O.map(function(Lt,Ft){return Ft/(O.length-1)}),Rt=O.map(function(Lt){return(Lt-R)/(I-R)});Rt.every(function(Lt,Ft){return xt[Ft]===Lt})||(ce=function(Lt){if(Lt<=0||Lt>=1)return Lt;for(var Ft=0;Lt>=Rt[Ft+1];)Ft++;var fn=(Lt-Rt[Ft])/(Rt[Ft+1]-Rt[Ft]),Ci=xt[Ft]+fn*(xt[Ft+1]-xt[Ft]);return Ci})}}return p=[R,I],vt},vt.mode=function(O){return arguments.length?(a=O,Be(),vt):a},vt.range=function(O,tt){return pt(O),vt},vt.out=function(O){return k=O,vt},vt.spread=function(O){return arguments.length?(u=O,vt):u},vt.correctLightness=function(O){return O==null&&(O=!0),M=O,Be(),M?kt=function(tt){for(var ft=ae(0,!0).lab()[0],ut=ae(1,!0).lab()[0],ue=ft>ut,Dt=ae(tt,!0).lab()[0],xt=ft+(ut-ft)*tt,Rt=Dt-xt,Lt=0,Ft=1,fn=20;Math.abs(Rt)>.01&&fn-- >0;)(function(){return ue&&(Rt*=-1),Rt<0?(Lt=tt,tt+=(Ft-tt)*.5):(Ft=tt,tt+=(Lt-tt)*.5),Dt=ae(tt,!0).lab()[0],Rt=Dt-xt})();return tt}:kt=function(tt){return tt},vt},vt.padding=function(O){return O!=null?(Os(O)==="number"&&(O=[O,O]),d=O,vt):d},vt.colors=function(O,tt){arguments.length<2&&(tt="hex");var ft=[];if(arguments.length===0)ft=b.slice(0);else if(O===1)ft=[vt(.5)];else if(O>1){var ut=p[0],ue=p[1]-ut;ft=Vc(0,O).map(function(Ft){return vt(ut+Ft/(O-1)*ue)})}else{o=[];var Dt=[];if(v&&v.length>2)for(var xt=1,Rt=v.length,Lt=1<=Rt;Lt?xt<Rt:xt>Rt;Lt?xt++:xt--)Dt.push((v[xt-1]+v[xt])*.5);else Dt=p;ft=Dt.map(function(Ft){return vt(Ft)})}return cn[tt]&&(ft=ft.map(function(Ft){return Ft[tt]()})),ft},vt.cache=function(O){return O!=null?(_=O,vt):_},vt.gamma=function(O){return O!=null?(ct=O,vt):ct},vt.nodata=function(O){return O!=null?(h=cn(O),vt):h},vt};function Vc(o,a,h){for(var u=[],p=o<a,m=a,d=o;p?d<m:d>m;p?d++:d--)u.push(d);return u}var ir=F,Zc=_o,Kc=function(o){for(var a=[1,1],h=1;h<o;h++){for(var u=[1],p=1;p<=a.length;p++)u[p]=(a[p]||0)+a[p-1];a=u}return a},Qc=function(o){var a,h,u,p,m,d,v;if(o=o.map(function(M){return new ir(M)}),o.length===2)a=o.map(function(M){return M.lab()}),m=a[0],d=a[1],p=function(M){var B=[0,1,2].map(function(_){return m[_]+M*(d[_]-m[_])});return new ir(B,"lab")};else if(o.length===3)h=o.map(function(M){return M.lab()}),m=h[0],d=h[1],v=h[2],p=function(M){var B=[0,1,2].map(function(_){return(1-M)*(1-M)*m[_]+2*(1-M)*M*d[_]+M*M*v[_]});return new ir(B,"lab")};else if(o.length===4){var b;u=o.map(function(M){return M.lab()}),m=u[0],d=u[1],v=u[2],b=u[3],p=function(M){var B=[0,1,2].map(function(_){return(1-M)*(1-M)*(1-M)*m[_]+3*(1-M)*(1-M)*M*d[_]+3*(1-M)*M*M*v[_]+M*M*M*b[_]});return new ir(B,"lab")}}else if(o.length>=5){var k,R,I;k=o.map(function(M){return M.lab()}),I=o.length-1,R=Kc(I),p=function(M){var B=1-M,_=[0,1,2].map(function(ct){return k.reduce(function(pt,wt,kt){return pt+R[kt]*Math.pow(B,I-kt)*Math.pow(M,kt)*wt[ct]},0)});return new ir(_,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return p},tu=function(o){var a=Qc(o);return a.scale=function(){return Zc(a)},a},Bo=yt,un=function(o,a,h){if(!un[h])throw new Error("unknown blend mode "+h);return un[h](o,a)},xi=function(o){return function(a,h){var u=Bo(h).rgb(),p=Bo(a).rgb();return Bo.rgb(o(u,p))}},Si=function(o){return function(a,h){var u=[];return u[0]=o(a[0],h[0]),u[1]=o(a[1],h[1]),u[2]=o(a[2],h[2]),u}},eu=function(o){return o},nu=function(o,a){return o*a/255},iu=function(o,a){return o>a?a:o},su=function(o,a){return o>a?o:a},ru=function(o,a){return 255*(1-(1-o/255)*(1-a/255))},ou=function(o,a){return a<128?2*o*a/255:255*(1-2*(1-o/255)*(1-a/255))},au=function(o,a){return 255*(1-(1-a/255)/(o/255))},lu=function(o,a){return o===255?255:(o=255*(a/255)/(1-o/255),o>255?255:o)};un.normal=xi(Si(eu)),un.multiply=xi(Si(nu)),un.screen=xi(Si(ru)),un.overlay=xi(Si(ou)),un.darken=xi(Si(iu)),un.lighten=xi(Si(su)),un.dodge=xi(Si(lu)),un.burn=xi(Si(au));for(var hu=un,Wo=C.type,cu=C.clip_rgb,uu=C.TWOPI,fu=Math.pow,du=Math.sin,pu=Math.cos,tl=yt,gu=function(o,a,h,u,p){o===void 0&&(o=300),a===void 0&&(a=-1.5),h===void 0&&(h=1),u===void 0&&(u=1),p===void 0&&(p=[0,1]);var m=0,d;Wo(p)==="array"?d=p[1]-p[0]:(d=0,p=[p,p]);var v=function(b){var k=uu*((o+120)/360+a*b),R=fu(p[0]+d*b,u),I=m!==0?h[0]+b*m:h,M=I*R*(1-R)/2,B=pu(k),_=du(k),ct=R+M*(-.14861*B+1.78277*_),pt=R+M*(-.29227*B-.90649*_),wt=R+M*(1.97294*B);return tl(cu([ct*255,pt*255,wt*255,1]))};return v.start=function(b){return b==null?o:(o=b,v)},v.rotations=function(b){return b==null?a:(a=b,v)},v.gamma=function(b){return b==null?u:(u=b,v)},v.hue=function(b){return b==null?h:(h=b,Wo(h)==="array"?(m=h[1]-h[0],m===0&&(h=h[1])):m=0,v)},v.lightness=function(b){return b==null?p:(Wo(b)==="array"?(p=b,d=b[1]-b[0]):(p=[b,b],d=0),v)},v.scale=function(){return tl.scale(v)},v.hue(h),v},mu=F,yu="0123456789abcdef",vu=Math.floor,bu=Math.random,wu=function(){for(var o="#",a=0;a<6;a++)o+=yu.charAt(vu(bu()*16));return new mu(o,"hex")},jo=g,el=Math.log,xu=Math.pow,Su=Math.floor,Cu=Math.abs,nl=function(o,a){a===void 0&&(a=null);var h={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return jo(o)==="object"&&(o=Object.values(o)),o.forEach(function(u){a&&jo(u)==="object"&&(u=u[a]),u!=null&&!isNaN(u)&&(h.values.push(u),h.sum+=u,u<h.min&&(h.min=u),u>h.max&&(h.max=u),h.count+=1)}),h.domain=[h.min,h.max],h.limits=function(u,p){return il(h,u,p)},h},il=function(o,a,h){a===void 0&&(a="equal"),h===void 0&&(h=7),jo(o)=="array"&&(o=nl(o));var u=o.min,p=o.max,m=o.values.sort(function(Ho,Uo){return Ho-Uo});if(h===1)return[u,p];var d=[];if(a.substr(0,1)==="c"&&(d.push(u),d.push(p)),a.substr(0,1)==="e"){d.push(u);for(var v=1;v<h;v++)d.push(u+v/h*(p-u));d.push(p)}else if(a.substr(0,1)==="l"){if(u<=0)throw new Error("Logarithmic scales are only possible for values > 0");var b=Math.LOG10E*el(u),k=Math.LOG10E*el(p);d.push(u);for(var R=1;R<h;R++)d.push(xu(10,b+R/h*(k-b)));d.push(p)}else if(a.substr(0,1)==="q"){d.push(u);for(var I=1;I<h;I++){var M=(m.length-1)*I/h,B=Su(M);if(B===M)d.push(m[B]);else{var _=M-B;d.push(m[B]*(1-_)+m[B+1]*_)}}d.push(p)}else if(a.substr(0,1)==="k"){var ct,pt=m.length,wt=new Array(pt),kt=new Array(h),ce=!0,ae=0,Be=null;Be=[],Be.push(u);for(var vt=1;vt<h;vt++)Be.push(u+vt/h*(p-u));for(Be.push(p);ce;){for(var O=0;O<h;O++)kt[O]=0;for(var tt=0;tt<pt;tt++)for(var ft=m[tt],ut=Number.MAX_VALUE,ue=void 0,Dt=0;Dt<h;Dt++){var xt=Cu(Be[Dt]-ft);xt<ut&&(ut=xt,ue=Dt),kt[ue]++,wt[tt]=ue}for(var Rt=new Array(h),Lt=0;Lt<h;Lt++)Rt[Lt]=null;for(var Ft=0;Ft<pt;Ft++)ct=wt[Ft],Rt[ct]===null?Rt[ct]=m[Ft]:Rt[ct]+=m[Ft];for(var fn=0;fn<h;fn++)Rt[fn]*=1/kt[fn];ce=!1;for(var Ci=0;Ci<h;Ci++)if(Rt[Ci]!==Be[Ci]){ce=!0;break}Be=Rt,ae++,ae>200&&(ce=!1)}for(var ki={},As=0;As<h;As++)ki[As]=[];for(var Fs=0;Fs<pt;Fs++)ct=wt[Fs],ki[ct].push(m[Fs]);for(var Kn=[],Qi=0;Qi<h;Qi++)Kn.push(ki[Qi][0]),Kn.push(ki[Qi][ki[Qi].length-1]);Kn=Kn.sort(function(Ho,Uo){return Ho-Uo}),d.push(Kn[0]);for(var sr=1;sr<Kn.length;sr+=2){var ts=Kn[sr];!isNaN(ts)&&d.indexOf(ts)===-1&&d.push(ts)}}return d},sl={analyze:nl,limits:il},rl=F,ku=function(o,a){o=new rl(o),a=new rl(a);var h=o.luminance(),u=a.luminance();return h>u?(h+.05)/(u+.05):(u+.05)/(h+.05)},ol=F,Zn=Math.sqrt,Vt=Math.pow,Tu=Math.min,Pu=Math.max,al=Math.atan2,ll=Math.abs,Gr=Math.cos,hl=Math.sin,Ru=Math.exp,cl=Math.PI,Lu=function(o,a,h,u,p){h===void 0&&(h=1),u===void 0&&(u=1),p===void 0&&(p=1);var m=function(ts){return 360*ts/(2*cl)},d=function(ts){return 2*cl*ts/360};o=new ol(o),a=new ol(a);var v=Array.from(o.lab()),b=v[0],k=v[1],R=v[2],I=Array.from(a.lab()),M=I[0],B=I[1],_=I[2],ct=(b+M)/2,pt=Zn(Vt(k,2)+Vt(R,2)),wt=Zn(Vt(B,2)+Vt(_,2)),kt=(pt+wt)/2,ce=.5*(1-Zn(Vt(kt,7)/(Vt(kt,7)+Vt(25,7)))),ae=k*(1+ce),Be=B*(1+ce),vt=Zn(Vt(ae,2)+Vt(R,2)),O=Zn(Vt(Be,2)+Vt(_,2)),tt=(vt+O)/2,ft=m(al(R,ae)),ut=m(al(_,Be)),ue=ft>=0?ft:ft+360,Dt=ut>=0?ut:ut+360,xt=ll(ue-Dt)>180?(ue+Dt+360)/2:(ue+Dt)/2,Rt=1-.17*Gr(d(xt-30))+.24*Gr(d(2*xt))+.32*Gr(d(3*xt+6))-.2*Gr(d(4*xt-63)),Lt=Dt-ue;Lt=ll(Lt)<=180?Lt:Dt<=ue?Lt+360:Lt-360,Lt=2*Zn(vt*O)*hl(d(Lt)/2);var Ft=M-b,fn=O-vt,Ci=1+.015*Vt(ct-50,2)/Zn(20+Vt(ct-50,2)),ki=1+.045*tt,As=1+.015*tt*Rt,Fs=30*Ru(-Vt((xt-275)/25,2)),Kn=2*Zn(Vt(tt,7)/(Vt(tt,7)+Vt(25,7))),Qi=-Kn*hl(2*d(Fs)),sr=Zn(Vt(Ft/(h*Ci),2)+Vt(fn/(u*ki),2)+Vt(Lt/(p*As),2)+Qi*(fn/(u*ki))*(Lt/(p*As)));return Pu(0,Tu(100,sr))},ul=F,Mu=function(o,a,h){h===void 0&&(h="lab"),o=new ul(o),a=new ul(a);var u=o.get(h),p=a.get(h),m=0;for(var d in u){var v=(u[d]||0)-(p[d]||0);m+=v*v}return Math.sqrt(m)},Ou=F,Au=function(){for(var o=[],a=arguments.length;a--;)o[a]=arguments[a];try{return new(Function.prototype.bind.apply(Ou,[null].concat(o))),!0}catch{return!1}},fl=yt,dl=_o,Fu={cool:function(){return dl([fl.hsl(180,1,.9),fl.hsl(250,.7,.4)])},hot:function(){return dl(["#000","#f00","#ff0","#fff"]).mode("rgb")}},qr={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},No=0,pl=Object.keys(qr);No<pl.length;No+=1){var gl=pl[No];qr[gl.toLowerCase()]=qr[gl]}var Eu=qr,oe=yt;oe.average=Gc,oe.bezier=tu,oe.blend=hu,oe.cubehelix=gu,oe.mix=oe.interpolate=Ya,oe.random=wu,oe.scale=_o,oe.analyze=sl.analyze,oe.contrast=ku,oe.deltaE=Lu,oe.distance=Mu,oe.limits=sl.limits,oe.valid=Au,oe.scales=Fu,oe.colors=Ra,oe.brewer=Eu;var Du=oe;return Du})})(eh);var Bt=eh.exports;const Ei=(Bt.Color.symbol=Bt.Color.prototype.symbol=Symbol.for("@motion-canvas/core/types/Color"),Bt.Color.lerp=Bt.Color.prototype.lerp=(i,t,e,n="lch")=>{typeof i=="string"&&(i=new Bt.Color(i)),typeof t=="string"&&(t=new Bt.Color(t));const s=i instanceof Bt.Color,r=t instanceof Bt.Color;return s||(i=r?t.alpha(0):new Bt.Color("rgba(0, 0, 0, 0)")),r||(t=s?i.alpha(0):new Bt.Color("rgba(0, 0, 0, 0)")),Bt.mix(i,t,e,n)},Bt.Color.createLerp=Bt.Color.prototype.createLerp=i=>(t,e,n)=>Bt.Color.lerp(t,e,n,i),Bt.Color.createSignal=(i,t=Bt.Color.lerp)=>new cs(i,t,void 0,e=>new Bt.Color(e)).toSignal(),Bt.Color.prototype.toSymbol=()=>Bt.Color.symbol,Bt.Color.prototype.toUniform=function(i,t){i.uniform4fv(t,this.gl())},Bt.Color.prototype.serialize=function(){return this.css()},Bt.Color.prototype.lerp=function(i,t,e){return Bt.Color.lerp(this,i,t,e)},Bt.Color);function Tf(i,t){return y.fromDegrees(i).transform(t).degrees}function Ko(i,t){return y.magnitude(t.m11,t.m12)*i}class Qo extends Je{constructor(){super(...arguments),this.type=Ei.symbol}parse(t){return t===null?null:new Ei(t)}serialize(){var t;return((t=this.value.current)==null?void 0:t.serialize())??null}}class hs extends Je{constructor(t,e,n=(s=>(s=e[0])==null?void 0:s.value)()){super(t,n),this.options=e,this.type=hs.symbol}set(t){var e;super.set((e=this.getOption(t))==null?void 0:e.value)}parse(t){var e;return(e=this.getOption(t))==null?void 0:e.value}getOption(t){return this.options.find(e=>e.value===t)??this.options[0]}}hs.symbol=Symbol.for("@motion-canvas/core/meta/EnumMetaField");class Pf extends Je{get onFieldsChanged(){return this.fields.subscribable}get options(){return this.optionFields[this.current]}constructor(t,e,n=0){var c,f;const s=e.plugins.flatMap(g=>{var x;return((x=g.exporters)==null?void 0:x.call(g,e))??[]}),r=s.map(g=>g.meta(e)),l=new hs("exporter",s.map(g=>({value:g.id,text:g.displayName})),(c=s[n])==null?void 0:c.id);super(t,{name:l.get(),options:(f=r[n])==null?void 0:f.get()}),this.current=n,this.type=Object,this.handleChange=()=>{var S,T,N;const g=this.exporterField.get(),x=Math.max(this.exporters.findIndex(K=>K.id===g),0);this.current!==x&&((S=this.options)==null||S.onChanged.unsubscribe(this.handleChange),this.current=x,(T=this.options)==null||T.onChanged.subscribe(this.handleChange,!1),this.fields.current=this.options?[this.exporterField,this.options]:[this.exporterField]),this.value.current={name:this.exporterField.get(),options:((N=this.options)==null?void 0:N.get())??null}},this.exporters=s,this.exporterField=l,this.exporterField.onChanged.subscribe(this.handleChange,!1),this.exporterField.disable(r.length<2).space(),this.optionFields=r,this.fields=new wn([this.exporterField]),this.options&&(this.options.onChanged.subscribe(this.handleChange,!1),this.fields.current=[this.exporterField,this.options])}set(t){var e;this.exporterField.set(t.name),(e=this.options)==null||e.set(t.options??{})}serialize(){var t;return{name:this.exporterField.serialize(),options:((t=this.options)==null?void 0:t.serialize())??null}}clone(){return new this.constructor(this.name,this.exporters,this.current)}}var lr;class Ii{constructor(t,e=!1){this.name=t,this.source=e,this.lock=new Wu,this.ignoreChange=!1,this.cache=null,this.metaField=null,this.handleChanged=async()=>{}}attach(t){var e;this.metaField||(this.metaField=t,this.cache&&this.metaField.set(this.cache),(e=this.metaField)==null||e.onChanged.subscribe(this.handleChanged))}async saveData(t){if(this.source===!1)return;if(!this.source)throw new Error(`The meta file for ${this.name} is missing.`);if(lr.sourceLookup[this.source])throw new Error(`Metadata for ${this.name} is already being updated`);const e=this.source;await new Promise((n,s)=>{setTimeout(()=>{delete lr.sourceLookup[e],s(`Connection timeout when updating metadata for ${this.name}`)},1e3),lr.sourceLookup[e]=()=>{delete lr.sourceLookup[e],n()},(void 0).send("motion-canvas:meta",{source:e,data:t})})}loadData(t){var e;this.ignoreChange=!0,this.cache=t,(e=this.metaField)==null||e.set(t),this.ignoreChange=!1}}lr=Ii;Ii.sourceLookup={};class Xo extends Je{constructor(){super(...arguments),this.type=Number,this.presets=[]}parse(t){let e=parseFloat(t);return this.min!==void 0&&e<this.min&&(e=this.min),this.max!==void 0&&e>this.max&&(e=this.max),e}getPresets(){return this.presets}setPresets(t){return this.presets=t,this}setRange(t,e){return this.min=t,this.max=e,this}getMin(){return this.min??-1/0}getMax(){return this.max??1/0}}class fo extends Je{constructor(){super(...arguments),this.type=fo.symbol}parse(t){return this.parseRange(1/0,t[0],t[1]??1/0)}update(t,e,n,s){this.value.current=this.parseRange(n/s-hr,t/s-hr,e/s-hr)}parseRange(t,e=this.value.current[0],n=this.value.current[1]){return e=Fe(0,t,e),n=Fe(0,t,n??1/0),e>n&&([e,n]=[n,e]),n>=t&&(n=1/0),[e,n]}}fo.symbol=Symbol.for("@motion-canvas/core/meta/RangeMetaField");class nh extends Je{constructor(){super(...arguments),this.type=y.symbol}parse(t){return new y(t)}serialize(){return this.value.current.serialize()}}let ca;ca??(ca=new Ii("project",!1));ca.loadData({version:0,shared:{background:null,range:[0,null],size:{x:1920,y:1080},audioOffset:0},preview:{fps:30,resolutionScale:1},rendering:{fps:60,resolutionScale:1,colorSpace:"srgb",exporter:{name:"@motion-canvas/core/image-sequence",options:{fileType:"image/png",quality:100,groupByScene:!1}}}});const Rf=ca;let ua;ua??(ua=new Ii("paymentInputsScene",!1));ua.loadData({version:0,timeEvents:[],seed:913847221});const Lf=ua;function Mf(i){var t;return!!((t=i.prototype)!=null&&t.isClass)}const bn=Symbol.for("@motion-canvas/2d/fragment");function P(i,t,e){const{ref:n,children:s,...r}=t,l=Array.isArray(s)?s.flat():s;if(i===bn)return l;if(Mf(i)){const c=new i({...r,children:l,key:e});return n==null||n(c),c}else return i({...r,ref:n,children:l,key:e})}const ta={invert:{name:"invert"},sepia:{name:"sepia"},grayscale:{name:"grayscale"},brightness:{name:"brightness",default:1},contrast:{name:"contrast",default:1},saturate:{name:"saturate",default:1},hue:{name:"hue-rotate",unit:"deg",scale:1},blur:{name:"blur",transform:!0,unit:"px",scale:1}};class ih{get name(){return this.props.name}get default(){return this.props.default}constructor(t){this.props={name:"invert",default:0,unit:"%",scale:100,transform:!1,...t,value:t.value??t.default??0},this.value=Z(this.props.value,It,this)}isActive(){return this.value()!==this.props.default}serialize(t){let e=this.value();return this.props.transform&&(e=Ko(e,t)),`${this.props.name}(${e*this.props.scale}${this.props.unit})`}}function Pl(i){return new ih({...ta.blur,value:i})}const ti=Symbol.for("@motion-canvas/2d/decorators/initializers");function pr(i,t){if(!i[ti])i[ti]=[];else if(i[ti]&&!Object.prototype.hasOwnProperty.call(i,ti)){const e=Object.getPrototypeOf(i);i[ti]=[...e[ti]]}i[ti].push(t)}function Of(i,t){if(i[ti])try{i[ti].forEach(e=>e(i,t))}catch(e){throw e.inspect??(e.inspect=i.key),e}}function nt(){return(i,t)=>{pr(i,e=>{const n=Object.getPrototypeOf(e)[t];e[t]=Sf(n.bind(e),e)})}}function ea(i={},t,e){const n={};if(e&&t){const s=i.setter??(t==null?void 0:t[`set${as(e)}`]);s&&(n.setter=s.bind(t));const r=i.getter??(t==null?void 0:t[`get${as(e)}`]);r&&(n.getter=r.bind(t));const l=i.tweener??(t==null?void 0:t[`tween${as(e)}`]);l&&(n.tweener=l.bind(t))}return n}const ei=Symbol.for("@motion-canvas/2d/decorators/properties");function us(i,t){var e;return((e=i[ei])==null?void 0:e[t])??null}function fa(i,t){let e;return i[ei]?i[ei]&&!Object.prototype.hasOwnProperty.call(i,ei)?i[ei]=e=Object.fromEntries(Object.entries(i[ei]).map(([n,s])=>[n,{...s}])):e=i[ei]:i[ei]=e={},e[t]??(e[t]={cloneable:!0,inspectable:!0,compoundEntries:[]}),e[t]}function sh(i){return i&&typeof i=="object"?i[ei]??{}:{}}function da(i,t){Of(i);for(const[e,n]of Object.entries(sh(i))){const s=i[e];if(s.reset(),t[e]!==void 0&&s(t[e]),n.compoundEntries!==void 0)for(const[r,l]of n.compoundEntries)l in t&&s[r](t[l])}}function E(){return(i,t)=>{const e=fa(i,t);pr(i,n=>{var c;let s=e.default;const r=n[`getDefault${as(t)}`];r&&(s=()=>r.call(n,e.default));const l=new cs(s,e.interpolationFunction??Bs,n,(c=e.parser)==null?void 0:c.bind(n),ea(e,n,t));n[t]=l.toSignal()})}}function j(i){return(t,e)=>{const n=us(t,e);if(!n){de().error(`Missing property decorator for "${e.toString()}"`);return}n.default=i}}function pa(i){return(t,e)=>{const n=us(t,e);if(!n){de().error(`Missing property decorator for "${e.toString()}"`);return}n.interpolationFunction=i}}function ga(i){return(t,e)=>{const n=us(t,e);if(!n){de().error(`Missing property decorator for "${e.toString()}"`);return}n.parser=i}}function gr(i){return(t,e)=>{const n=us(t,e);if(!n){de().error(`Missing property decorator for "${e.toString()}"`);return}n.parser=s=>new i(s),"lerp"in i&&(n.interpolationFunction??(n.interpolationFunction=i.lerp))}}function fs(i=!0){return(t,e)=>{const n=us(t,e);if(!n){de().error(`Missing property decorator for "${e.toString()}"`);return}n.cloneable=i}}function rh(i=!0){return(t,e)=>{const n=us(t,e);if(!n){de().error(`Missing property decorator for "${e.toString()}"`);return}n.inspectable=i}}function oh(i,t=uo){return(e,n)=>{const s=fa(e,n);s.compound=!0,s.compoundEntries=Object.entries(i),pr(e,r=>{if(!s.parser){de().error(`Missing parser decorator for "${n.toString()}"`);return}const l=s.default,c=s.parser.bind(r),f=new t(s.compoundEntries.map(([g,x])=>{const S=new cs(ls(l,T=>c(T)[g]),It,r,void 0,ea(void 0,r,x)).toSignal();return[g,S]}),c,l,s.interpolationFunction??Bs,r,ea(s,r,n));r[n]=f.toSignal()})}}function si(i){return(t,e)=>{oh(typeof i=="object"?i:{x:i?`${i}X`:"x",y:i?`${i}Y`:"y"},th)(t,e),gr(y)(t,e)}}var zi=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class De{constructor(t){da(this,t)}canvasGradient(t){let e;switch(this.type()){case"linear":e=t.createLinearGradient(this.from.x(),this.from.y(),this.to.x(),this.to.y());break;case"conic":e=t.createConicGradient(this.angle(),this.from.x(),this.from.y());break;case"radial":e=t.createRadialGradient(this.from.x(),this.from.y(),this.fromRadius(),this.to.x(),this.to.y(),this.toRadius());break}for(const{offset:n,color:s}of this.stops())e.addColorStop(Fn(n),new Ei(Fn(s)).serialize());return e}}zi([j("linear"),E()],De.prototype,"type",void 0);zi([si("from")],De.prototype,"from",void 0);zi([si("to")],De.prototype,"to",void 0);zi([j(0),E()],De.prototype,"angle",void 0);zi([j(0),E()],De.prototype,"fromRadius",void 0);zi([j(0),E()],De.prototype,"toRadius",void 0);zi([j([]),E()],De.prototype,"stops",void 0);zi([nt()],De.prototype,"canvasGradient",null);var ma=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class mr{constructor(t){da(this,t)}canvasPattern(t){return t.createPattern(this.image(),this.repetition())}}ma([E()],mr.prototype,"image",void 0);ma([j(null),E()],mr.prototype,"repetition",void 0);ma([nt()],mr.prototype,"canvasPattern",null);function Af(i){return i===null?null:i instanceof De||i instanceof mr?i:new Ei(i)}function na(i,t){return i===null?"":i instanceof Ei?i.serialize():i instanceof De?i.canvasGradient(t):i instanceof mr?i.canvasPattern(t)??"":""}function Rl(i,t,e,n,s){if(e.top===0&&e.right===0&&e.bottom===0&&e.left===0){Ff(i,t);return}const r=Oi(e.top,e.right,e.left,t),l=Oi(e.right,e.top,e.bottom,t),c=Oi(e.bottom,e.left,e.right,t),f=Oi(e.left,e.bottom,e.top,t);if(n){const g=x=>{const S=x*s;return x-S};i.moveTo(t.left+r,t.top),i.lineTo(t.right-l,t.top),i.bezierCurveTo(t.right-g(l),t.top,t.right,t.top+g(l),t.right,t.top+l),i.lineTo(t.right,t.bottom-c),i.bezierCurveTo(t.right,t.bottom-g(c),t.right-g(c),t.bottom,t.right-c,t.bottom),i.lineTo(t.left+f,t.bottom),i.bezierCurveTo(t.left+g(f),t.bottom,t.left,t.bottom-g(f),t.left,t.bottom-f),i.lineTo(t.left,t.top+r),i.bezierCurveTo(t.left,t.top+g(r),t.left+g(r),t.top,t.left+r,t.top);return}i.moveTo(t.left+r,t.top),i.arcTo(t.right,t.top,t.right,t.bottom,l),i.arcTo(t.right,t.bottom,t.left,t.bottom,c),i.arcTo(t.left,t.bottom,t.left,t.top,f),i.arcTo(t.left,t.top,t.right,t.top,r)}function Oi(i,t,e,n){const s=i+t>n.width?n.width*(i/(i+t)):i,r=i+e>n.height?n.height*(i/(i+e)):i;return Math.min(s,r)}function Ff(i,t){i.rect(t.x,t.y,t.width,t.height)}function yr(i,t){i.moveTo(t.x,t.y)}function An(i,t){i.lineTo(t.x,t.y)}function Ri(i,t){if(!(t.length<2)){yr(i,t[0]);for(const e of t.slice(1))An(i,e)}}function ah(i,t,e=8){An(i,t.addY(-e)),An(i,t.addY(e)),An(i,t),An(i,t.addX(-e)),lh(i,t,e)}function lh(i,t,e,n=0,s=Math.PI*2,r=!1){i.arc(t.x,t.y,e,n,s,r)}function Ef(i,t,e,n){i.bezierCurveTo(t.x,t.y,e.x,e.y,n.x,n.y)}function ya(i){return t=>t instanceof i}function hh(){return(i,t)=>{E()(i,t),ga(Af)(i,t),pa(Ei.lerp)(i,t),j(null)(i,t)}}function Df(){return(i,t)=>{E()(i,t),gr(Ei)(i,t)}}function $i(i,t=e=>e){return(e,n)=>{e[`getDefault${as(n)}`]=function(){this.requestLayoutUpdate();const s=this.element.style[i];this.element.style[i]="";const r=t.call(this,this.styles.getPropertyValue(i));return this.element.style[i]=s,r}}}class If extends cs{constructor(t,e){super(t,Bs,e);for(const n in ta){const s=ta[n];Object.defineProperty(this.invokable,n,{value:(r,l,c=w)=>{var g,x,S;if(r===void 0)return((x=(g=this.get())==null?void 0:g.find(T=>T.name===s.name))==null?void 0:x.value())??s.default??0;let f=(S=this.get())==null?void 0:S.find(T=>T.name===s.name);return f||(f=new ih(s),this.set([...this.get(),f])),l===void 0?(f.value(r),this.owner):f.value(r,l,c)}})}}*tweener(t,e,n){const s=this.get(),r=Fn(t);if($f(s,r)){yield*D(...s.map((f,g)=>f.value(r[g].value(),e,n))),this.set(r);return}for(const f of r)f.value(f.default);const l=r.map(f=>f.value.context.raw()),c=s.length>0&&r.length>0?e/2:e;s.length>0&&(yield*D(...s.map(f=>f.value(f.default,c,n)))),this.set(r),r.length>0&&(yield*D(...r.map((f,g)=>f.value(l[g],c,n))))}}function zf(){return(i,t)=>{const e=fa(i,t);pr(i,n=>{n[t]=new If(e.default??[],n).toSignal()})}}function $f(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;e++)if(i[e].name!==t[e].name)return!1;return!0}const _f=Symbol.for("@motion-canvas/2d/nodeName");function En(i){return function(t){t.prototype[_f]=i}}function Ll(i,t){const e=Fe(0,i.arcLength,t);let n=0;for(const s of i.segments){const r=n;if(n+=s.arcLength,n>=e){const l=(e-r)/s.arcLength;return s.getPoint(Fe(0,1,l))}}return{position:y.zero,tangent:y.up,normal:y.up}}function po(i){return(t,e)=>{oh({top:i?`${i}Top`:"top",right:i?`${i}Right`:"right",bottom:i?`${i}Bottom`:"bottom",left:i?`${i}Left`:"left"})(t,e),gr(yn)(t,e)}}function Bf(i){let t;return i?typeof i=="string"?t=[{fragment:i}]:Array.isArray(i)?t=i.map(e=>typeof e=="string"?{fragment:e}:e):t=[i]:t=[],!aa().experimentalFeatures&&t.length>0&&(t=[],de().log({...Ju("Node uses experimental shaders."),inspect:this.key})),t}function no(){return aa()}var ot=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},io;let Q=io=class{get x(){return this.position.x}get y(){return this.position.y}getAbsolutePosition(){return new y(this.parentToWorld().transformPoint(this.position()))}setAbsolutePosition(t){this.position(ls(t,e=>new y(e).transformAsPoint(this.worldToParent())))}getAbsoluteRotation(){const t=this.localToWorld();return y.degrees(t.m11,t.m12)}setAbsoluteRotation(t){this.rotation(ls(t,e=>Tf(e,this.worldToParent())))}getAbsoluteScale(){const t=this.localToWorld();return new y(y.magnitude(t.m11,t.m12),y.magnitude(t.m21,t.m22))}setAbsoluteScale(t){this.scale(ls(t,e=>this.getRelativeScale(new y(e))))}getRelativeScale(t){var n;const e=((n=this.parent())==null?void 0:n.absoluteScale())??y.one;return t.div(e)}*tweenCompositeOperation(t,e,n){const s=Fn(t);s==="source-over"?(yield*this.compositeOverride(1,e,n),this.compositeOverride(0),this.compositeOperation(s)):(this.compositeOperation(s),this.compositeOverride(1),yield*this.compositeOverride(0,e,n))}absoluteOpacity(){var t;return(((t=this.parent())==null?void 0:t.absoluteOpacity())??1)*this.opacity()}hasFilters(){return!!this.filters().find(t=>t.isActive())}hasShadow(){return!!this.shadowColor()&&(this.shadowBlur()>0||this.shadowOffset.x()!==0||this.shadowOffset.y()!==0)}filterString(){let t="";const e=this.compositeToWorld();for(const n of this.filters())n.isActive()&&(t+=" "+n.serialize(e));return t}getSpawner(){return this.children()}setSpawner(t){this.children(t)}setChildren(t){if(this.children.context.raw()!==t){if(this.children.context.setter(t),!ni(t))this.spawnChildren(!1,t);else if(!this.hasSpawnedChildren)for(const e of this.realChildren)e.parent(null)}}getChildren(){return this.children.context.getter(),this.spawnedChildren()}spawnedChildren(){const t=this.children.context.getter();return ni(this.children.context.raw())&&this.spawnChildren(!0,t),this.realChildren}sortedChildren(){return[...this.children()].sort((t,e)=>Math.sign(t.zIndex()-e.zIndex()))}constructor({children:t,spawner:e,key:n,...s}){this.compositeOverride=Z(0),this.stateStack=[],this.realChildren=[],this.hasSpawnedChildren=!1,this.parent=Z(null),this.properties=sh(this);const r=no();[this.key,this.unregister]=r.registerNode(this,n),this.view2D=r.getView(),this.creationStack=new Error().stack,da(this,s),e&&de().warn({message:"Node.spawner() has been deprecated.",remarks:"Use <code>Node.children()</code> instead.",inspect:this.key,stack:new Error().stack}),this.children(e??t)}localToWorld(){const t=this.parent();return t?t.localToWorld().multiply(this.localToParent()):this.localToParent()}worldToLocal(){return this.localToWorld().inverse()}worldToParent(){var t;return((t=this.parent())==null?void 0:t.worldToLocal())??new DOMMatrix}parentToWorld(){var t;return((t=this.parent())==null?void 0:t.localToWorld())??new DOMMatrix}localToParent(){const t=new DOMMatrix;return t.translateSelf(this.x(),this.y()),t.rotateSelf(0,0,this.rotation()),t.scaleSelf(this.scale.x(),this.scale.y()),t.skewXSelf(this.skew.x()),t.skewYSelf(this.skew.y()),t}compositeToWorld(){var t;return((t=this.compositeRoot())==null?void 0:t.localToWorld())??new DOMMatrix}compositeRoot(){var t;return this.composite()?this:((t=this.parent())==null?void 0:t.compositeRoot())??null}compositeToLocal(){const t=this.compositeRoot();if(t){const e=this.worldToLocal();return e.m44=1,t.localToWorld().multiply(e)}return new DOMMatrix}view(){return this.view2D}add(t){return this.insert(t,1/0)}insert(t,e=0){const n=Array.isArray(t)?t:[t];if(n.length===0)return this;const s=this.children(),r=s.slice(0,e);for(const l of n)l instanceof io&&(r.push(l),l.remove(),l.parent(this));return r.push(...s.slice(e)),this.setParsedChildren(r),this}remove(){const t=this.parent();return t===null?this:(t.removeChild(this),this.parent(null),this)}move(t=1){const e=this.parent();if(t===0||!e)return this;const n=e.children(),s=[];if(t>0)for(let r=0;r<n.length;r++){const l=n[r];if(l===this){const c=r+t;for(;r<c&&r+1<n.length;r++)s[r]=n[r+1]}s[r]=l}else for(let r=n.length-1;r>=0;r--){const l=n[r];if(l===this){const c=r+t;for(;r>c&&r>0;r--)s[r]=n[r-1]}s[r]=l}return e.setParsedChildren(s),this}moveUp(){return this.move(1)}moveDown(){return this.move(-1)}moveToTop(){return this.move(1/0)}moveToBottom(){return this.move(-1/0)}moveTo(t){const e=this.parent();if(!e)return this;const n=e.children().indexOf(this),s=t-n;return this.move(s)}moveBelow(t,e=!1){const n=this.parent();if(!n)return this;if(t.parent()!==n)return de().error("Cannot position nodes relative to each other if they don't belong to the same parent."),this;const s=n.children(),r=s.indexOf(this),l=s.indexOf(t);if(!e&&r<l)return this;const c=l-r-1;return this.move(c)}moveAbove(t,e=!1){const n=this.parent();if(!n)return this;if(t.parent()!==n)return de().error("Cannot position nodes relative to each other if they don't belong to the same parent."),this;const s=n.children(),r=s.indexOf(this),l=s.indexOf(t);if(!e&&r>l)return this;const c=l-r+1;return this.move(c)}reparent(t){const e=this.absolutePosition(),n=this.absoluteRotation(),s=this.absoluteScale();return t.add(this),this.absolutePosition(e),this.absoluteRotation(n),this.absoluteScale(s),this}removeChildren(){for(const t of this.realChildren)t.parent(null);return this.setParsedChildren([]),this}peekChildren(){return this.realChildren}findAll(t){const e=[],n=this.reversedChildren();for(;n.length>0;){const s=n.pop();t(s)&&e.push(s);const r=s.children();for(let l=r.length-1;l>=0;l--)n.push(r[l])}return e}findFirst(t){const e=this.reversedChildren();for(;e.length>0;){const n=e.pop();if(t(n))return n;const s=n.children();for(let r=s.length-1;r>=0;r--)e.push(s[r])}return null}findLast(t){const e=[],n=this.reversedChildren();for(;n.length>0;){const s=n.pop();e.push(s);const r=s.children();for(let l=r.length-1;l>=0;l--)n.push(r[l])}for(;e.length>0;){const s=e.pop();if(t(s))return s}return null}findAncestor(t){let e=this.parent();for(;e;){if(t(e))return e;e=e.parent()}return null}childAs(t){return this.children()[t]??null}childrenAs(){return this.children()}parentAs(){return this.parent()??null}dispose(){if(this.unregister){this.stateStack=[],this.unregister(),this.unregister=null;for(const{signal:t}of this)t==null||t.context.dispose();for(const t of this.realChildren)t.dispose()}}clone(t={}){const e={...t};ni(this.children.context.raw())?e.children??(e.children=this.children.context.raw()):this.children().length>0&&(e.children??(e.children=this.children().map(n=>n.clone())));for(const{key:n,meta:s,signal:r}of this)if(!(!s.cloneable||n in e))if(s.compound)for(const[l,c]of s.compoundEntries){if(c in e)continue;const f=r[l];f.context.isInitial()||(e[c]=f.context.raw())}else r.context.isInitial()||(e[n]=r.context.raw());return this.instantiate(e)}snapshotClone(t={}){const e={...this.getState(),...t};return this.children().length>0&&(e.children??(e.children=this.children().map(n=>n.snapshotClone()))),this.instantiate(e)}reactiveClone(t={}){const e={...t};this.children().length>0&&(e.children??(e.children=this.children().map(n=>n.reactiveClone())));for(const{key:n,meta:s,signal:r}of this)!s.cloneable||n in e||(e[n]=()=>r());return this.instantiate(e)}instantiate(t={}){return new this.constructor(t)}setParsedChildren(t){this.children.context.setter(t),this.realChildren=t}spawnChildren(t,e){const n=this.parseChildren(e),s=new Set;for(const r of n){const l=r.parent.context.raw();l&&l!==this&&l.removeChild(r),s.add(r.key),r.parent(this)}for(const r of this.realChildren)s.has(r.key)||r.parent(null);this.hasSpawnedChildren=t,this.realChildren=n}parseChildren(t){const e=[],n=Array.isArray(t)?t:[t];for(const s of n)s instanceof io&&e.push(s);return e}removeChild(t){this.setParsedChildren(this.children().filter(e=>e!==t))}requiresCache(){return this.cache()||this.opacity()<1||this.compositeOperation()!=="source-over"||this.hasFilters()||this.hasShadow()||this.shaders().length>0}cacheCanvas(){const t=document.createElement("canvas").getContext("2d");if(!t)throw new Error("Could not create a cache canvas");return t}cachedCanvas(){const t=this.cacheCanvas(),e=this.worldSpaceCacheBBox(),n=this.localToWorld();return t.canvas.width=e.width,t.canvas.height=e.height,t.setTransform(n.a,n.b,n.c,n.d,n.e-e.x,n.f-e.y),this.draw(t),t}getCacheBBox(){return new St}cacheBBox(){const t=this.getCacheBBox(),e=this.children(),n=this.cachePadding();if(e.length===0)return t.addSpacing(n);const s=t.corners;for(const l of e){const c=l.fullCacheBBox(),f=l.localToParent();s.push(...c.corners.map(g=>g.transformAsPoint(f)))}return St.fromPoints(...s).addSpacing(n)}fullCacheBBox(){const t=this.compositeToLocal(),e=this.shadowOffset().transform(t),n=Ko(this.shadowBlur(),t),s=this.cacheBBox().expand(this.filters.blur()*2+n);return e.x<0?(s.x+=e.x,s.width-=e.x):s.width+=e.x,e.y<0?(s.y+=e.y,s.height-=e.y):s.height+=e.y,s}worldSpaceCacheBBox(){const t=St.fromSizeCentered(this.view().size()).expand(this.view().cachePadding()),e=St.fromPoints(...t.transformCorners(this.view().localToWorld())),n=St.fromPoints(...this.cacheBBox().transformCorners(this.localToWorld()));return e.intersection(n).pixelPerfect.expand(2)}parentWorldSpaceCacheBBox(){var t;return((t=this.findAncestor(e=>e.requiresCache()))==null?void 0:t.worldSpaceCacheBBox())??new St(y.zero,no().getRealSize())}setupDrawFromCache(t){if(t.globalCompositeOperation=this.compositeOperation(),t.globalAlpha*=this.opacity(),this.hasFilters()&&(t.filter=this.filterString()),this.hasShadow()){const n=this.compositeToWorld(),s=this.shadowOffset().transform(n),r=Ko(this.shadowBlur(),n);t.shadowColor=this.shadowColor().serialize(),t.shadowBlur=r,t.shadowOffsetX=s.x,t.shadowOffsetY=s.y}const e=this.worldToLocal();t.transform(e.a,e.b,e.c,e.d,e.e,e.f)}renderFromSource(t,e,n,s){this.setupDrawFromCache(t);const r=this.compositeOverride();t.drawImage(e,n,s),r>0&&(t.save(),t.globalAlpha*=r,t.globalCompositeOperation="source-over",t.drawImage(e,n,s),t.restore())}shaderCanvas(t,e){var S,T;const n=this.shaders();if(n.length===0)return null;const s=no(),r=s.getRealSize(),l=this.parentWorldSpaceCacheBBox(),c=new DOMMatrix().scaleSelf(r.width/l.width,r.height/-l.height).translateSelf(l.x/-r.width,l.y/r.height-1),f=this.worldSpaceCacheBBox(),g=new DOMMatrix().scaleSelf(r.width/f.width,r.height/-f.height).translateSelf(f.x/-r.width,f.y/r.height-1).invertSelf(),x=s.shaders.getGL();s.shaders.copyTextures(t,e),s.shaders.clear();for(const N of n){const K=s.shaders.getProgram(N.fragment);if(K){if(N.uniforms)for(const[C,$]of Object.entries(N.uniforms)){const W=x.getUniformLocation(K,C);if(W===null)continue;const st=Fn($);typeof st=="number"?x.uniform1f(W,st):"toUniform"in st?st.toUniform(x,W):st.length===1?x.uniform1f(W,st[0]):st.length===2?x.uniform2f(W,st[0],st[1]):st.length===3?x.uniform3f(W,st[0],st[1],st[2]):st.length===4&&x.uniform4f(W,st[0],st[1],st[2],st[3])}x.uniform1f(x.getUniformLocation(K,kl),this.view2D.globalTime()),x.uniform1i(x.getUniformLocation(K,kl),s.playback.frame),x.uniformMatrix4fv(x.getUniformLocation(K,cf),!1,g.toFloat32Array()),x.uniformMatrix4fv(x.getUniformLocation(K,uf),!1,c.toFloat32Array()),(S=N.setup)==null||S.call(N,x,K),s.shaders.render(),(T=N.teardown)==null||T.call(N,x,K)}}return x.canvas}render(t){if(!(this.absoluteOpacity()<=0)){if(t.save(),this.transformContext(t),this.requiresCache()){const e=this.worldSpaceCacheBBox();if(e.width!==0&&e.height!==0){const n=this.cachedCanvas().canvas,s=this.shaderCanvas(t.canvas,n);s?this.renderFromSource(t,s,0,0):this.renderFromSource(t,n,e.position.x,e.position.y)}}else this.draw(t);t.restore()}}draw(t){this.drawChildren(t)}drawChildren(t){for(const e of this.sortedChildren())e.render(t)}drawOverlay(t,e){const n=this.cacheBBox().transformCorners(e),s=this.getCacheBBox().transformCorners(e);t.strokeStyle="white",t.lineWidth=1,t.beginPath(),Ri(t,n),t.closePath(),t.stroke(),t.strokeStyle="blue",t.beginPath(),Ri(t,s),t.closePath(),t.stroke()}transformContext(t){const e=this.localToParent();t.transform(e.a,e.b,e.c,e.d,e.e,e.f)}hit(t){let e=null;const n=t.transformAsPoint(this.localToParent().inverse()),s=this.children();for(let r=s.length-1;r>=0&&(e=s[r].hit(n),!e);r--);return e}collectAsyncResources(){for(const t of this.children())t.collectAsyncResources()}async toPromise(){do await Kt.consumePromises(),this.collectAsyncResources();while(Kt.hasPromises());return this}getState(){const t={};for(const{key:e,meta:n,signal:s}of this)!n.cloneable||e in t||(t[e]=s());return t}applyState(t,e,n=w){if(e===void 0)for(const r in t){const l=this.signalByKey(r);l&&l(t[r])}const s=[];for(const r in t){const l=this.signalByKey(r);t[r]!==l.context.raw()&&s.push(l(t[r],e,n))}return D(...s)}save(){this.stateStack.push(this.getState())}restore(t,e=w){const n=this.stateStack.pop();if(n!==void 0)return this.applyState(n,t,e)}*[Symbol.iterator](){for(const t in this.properties){const e=this.properties[t],n=this.signalByKey(t);yield{meta:e,signal:n,key:t}}}signalByKey(t){return this[t]}reversedChildren(){const t=this.children(),e=[];for(let n=t.length-1;n>=0;n--)e.push(t[n]);return e}};ot([si()],Q.prototype,"position",void 0);ot([gr(y),fs(!1),E()],Q.prototype,"absolutePosition",void 0);ot([j(0),E()],Q.prototype,"rotation",void 0);ot([fs(!1),E()],Q.prototype,"absoluteRotation",void 0);ot([j(y.one),si("scale")],Q.prototype,"scale",void 0);ot([j(y.zero),si("skew")],Q.prototype,"skew",void 0);ot([gr(y),fs(!1),E()],Q.prototype,"absoluteScale",void 0);ot([j(0),E()],Q.prototype,"zIndex",void 0);ot([j(!1),E()],Q.prototype,"cache",void 0);ot([po("cachePadding")],Q.prototype,"cachePadding",void 0);ot([j(!1),E()],Q.prototype,"composite",void 0);ot([j("source-over"),E()],Q.prototype,"compositeOperation",void 0);ot([qt()],Q.prototype,"tweenCompositeOperation",null);ot([j(1),ga(i=>Fe(0,1,i)),E()],Q.prototype,"opacity",void 0);ot([nt()],Q.prototype,"absoluteOpacity",null);ot([zf()],Q.prototype,"filters",void 0);ot([j("#0000"),Df()],Q.prototype,"shadowColor",void 0);ot([j(0),E()],Q.prototype,"shadowBlur",void 0);ot([si("shadowOffset")],Q.prototype,"shadowOffset",void 0);ot([j([]),ga(Bf),E()],Q.prototype,"shaders",void 0);ot([nt()],Q.prototype,"hasFilters",null);ot([nt()],Q.prototype,"hasShadow",null);ot([nt()],Q.prototype,"filterString",null);ot([rh(!1),fs(!1),E()],Q.prototype,"spawner",void 0);ot([rh(!1),fs(!1),E()],Q.prototype,"children",void 0);ot([nt()],Q.prototype,"spawnedChildren",null);ot([nt()],Q.prototype,"sortedChildren",null);ot([nt()],Q.prototype,"localToWorld",null);ot([nt()],Q.prototype,"worldToLocal",null);ot([nt()],Q.prototype,"worldToParent",null);ot([nt()],Q.prototype,"parentToWorld",null);ot([nt()],Q.prototype,"localToParent",null);ot([nt()],Q.prototype,"compositeToWorld",null);ot([nt()],Q.prototype,"compositeRoot",null);ot([nt()],Q.prototype,"compositeToLocal",null);ot([nt()],Q.prototype,"cacheCanvas",null);ot([nt()],Q.prototype,"cachedCanvas",null);ot([nt()],Q.prototype,"cacheBBox",null);ot([nt()],Q.prototype,"fullCacheBBox",null);ot([nt()],Q.prototype,"worldSpaceCacheBBox",null);ot([nt()],Q.prototype,"parentWorldSpaceCacheBBox",null);Q=io=ot([En("Node")],Q);Q.prototype.isClass=!0;var X=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},so;let H=so=class extends Q{get columnGap(){return this.gap.x}get rowGap(){return this.gap.y}getX(){return this.isLayoutRoot()?this.x.context.getter():this.computedPosition().x}setX(t){this.x.context.setter(t)}getY(){return this.isLayoutRoot()?this.y.context.getter():this.computedPosition().y}setY(t){this.y.context.setter(t)}get width(){return this.size.x}get height(){return this.size.y}getWidth(){return this.computedSize().width}setWidth(t){this.width.context.setter(t)}*tweenWidth(t,e,n,s){const r=this.desiredSize().x,l=typeof r!="number"||typeof t!="number";let c;l?c=this.size.x():c=r;let f;l?(this.size.x(t),f=this.size.x()):f=t,this.size.x(c),l&&this.lockSize(),yield*vn(e,g=>this.size.x(s(c,f,n(g)))),this.size.x(t),l&&this.releaseSize()}getHeight(){return this.computedSize().height}setHeight(t){this.height.context.setter(t)}*tweenHeight(t,e,n,s){const r=this.desiredSize().y,l=typeof r!="number"||typeof t!="number";let c;l?c=this.size.y():c=r;let f;l?(this.size.y(t),f=this.size.y()):f=t,this.size.y(c),l&&this.lockSize(),yield*vn(e,g=>this.size.y(s(c,f,n(g)))),this.size.y(t),l&&this.releaseSize()}desiredSize(){return{x:this.width.context.getter(),y:this.height.context.getter()}}*tweenSize(t,e,n,s){const r=this.desiredSize();let l;typeof r.x!="number"||typeof r.y!="number"?l=this.size():l=new y(r);let c;typeof t=="object"&&typeof t.x=="number"&&typeof t.y=="number"?c=new y(t):(this.size(t),c=this.size()),this.size(l),this.lockSize(),yield*vn(e,f=>this.size(s(l,c,n(f)))),this.releaseSize(),this.size(t)}cardinalPoint(t){switch(t){case Ht.TopLeft:return this.topLeft;case Ht.TopRight:return this.topRight;case Ht.BottomLeft:return this.bottomLeft;case Ht.BottomRight:return this.bottomRight;case Ht.Top:case Ne.Top:return this.top;case Ht.Bottom:case Ne.Bottom:return this.bottom;case Ht.Left:case Ne.Left:return this.left;case Ht.Right:case Ne.Right:return this.right;default:return this.middle}}constructor(t){super(t),this.element.dataset.motionCanvasKey=this.key}lockSize(){this.sizeLockCounter(this.sizeLockCounter()+1)}releaseSize(){this.sizeLockCounter(this.sizeLockCounter()-1)}parentTransform(){return this.findAncestor(ya(so))}anchorPosition(){const t=this.computedSize(),e=this.offset();return t.scale(.5).mul(e)}layoutEnabled(){var t;return this.layout()??((t=this.parentTransform())==null?void 0:t.layoutEnabled())??!1}isLayoutRoot(){var t;return!this.layoutEnabled()||!((t=this.parentTransform())!=null&&t.layoutEnabled())}localToParent(){const t=super.localToParent(),e=this.offset();if(!e.exactlyEquals(y.zero)){const n=this.size().mul(e).scale(-.5);t.translateSelf(n.x,n.y)}return t}scalingRotationMatrix(){const t=new DOMMatrix;t.rotateSelf(0,0,this.rotation()),t.scaleSelf(this.scale.x(),this.scale.y());const e=this.offset();if(!e.exactlyEquals(y.zero)){const n=this.size().mul(e).scale(-.5);t.translateSelf(n.x,n.y)}return t}getComputedLayout(){return new St(this.element.getBoundingClientRect())}computedPosition(){this.requestLayoutUpdate();const t=this.getComputedLayout(),e=new y(t.x+t.width/2*this.offset.x(),t.y+t.height/2*this.offset.y()),n=this.parentTransform();if(n){const s=n.getComputedLayout();e.x-=s.x+(s.width-t.width)/2,e.y-=s.y+(s.height-t.height)/2}return e}computedSize(){return this.requestLayoutUpdate(),this.getComputedLayout().size}requestLayoutUpdate(){const t=this.parentTransform();this.appendedToView()?(t==null||t.requestFontUpdate(),this.updateLayout()):t.requestLayoutUpdate()}appendedToView(){const t=this.isLayoutRoot();return t&&this.view().element.append(this.element),t}updateLayout(){if(this.applyFont(),this.applyFlex(),this.layoutEnabled()){const t=this.layoutChildren();for(const e of t)e.updateLayout()}}layoutChildren(){const t=[...this.children()],e=[],n=[];for(;t.length;){const s=t.shift();s instanceof so?s.layoutEnabled()&&(e.push(s),n.push(s.element)):s&&t.unshift(...s.children())}return this.element.replaceChildren(...n),e}requestFontUpdate(){var t;this.appendedToView(),(t=this.parentTransform())==null||t.requestFontUpdate(),this.applyFont()}getCacheBBox(){return St.fromSizeCentered(this.computedSize())}draw(t){if(this.clip()){const e=this.computedSize();if(e.width===0||e.height===0)return;t.beginPath(),t.rect(e.width/-2,e.height/-2,e.width,e.height),t.closePath(),t.clip()}this.drawChildren(t)}drawOverlay(t,e){const n=this.computedSize(),s=n.mul(this.offset()).scale(.5).transformAsPoint(e),r=St.fromSizeCentered(n),l=r.transformCorners(e),c=r.addSpacing(this.padding().scale(-1)).transformCorners(e),f=r.addSpacing(this.margin()).transformCorners(e);t.beginPath(),Ri(t,f),Ri(t,l),t.closePath(),t.fillStyle="rgba(255,193,125,0.6)",t.fill("evenodd"),t.beginPath(),Ri(t,l),Ri(t,c),t.closePath(),t.fillStyle="rgba(180,255,147,0.6)",t.fill("evenodd"),t.beginPath(),Ri(t,l),t.closePath(),t.lineWidth=1,t.strokeStyle="white",t.stroke(),t.beginPath(),ah(t,s),t.stroke()}getOriginDelta(t){const e=this.computedSize().scale(.5),n=this.offset().mul(e);return t===Ht.Middle?n.flipped:Cf(t).mul(e).sub(n)}moveOffset(t){const e=this.computedSize().scale(.5),n=this.offset().mul(e),s=t.mul(e);this.offset(t),this.position(this.position().add(s).sub(n))}parsePixels(t){return t===null?"":`${t}px`}parseLength(t){return t===null?"":typeof t=="string"?t:`${t}px`}applyFlex(){this.element.style.position=this.isLayoutRoot()?"absolute":"relative";const t=this.desiredSize();this.element.style.width=this.parseLength(t.x),this.element.style.height=this.parseLength(t.y),this.element.style.maxWidth=this.parseLength(this.maxWidth()),this.element.style.minWidth=this.parseLength(this.minWidth()),this.element.style.maxHeight=this.parseLength(this.maxHeight()),this.element.style.minHeight=this.parseLength(this.minHeight()),this.element.style.aspectRatio=this.ratio()===null?"":this.ratio().toString(),this.element.style.marginTop=this.parsePixels(this.margin.top()),this.element.style.marginBottom=this.parsePixels(this.margin.bottom()),this.element.style.marginLeft=this.parsePixels(this.margin.left()),this.element.style.marginRight=this.parsePixels(this.margin.right()),this.element.style.paddingTop=this.parsePixels(this.padding.top()),this.element.style.paddingBottom=this.parsePixels(this.padding.bottom()),this.element.style.paddingLeft=this.parsePixels(this.padding.left()),this.element.style.paddingRight=this.parsePixels(this.padding.right()),this.element.style.flexDirection=this.direction(),this.element.style.flexBasis=this.parseLength(this.basis()),this.element.style.flexWrap=this.wrap(),this.element.style.justifyContent=this.justifyContent(),this.element.style.alignContent=this.alignContent(),this.element.style.alignItems=this.alignItems(),this.element.style.alignSelf=this.alignSelf(),this.element.style.columnGap=this.parseLength(this.gap.x()),this.element.style.rowGap=this.parseLength(this.gap.y()),this.sizeLockCounter()>0?(this.element.style.flexGrow="0",this.element.style.flexShrink="0"):(this.element.style.flexGrow=this.grow().toString(),this.element.style.flexShrink=this.shrink().toString())}applyFont(){if(this.element.style.fontFamily=this.fontFamily.isInitial()?"":this.fontFamily(),this.element.style.fontSize=this.fontSize.isInitial()?"":`${this.fontSize()}px`,this.element.style.fontStyle=this.fontStyle.isInitial()?"":this.fontStyle(),this.lineHeight.isInitial())this.element.style.lineHeight="";else{const t=this.lineHeight();this.element.style.lineHeight=typeof t=="string"?(parseFloat(t)/100).toString():`${t}px`}if(this.element.style.fontWeight=this.fontWeight.isInitial()?"":this.fontWeight().toString(),this.element.style.letterSpacing=this.letterSpacing.isInitial()?"":`${this.letterSpacing()}px`,this.element.style.textAlign=this.textAlign.isInitial()?"":this.textAlign(),this.textWrap.isInitial())this.element.style.whiteSpace="";else{const t=this.textWrap();typeof t=="boolean"?this.element.style.whiteSpace=t?"normal":"nowrap":this.element.style.whiteSpace=t}}dispose(){var t;super.dispose(),(t=this.sizeLockCounter)==null||t.context.dispose(),this.element&&(this.element.remove(),this.element.innerHTML=""),this.element=null,this.styles=null}hit(t){const e=t.transformAsPoint(this.localToParent().inverse());return this.cacheBBox().includes(e)?super.hit(t)??this:null}};X([j(null),pa(vf),E()],H.prototype,"layout",void 0);X([j(null),E()],H.prototype,"maxWidth",void 0);X([j(null),E()],H.prototype,"maxHeight",void 0);X([j(null),E()],H.prototype,"minWidth",void 0);X([j(null),E()],H.prototype,"minHeight",void 0);X([j(null),E()],H.prototype,"ratio",void 0);X([po("margin")],H.prototype,"margin",void 0);X([po("padding")],H.prototype,"padding",void 0);X([j("row"),E()],H.prototype,"direction",void 0);X([j(null),E()],H.prototype,"basis",void 0);X([j(0),E()],H.prototype,"grow",void 0);X([j(1),E()],H.prototype,"shrink",void 0);X([j("nowrap"),E()],H.prototype,"wrap",void 0);X([j("start"),E()],H.prototype,"justifyContent",void 0);X([j("normal"),E()],H.prototype,"alignContent",void 0);X([j("stretch"),E()],H.prototype,"alignItems",void 0);X([j("auto"),E()],H.prototype,"alignSelf",void 0);X([j(0),si({x:"columnGap",y:"rowGap"})],H.prototype,"gap",void 0);X([$i("font-family"),E()],H.prototype,"fontFamily",void 0);X([$i("font-size",parseFloat),E()],H.prototype,"fontSize",void 0);X([$i("font-style"),E()],H.prototype,"fontStyle",void 0);X([$i("font-weight",parseInt),E()],H.prototype,"fontWeight",void 0);X([$i("line-height",parseFloat),E()],H.prototype,"lineHeight",void 0);X([$i("letter-spacing",i=>i==="normal"?0:parseFloat(i)),E()],H.prototype,"letterSpacing",void 0);X([$i("white-space",i=>i==="pre"?"pre":i==="normal"),E()],H.prototype,"textWrap",void 0);X([j("inherit"),E()],H.prototype,"textDirection",void 0);X([$i("text-align"),E()],H.prototype,"textAlign",void 0);X([j({x:null,y:null}),si({x:"width",y:"height"})],H.prototype,"size",void 0);X([qt()],H.prototype,"tweenWidth",null);X([qt()],H.prototype,"tweenHeight",null);X([nt()],H.prototype,"desiredSize",null);X([qt()],H.prototype,"tweenSize",null);X([si("offset")],H.prototype,"offset",void 0);X([ri(Ht.Middle)],H.prototype,"middle",void 0);X([ri(Ht.Top)],H.prototype,"top",void 0);X([ri(Ht.Bottom)],H.prototype,"bottom",void 0);X([ri(Ht.Left)],H.prototype,"left",void 0);X([ri(Ht.Right)],H.prototype,"right",void 0);X([ri(Ht.TopLeft)],H.prototype,"topLeft",void 0);X([ri(Ht.TopRight)],H.prototype,"topRight",void 0);X([ri(Ht.BottomLeft)],H.prototype,"bottomLeft",void 0);X([ri(Ht.BottomRight)],H.prototype,"bottomRight",void 0);X([j(!1),E()],H.prototype,"clip",void 0);X([j(0),E()],H.prototype,"sizeLockCounter",void 0);X([nt()],H.prototype,"parentTransform",null);X([nt()],H.prototype,"anchorPosition",null);X([nt()],H.prototype,"layoutEnabled",null);X([nt()],H.prototype,"isLayoutRoot",null);X([nt()],H.prototype,"scalingRotationMatrix",null);X([nt()],H.prototype,"computedPosition",null);X([nt()],H.prototype,"computedSize",null);X([nt()],H.prototype,"requestLayoutUpdate",null);X([nt()],H.prototype,"appendedToView",null);X([nt()],H.prototype,"updateLayout",null);X([nt()],H.prototype,"layoutChildren",null);X([nt()],H.prototype,"requestFontUpdate",null);X([nt()],H.prototype,"applyFlex",null);X([nt()],H.prototype,"applyFont",null);H=so=X([En("Layout")],H);function ri(i){return(t,e)=>{E()(t,e),fs(!1)(t,e);const n=us(t,e);n.parser=s=>new y(s),n.getter=function(){return this.computedSize().getOriginOffset(i).transformAsPoint(this.localToParent())},n.setter=function(s){return this.position(ls(s,r=>this.getOriginDelta(i).transform(this.scalingRotationMatrix()).flipped.add(r))),this}}}pr(H.prototype,i=>{i.element=document.createElement("div"),i.element.style.display="flex",i.element.style.boxSizing="border-box",i.styles=getComputedStyle(i.element)});var Ve=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};let pe=class extends H{rippleSize(){return wf(this.rippleStrength(),0,50)}constructor(t){super(t),this.rippleStrength=Z(0)}applyText(t){t.direction=this.textDirection(),this.element.dir=this.textDirection()}applyStyle(t){t.fillStyle=na(this.fill(),t),t.strokeStyle=na(this.stroke(),t),t.lineWidth=this.lineWidth(),t.lineJoin=this.lineJoin(),t.lineCap=this.lineCap(),t.setLineDash(this.lineDash()),t.lineDashOffset=this.lineDashOffset(),this.antialiased()||(t.filter="url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxmaWx0ZXIgaWQ9ImZpbHRlciIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jUiB0eXBlPSJpZGVudGl0eSIvPjxmZUZ1bmNHIHR5cGU9ImlkZW50aXR5Ii8+PGZlRnVuY0IgdHlwZT0iaWRlbnRpdHkiLz48ZmVGdW5jQSB0eXBlPSJkaXNjcmV0ZSIgdGFibGVWYWx1ZXM9IjAgMSIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48L2ZpbHRlcj48L3N2Zz4=#filter)")}draw(t){this.drawShape(t),this.clip()&&t.clip(this.getPath()),this.drawChildren(t)}drawShape(t){const e=this.getPath(),n=this.lineWidth()>0&&this.stroke()!==null,s=this.fill()!==null;t.save(),this.applyStyle(t),this.drawRipple(t),this.strokeFirst()?(n&&t.stroke(e),s&&t.fill(e)):(s&&t.fill(e),n&&t.stroke(e)),t.restore()}getCacheBBox(){return super.getCacheBBox().expand(this.lineWidth()/2)}getPath(){return new Path2D}getRipplePath(){return new Path2D}drawRipple(t){const e=this.rippleStrength();if(e>0){const n=this.getRipplePath();t.save(),t.globalAlpha*=It(.54,0,e),t.fill(n),t.restore()}}*ripple(t=1){this.rippleStrength(0),yield*this.rippleStrength(1,t,es),this.rippleStrength(0)}};Ve([hh()],pe.prototype,"fill",void 0);Ve([hh()],pe.prototype,"stroke",void 0);Ve([j(!1),E()],pe.prototype,"strokeFirst",void 0);Ve([j(0),E()],pe.prototype,"lineWidth",void 0);Ve([j("miter"),E()],pe.prototype,"lineJoin",void 0);Ve([j("butt"),E()],pe.prototype,"lineCap",void 0);Ve([j([]),E()],pe.prototype,"lineDash",void 0);Ve([j(0),E()],pe.prototype,"lineDashOffset",void 0);Ve([j(!0),E()],pe.prototype,"antialiased",void 0);Ve([nt()],pe.prototype,"rippleSize",null);Ve([nt()],pe.prototype,"getPath",null);Ve([qt()],pe.prototype,"ripple",null);pe=Ve([En("Shape")],pe);var xn=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};let Ie=class extends pe{desiredSize(){return this.childrenBBox().size}constructor(t){super(t),this.canHaveSubpath=!1}percentageToDistance(t){return Fe(0,this.baseArcLength(),this.startOffset()+this.offsetArcLength()*t)}distanceToPercentage(t){return(t-this.startOffset())/this.offsetArcLength()}baseArcLength(){return this.profile().arcLength}offsetArcLength(){const t=this.startOffset(),e=this.endOffset(),n=this.baseArcLength();return Fe(0,n,n-t-e)}arcLength(){return this.offsetArcLength()*Math.abs(this.start()-this.end())}completion(){return Math.abs(this.start()-this.end())}processSubpath(t,e,n){}curveDrawingInfo(){const t=new Path2D;let e=new Path2D;const n=this.profile();let s=this.percentageToDistance(this.start()),r=this.percentageToDistance(this.end());s>r&&([s,r]=[r,s]);const l=r-s,c=Math.min(l/2,this.arrowSize());this.startArrow()&&(s+=c/2),this.endArrow()&&(r-=c/2);let f=0,g=null,x=null,S=null,T=null;for(const N of n.segments){const K=f;if(f+=N.arcLength,f<s)continue;const C=(s-K)/N.arcLength,$=(r-K)/N.arcLength,W=Fe(0,1,C),st=Fe(0,1,$);this.canHaveSubpath&&S&&!N.getPoint(0).position.equals(S)&&(t.addPath(e),this.processSubpath(e,g,S),e=new Path2D,g=null);const[Ot,rt]=N.draw(e,W,st,g===null);if(g===null&&(g=Ot.position,x=Ot.normal.flipped.perpendicular),S=rt.position,T=rt.normal.flipped.perpendicular,f>r)break}return this.closed()&&this.start.isInitial()&&this.end.isInitial()&&this.startOffset.isInitial()&&this.endOffset.isInitial()&&e.closePath(),this.processSubpath(e,g,S),t.addPath(e),{startPoint:g??y.zero,startTangent:x??y.right,endPoint:S??y.zero,endTangent:T??y.right,arrowSize:c,path:t,startOffset:s}}getPointAtDistance(t){return Ll(this.profile(),t+this.startOffset())}getPointAtPercentage(t){return Ll(this.profile(),this.percentageToDistance(t))}getComputedLayout(){return this.offsetComputedLayout(super.getComputedLayout())}offsetComputedLayout(t){return t.position=t.position.sub(this.childrenBBox().center),t}getPath(){return this.curveDrawingInfo().path}getCacheBBox(){const t=this.childrenBBox(),e=this.startArrow()||this.endArrow()?this.arrowSize():0,n=this.lineWidth(),s=this.lineWidthCoefficient();return t.expand(Math.max(0,e,n*s))}lineWidthCoefficient(){return this.lineCap()==="square"?.5*1.4143:.5}requiresProfile(){return!this.start.isInitial()||!this.startOffset.isInitial()||!this.startArrow.isInitial()||!this.end.isInitial()||!this.endOffset.isInitial()||!this.endArrow.isInitial()}drawShape(t){super.drawShape(t),(this.startArrow()||this.endArrow())&&this.drawArrows(t)}drawArrows(t){const{startPoint:e,startTangent:n,endPoint:s,endTangent:r,arrowSize:l}=this.curveDrawingInfo();l<.001||(t.save(),t.beginPath(),this.endArrow()&&this.drawArrow(t,s,r.flipped,l),this.startArrow()&&this.drawArrow(t,e,n,l),t.fillStyle=na(this.stroke(),t),t.closePath(),t.fill(),t.restore())}drawArrow(t,e,n,s){const r=n.perpendicular,l=e.add(n.scale(-s/2));yr(t,l),An(t,l.add(n.add(r).scale(s))),An(t,l.add(n.sub(r).scale(s))),An(t,l),t.closePath()}};xn([j(!1),E()],Ie.prototype,"closed",void 0);xn([j(0),E()],Ie.prototype,"start",void 0);xn([j(0),E()],Ie.prototype,"startOffset",void 0);xn([j(!1),E()],Ie.prototype,"startArrow",void 0);xn([j(1),E()],Ie.prototype,"end",void 0);xn([j(0),E()],Ie.prototype,"endOffset",void 0);xn([j(!1),E()],Ie.prototype,"endArrow",void 0);xn([j(24),E()],Ie.prototype,"arrowSize",void 0);xn([nt()],Ie.prototype,"arcLength",null);xn([nt()],Ie.prototype,"curveDrawingInfo",null);Ie=xn([En("Curve")],Ie);class go{}class ch extends go{constructor(t,e,n,s,r){super(),this.center=t,this.radius=e,this.from=n,this.to=s,this.counter=r,this.angle=Math.acos(Fe(-1,1,n.dot(s))),this.length=Math.abs(this.angle*e);const l=new y(1,1).scale(e);this.points=[t.sub(l),t.add(l)]}get arcLength(){return this.length}draw(t,e,n){const s=this.counter?-1:1,r=this.from.radians+e*this.angle*s,l=this.to.radians-(1-n)*this.angle*s;Math.abs(this.angle)>1e-4&&t.arc(this.center.x,this.center.y,this.radius,r,l,this.counter);const c=y.fromRadians(r),f=y.fromRadians(l);return[{position:this.center.add(c.scale(this.radius)),tangent:this.counter?c:c.flipped,normal:this.counter?c.flipped:c},{position:this.center.add(f.scale(this.radius)),tangent:this.counter?f.flipped:f,normal:this.counter?f.flipped:f}]}getPoint(t){const e=this.counter?-1:1,n=this.from.radians+t*this.angle*e,s=y.fromRadians(n);return{position:this.center.add(s.scale(this.radius)),tangent:this.counter?s:s.flipped,normal:this.counter?s:s.flipped}}}class Ae{static constant(t){return new Ae(t)}static linear(t,e){return new Ae(t,e)}static quadratic(t,e,n){return new Ae(t,e,n)}static cubic(t,e,n,s){return new Ae(t,e,n,s)}get degree(){return this.c3!==0?3:this.c2!==0?2:this.c1!==0?1:0}constructor(t,e,n,s){this.c0=t,this.c1=e??0,this.c2=n??0,this.c3=s??0}differentiate(t=1){switch(t){case 0:return this;case 1:return new Ae(this.c1,2*this.c2,3*this.c3,0);case 2:return new Ae(2*this.c2,6*this.c3,0,0);case 3:return new Ae(6*this.c3,0,0,0);default:throw new Error("Unsupported derivative")}}eval(t,e=0){return e!==0?this.differentiate(e).eval(t):this.c3*(t*t*t)+this.c2*(t*t)+this.c1*t+this.c0}split(t){const e=1-t,n=new Ae(this.c0,this.c1*t,this.c2*t*t,this.c3*t*t*t),s=new Ae(this.eval(0),e*this.differentiate(1).eval(t),e*e/2*this.differentiate(2).eval(t),e*e*e/6*this.differentiate(3).eval(t));return[n,s]}roots(){switch(this.degree){case 3:return this.solveCubicRoots();case 2:return this.solveQuadraticRoots();case 1:return this.solveLinearRoot();case 0:return[];default:throw new Error(`Unsupported polynomial degree: ${this.degree}`)}}localExtrema(){return this.differentiate().roots()}localExtrema01(){const t=this.localExtrema(),e=[];for(let n=0;n<t.length;n++){const s=t[n];s>=0&&s<=1&&e.push(t[n])}return e}outputRange01(){let t=[this.eval(0),this.eval(1)];const e=n=>{t[1]>t[0]?t=[Math.min(t[0],n),Math.max(t[1],n)]:t=[Math.min(t[1],n),Math.max(t[0],n)]};return this.localExtrema01().forEach(n=>e(this.eval(n))),t}solveCubicRoots(){const t=this.c0,e=this.c1,n=this.c2,s=this.c3,r=t*t,l=t*n,c=e*e,f=(3*l-c)/(3*r),g=(2*c*e-9*l*e+27*r*s)/(27*r*t),x=this.solveDepressedCubicRoots(f,g),S=T=>T-e/(3*t);switch(x.length){case 1:return[S(x[0])];case 2:return[S(x[0]),S(x[1])];case 3:return[S(x[0]),S(x[1]),S(x[2])];default:return[]}}solveDepressedCubicRoots(t,e){if(this.almostZero(t))return[Math.cbrt(-e)];const n=Math.PI*2,s=4*t*t*t+27*e*e;if(s<1e-5){const r=2*Math.sqrt(-t/3),l=3*e/(2*t)*Math.sqrt(-3/t),c=f=>r*Math.cos(1/3*Math.acos(Fe(-1,1,l))-n/3*f);return l>=.9999?[c(0),c(2)]:l<=-.9999?[c(1),c(2)]:[c(0),c(1),c(2)]}if(s>0&&t<0){const r=.3333333333333333*Math.acosh(-3*Math.abs(e)/(2*t)*Math.sqrt(-3/t));return[-2*Math.sign(e)*Math.sqrt(-t/3)*Math.cosh(r)]}if(t>0){const r=.3333333333333333*Math.asinh(3*e/(2*t)*Math.sqrt(3/t));return[-2*Math.sqrt(t/3)*Math.sinh(r)]}return[]}solveQuadraticRoots(){const t=this.c2,e=this.c1,n=this.c0,s=e*e-4*t*n;if(this.almostZero(s))return[-e/(2*t)];if(s>=0){const r=Math.sqrt(s),l=(-e-r)/(2*t),c=(-e+r)/(2*t);return[Math.min(l,c),Math.max(l,c)]}return[]}solveLinearRoot(){return[-this.c0/this.c1]}almostZero(t){return Math.abs(0-t)<=Number.EPSILON}}class cr{constructor(t,e,n,s){this.c0=t,this.c1=e,this.c2=n,this.c3=s,t instanceof Ae?(this.x=t,this.y=e):s!==void 0?(this.x=new Ae(t.x,e.x,n.x,s.x),this.y=new Ae(t.y,e.y,n.y,s.y)):(this.x=new Ae(t.x,e.x,n.x),this.y=new Ae(t.y,e.y,n.y))}eval(t,e=0){return new y(this.x.differentiate(e).eval(t),this.y.differentiate(e).eval(t))}split(t){const[e,n]=this.x.split(t),[s,r]=this.y.split(t);return[new cr(e,s),new cr(n,r)]}differentiate(t=1){return new cr(this.x.differentiate(t),this.y.differentiate(t))}evalDerivative(t){return this.differentiate().eval(t)}getBounds(){const t=this.x.outputRange01(),e=this.y.outputRange01();return St.fromPoints(new y(Math.min(...t),Math.max(...e)),new y(Math.max(...t),Math.min(...e)))}}class Wf{constructor(t,e=20){this.curve=t,this.sampledDistances=[],this.resample(e)}resample(t){this.sampledDistances=[0];let e=0,n=this.curve.eval(0).position;for(let s=1;s<t;s++){const r=s/(t-1),l=this.curve.eval(r),c=n.sub(l.position).magnitude;e+=c,this.sampledDistances.push(e),n=l.position}this.sampledDistances[this.sampledDistances.length-1]=this.curve.arcLength}pointAtDistance(t){return this.curve.eval(this.distanceToT(t))}distanceToT(t){const e=this.sampledDistances.length;t=Fe(0,this.curve.arcLength,t);for(let n=0;n<e;n++){const s=this.sampledDistances[n],r=this.sampledDistances[n+1];if(t>=s&&t<=r)return bf(s,r,n/(e-1),(n+1)/(e-1),t)}return 1}}class jf extends go{get arcLength(){return this.length}constructor(t,e){super(),this.curve=t,this.length=e,this.pointSampler=new Wf(this)}getBBox(){return this.curve.getBounds()}eval(t){const e=this.tangent(t);return{position:this.curve.eval(t),tangent:e,normal:e.perpendicular}}getPoint(t){const e=this.pointSampler.pointAtDistance(this.arcLength*t);return{position:e.position,tangent:e.tangent,normal:e.tangent.perpendicular}}transformPoints(t){return this.points.map(e=>e.transformAsPoint(t))}tangent(t){return this.curve.evalDerivative(t).normalized}draw(t,e=0,n=1,s=!0){let r=null,l=e,c=n,f=this.points;if(e!==0||n!==1){const S=this.length*e,T=this.length*n;l=this.pointSampler.distanceToT(S),c=this.pointSampler.distanceToT(T);const N=(c-l)/(1-l),[,K]=this.split(l);[r]=K.split(N),f=r.points}s&&yr(t,f[0]),(r??this).doDraw(t);const g=this.tangent(l),x=this.tangent(c);return[{position:f[0],tangent:g,normal:g.perpendicular},{position:f.at(-1),tangent:x,normal:x.perpendicular}]}}var Nf=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Li extends jf{get points(){return[this.p0,this.p1,this.p2,this.p3]}constructor(t,e,n,s){super(new cr(t,t.flipped.add(e).scale(3),t.scale(3).sub(e.scale(6)).add(n.scale(3)),t.flipped.add(e.scale(3)).sub(n.scale(3)).add(s)),Li.getLength(t,e,n,s)),this.p0=t,this.p1=e,this.p2=n,this.p3=s}split(t){const e=new y(this.p0.x+(this.p1.x-this.p0.x)*t,this.p0.y+(this.p1.y-this.p0.y)*t),n=new y(this.p1.x+(this.p2.x-this.p1.x)*t,this.p1.y+(this.p2.y-this.p1.y)*t),s=new y(this.p2.x+(this.p3.x-this.p2.x)*t,this.p2.y+(this.p3.y-this.p2.y)*t),r=new y(e.x+(n.x-e.x)*t,e.y+(n.y-e.y)*t),l=new y(n.x+(s.x-n.x)*t,n.y+(s.y-n.y)*t),c=new y(r.x+(l.x-r.x)*t,r.y+(l.y-r.y)*t),f=new Li(this.p0,e,r,c),g=new Li(c,l,s,this.p3);return[f,g]}doDraw(t){Ef(t,this.p1,this.p2,this.p3)}static getLength(t,e,n,s){return Li.el.setAttribute("d",`M ${t.x} ${t.y} C ${e.x} ${e.y} ${n.x} ${n.y} ${s.x} ${s.y}`),Li.el.getTotalLength()}}Nf([dr(()=>document.createElementNS("http://www.w3.org/2000/svg","path"))],Li,"el",void 0);class Ai extends go{constructor(t,e){super(),this.from=t,this.to=e,this.vector=e.sub(t),this.length=this.vector.magnitude,this.normal=this.vector.perpendicular.normalized.safe,this.points=[t,e]}get arcLength(){return this.length}draw(t,e=0,n=1,s=!1){const r=this.from.add(this.vector.scale(e)),l=this.from.add(this.vector.scale(n));return s&&yr(t,r),An(t,l),[{position:r,tangent:this.normal.flipped,normal:this.normal},{position:l,tangent:this.normal,normal:this.normal}]}getPoint(t){return{position:this.from.add(this.vector.scale(t)),tangent:this.normal.flipped,normal:this.normal}}}function Hf(i,t,e,n){const s={arcLength:0,segments:[],minSin:1},r=Oi(t.top,t.right,t.left,i),l=Oi(t.right,t.top,t.bottom,i),c=Oi(t.bottom,t.left,t.right,i),f=Oi(t.left,t.bottom,t.top,i);let g=new y(i.left+r,i.top),x=new y(i.right-l,i.top);return zs(s,new Ai(g,x)),g=new y(i.right,i.top+l),x=new y(i.right,i.bottom-c),l>0&&Jr(s,g.addX(-l),l,y.down,y.right,e,n),zs(s,new Ai(g,x)),g=new y(i.right-c,i.bottom),x=new y(i.left+f,i.bottom),c>0&&Jr(s,g.addY(-c),c,y.right,y.up,e,n),zs(s,new Ai(g,x)),g=new y(i.left,i.bottom-f),x=new y(i.left,i.top+r),f>0&&Jr(s,g.addX(f),f,y.up,y.left,e,n),zs(s,new Ai(g,x)),g=new y(i.left+r,i.top),r>0&&Jr(s,g.addY(r),r,y.left,y.down,e,n),s}function zs(i,t){i.segments.push(t),i.arcLength+=t.arcLength}function Jr(i,t,e,n,s,r,l){const c=t.add(n.scale(e)),f=t.add(s.scale(e));r?zs(i,new Li(c,c.add(s.scale(l*e)),f.add(n.scale(l*e)),f)):zs(i,new ch(t,e,n,s,!1))}var vr=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};let Y=class extends Ie{constructor(t){super(t)}profile(){return Hf(this.childrenBBox(),this.radius(),this.smoothCorners(),this.cornerSharpness())}desiredSize(){return{x:this.width.context.getter(),y:this.height.context.getter()}}offsetComputedLayout(t){return t}childrenBBox(){return St.fromSizeCentered(this.computedSize())}getPath(){if(this.requiresProfile())return this.curveDrawingInfo().path;const t=new Path2D,e=this.radius(),n=this.smoothCorners(),s=this.cornerSharpness(),r=St.fromSizeCentered(this.size());return Rl(t,r,e,n,s),t}getCacheBBox(){return super.getCacheBBox().expand(this.rippleSize())}getRipplePath(){const t=new Path2D,e=this.rippleSize(),n=this.radius().addScalar(e),s=this.smoothCorners(),r=this.cornerSharpness(),l=St.fromSizeCentered(this.size()).expand(e);return Rl(t,l,n,s,r),t}};vr([po("radius")],Y.prototype,"radius",void 0);vr([j(!1),E()],Y.prototype,"smoothCorners",void 0);vr([j(.6),E()],Y.prototype,"cornerSharpness",void 0);vr([nt()],Y.prototype,"profile",null);Y=vr([En("Rect")],Y);var _i=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Sn extends Q{constructor({children:t,...e}){super(e),this.scene()||this.scene(new Q({})),t&&this.scene().add(t)}getZoom(){return 1/this.scale.x()}setZoom(t){this.scale(ls(t,e=>1/e))}getDefaultZoom(){return this.scale.x.context.getInitial()}*tweenZoom(t,e,n,s){const r=this.scale.x();yield*vn(e,l=>{this.zoom(1/s(r,1/Fn(t),n(l)))})}*reset(t,e=w){yield*D(this.position($s,t,e),this.zoom($s,t,e),this.rotation($s,t,e))}*centerOn(t,e,n=w,s=y.lerp){const r=t instanceof Q?t.absolutePosition().transformAsPoint(this.scene().worldToLocal()):t;yield*this.position(r,e,n,s)}*followCurve(t,e,n=w){yield*vn(e,s=>{const r=n(s),l=t.getPointAtPercentage(r).position.transformAsPoint(t.localToWorld());this.position(l)})}*followCurveReverse(t,e,n=w){yield*vn(e,s=>{const r=1-n(s),l=t.getPointAtPercentage(r).position.transformAsPoint(t.localToWorld());this.position(l)})}*followCurveWithRotation(t,e,n=w){yield*vn(e,s=>{const r=n(s),{position:l,normal:c}=t.getPointAtPercentage(r),f=l.transformAsPoint(t.localToWorld()),g=c.flipped.perpendicular.degrees;this.position(f),this.rotation(g)})}*followCurveWithRotationReverse(t,e,n=w){yield*vn(e,s=>{const r=1-n(s),{position:l,normal:c}=t.getPointAtPercentage(r),f=l.transformAsPoint(t.localToWorld()),g=c.flipped.perpendicular.degrees;this.position(f),this.rotation(g)})}transformContext(t){const e=this.localToParent().inverse();t.transform(e.a,e.b,e.c,e.d,e.e,e.f)}hit(t){const e=t.transformAsPoint(this.localToParent());return this.scene().hit(e)}drawChildren(t){this.scene().drawChildren(t)}static Stage({children:t,cameraRef:e,scene:n,...s}){const r=new Sn({scene:n,children:t});return e==null||e(r),new Y({clip:!0,...s,children:[r]})}}_i([E()],Sn.prototype,"scene",void 0);_i([fs(!1),E()],Sn.prototype,"zoom",void 0);_i([qt()],Sn.prototype,"reset",null);_i([qt()],Sn.prototype,"centerOn",null);_i([qt()],Sn.prototype,"followCurve",null);_i([qt()],Sn.prototype,"followCurveReverse",null);_i([qt()],Sn.prototype,"followCurveWithRotation",null);_i([qt()],Sn.prototype,"followCurveWithRotationReverse",null);var br=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},ia;let ii=ia=class extends Y{constructor(t){super({composite:!0,fontFamily:"Roboto",fontSize:48,lineHeight:"120%",textWrap:!1,fontStyle:"normal",...t}),this.view2D=this,ia.shadowRoot.append(this.element),this.applyFlex()}dispose(){this.removeChildren(),super.dispose()}render(t){this.computedSize(),this.computedPosition(),super.render(t)}findKey(t){return no().getNode(t)??null}requestLayoutUpdate(){this.updateLayout()}requestFontUpdate(){this.applyFont()}view(){return this}};br([j(ur.Paused),E()],ii.prototype,"playbackState",void 0);br([j(0),E()],ii.prototype,"globalTime",void 0);br([E()],ii.prototype,"assetHash",void 0);br([dr(()=>{const i="motion-canvas-2d-frame";let t=document.querySelector(`#${i}`);return t||(t=document.createElement("div"),t.id=i,t.style.position="absolute",t.style.pointerEvents="none",t.style.top="0",t.style.left="0",t.style.opacity="0",t.style.overflow="hidden",document.body.prepend(t)),t.shadowRoot??t.attachShadow({mode:"open"})})],ii,"shadowRoot",void 0);ii=ia=br([En("View2D")],ii);var Uf=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class _s extends go{constructor(t,e,n,s,r,l){super(),this.startPoint=t,this.radius=e,this.xAxisRotationDegree=n,this.largeArcFlag=s,this.sweepFlag=r,this.endPoint=l,this.xAxisRotation=this.xAxisRotationDegree*Mi,this.radius=new y(Math.abs(e.x),Math.abs(e.y));const c=t.sub(l).div(2).transform(Wt.fromRotation(-n).domMatrix),f=c.x*c.x/(e.x*e.x)+c.y*c.y/(e.y*e.y);if(f>1){const N=Math.sqrt(f);e.x=N*e.x,e.y=N*e.y}const g=new y(e.ctg*c.y,e.perpendicular.ctg*c.x).scale(Math.sqrt(1/(c.x*c.x/(e.x*e.x)+c.y*c.y/(e.y*e.y))-1)*(s===r?-1:1));this.xAxisRotationMatrix=Wt.fromRotation(n).domMatrix,this.center=g.transform(this.xAxisRotationMatrix).add(t.add(l).div(2));const x=c.sub(g).div(e),S=c.scale(-1).sub(g).div(e);this.startAngle=x.radians,this.deltaAngle=y.angleBetween(x,S)%(Math.PI*2),this.sweepFlag===0&&this.deltaAngle>0&&(this.deltaAngle-=Math.PI*2),this.sweepFlag===1&&this.deltaAngle<0&&(this.deltaAngle+=Math.PI*2),_s.el.setAttribute("d",`M ${this.startPoint.x} ${this.startPoint.y} A ${this.radius.x} ${this.radius.y} ${this.xAxisRotationDegree} ${this.largeArcFlag} ${this.sweepFlag} ${this.endPoint.x} ${this.endPoint.y}`),this.length=_s.el.getTotalLength();const T=new St(_s.el.getBBox());this.points=[T.topLeft,T.bottomRight]}getAnglePosition(t){return this.radius.mul(y.fromRadians(t)).transform(this.xAxisRotationMatrix).add(this.center)}getAngleDerivative(t){return new y(-this.radius.x*Math.sin(t),this.radius.y*Math.cos(t)).transform(this.xAxisRotationMatrix)}draw(t,e,n,s){const r=this.startAngle+this.deltaAngle*e,l=this.startAngle+this.deltaAngle*n,c=this.getPoint(e),f=this.getPoint(n);return s&&t.moveTo(c.position.x,c.position.y),t.ellipse(this.center.x,this.center.y,this.radius.x,this.radius.y,this.xAxisRotation,r,l,this.sweepFlag===0),[c,f]}getPoint(t){const e=this.startAngle+t*this.deltaAngle,n=this.getAngleDerivative(e).normalized;return{position:t===0?this.startPoint:t===1?this.endPoint:this.getAnglePosition(e),tangent:n,normal:n.perpendicular}}get arcLength(){return this.length}}Uf([dr(()=>{const i=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");return i.appendChild(t),ii.shadowRoot.appendChild(i),t})],_s,"el",void 0);function Yf(i,t,e,n,s=!1){const r={arcLength:0,minSin:1,segments:[]};if(e<t){const x=Math.floor((t-e)/(Math.PI*2))+1;e+=Math.PI*2*x}else if(e>t+Math.PI*2){const x=Math.floor((e-t)/(Math.PI*2));e-=Math.PI*2*x}const l=(t+e)/2,c=i.mul(y.fromRadians(t)),f=i.mul(y.fromRadians(e)),g=i.mul(y.fromRadians(l)).scale(s?-1:1);return n&&sa(r,new Ai(y.zero,c)),Ml(r,i,c,g,t,l,s),Ml(r,i,g,f,l,e,s),n&&sa(r,new Ai(f,y.zero)),r}function sa(i,t){i.segments.push(t),i.arcLength+=t.arcLength}function Ml(i,t,e,n,s,r,l){const c=Math.abs(s-r)<=180?1:0,f=s>r?0:1,g=l?0:1;sa(i,new _s(e,t,0,0,c^g^f,n))}function Xf(i,t,e){const n={arcLength:0,segments:[],minSin:1};if(i.length===0)return n;if(e){const l=i[0].add(i[i.length-1]).scale(.5);i=[l,...i,l]}let s=i[0];for(let l=2;l<i.length;l++){const c=i[l-2],f=i[l-1],g=i[l],x=c.sub(f),S=g.sub(f),T=x.normalized.safe,N=S.normalized.safe,K=Math.acos(Fe(-1,1,T.dot(N))),C=Math.tan(K/2),$=Math.sin(K/2),W=Math.min(t,C*x.magnitude*(l===2?1:.5),C*S.magnitude*(l===i.length-1?1:.5)),st=$===0?0:W/$,Ot=C===0?0:W/C,rt=T.add(N).scale(1/2).normalized.safe.scale(st).add(f),at=T.perpendicular.dot(N)<0,F=new Ai(s,f.add(T.scale(Ot))),Et=new ch(rt,W,T.perpendicular.scale(at?1:-1),N.perpendicular.scale(at?-1:1),at);F.arcLength>0&&(n.segments.push(F),n.arcLength+=F.arcLength),Et.arcLength>0&&(n.segments.push(Et),n.arcLength+=Et.arcLength),n.minSin=Math.min(n.minSin,Math.abs($)),s=f.add(N.scale(Ot))}const r=new Ai(s,i[i.length-1]);return r.arcLength>0&&(n.segments.push(r),n.arcLength+=r.arcLength),n}var wr=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};let je=class extends Ie{constructor(t){super(t)}profile(){return Yf(this.size().scale(.5),this.startAngle()*Mi,this.endAngle()*Mi,this.closed(),this.counterclockwise())}desiredSize(){return{x:this.width.context.getter(),y:this.height.context.getter()}}offsetComputedLayout(t){return t}childrenBBox(){return St.fromSizeCentered(this.computedSize())}getPath(){return this.requiresProfile()?this.curveDrawingInfo().path:this.createPath()}getRipplePath(){return this.createPath(this.rippleSize())}getCacheBBox(){return super.getCacheBBox().expand(this.rippleSize())}createPath(t=0){const e=new Path2D,n=this.startAngle()*Mi;let s=this.endAngle()*Mi;const r=this.size().scale(.5).add(t),l=this.closed();if(s>n+Math.PI*2){const c=Math.floor((s-n)/(Math.PI*2));s-=Math.PI*2*c}return l&&e.moveTo(0,0),e.ellipse(0,0,r.x,r.y,0,n,s,this.counterclockwise()),l&&e.closePath(),e}};wr([j(0),E()],je.prototype,"startAngle",void 0);wr([j(360),E()],je.prototype,"endAngle",void 0);wr([j(!1),E()],je.prototype,"counterclockwise",void 0);wr([nt()],je.prototype,"profile",null);je=wr([En("Circle")],je);function Gf(i){return i.reduce((t,e,n)=>n?t+i[n-1].sub(e).magnitude:0,0)}function Go(i,t,e){const n=i.length;let s=0;for(let r=0;r<t.length;r+=1){const l=i[(e+r)%n],c=t[r];s+=l.sub(c).squaredMagnitude}return s}function qf(i,t,e){const n=[];if(e===0)return[...i];if(e===1)return[...t];for(let s=0;s<i.length;s++){const r=i[s],l=t[s];n.push(y.lerp(r,l,e))}return n}var ds=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},ro;let te=ro=class extends Ie{static rotatePoints(t,e,n){if(n){let s=1/0,r=0;for(let l=0;l<t.length;l+=1){const c=Go(t,e,l);c<s&&(s=c,r=l)}if(r){const l=t.splice(0,r);t.splice(t.length,0,...l)}}else{const s=Go(t,e,0),r=[...t].reverse();Go(r,e,0)<s&&t.reverse()}}static distributePoints(t,e){if(t.length===0){for(let c=0;c<e;c++)t.push(y.zero);return}if(t.length===1){const c=t[0];for(let f=0;f<e;f++)t.push(c);return}const n=t.length+e,s=Gf(t);let r=s===0?0:e/s,l=0;for(;t.length<n;){const c=n-t.length;if(l+1>=t.length){r=s===0?0:c/s,l=0;continue}const f=t[l],g=t[l+1],x=f.sub(g).magnitude;let S=Math.min(Math.round(x*r),c)+1;s===0&&(S=2);for(let T=1;T<S;T++)t.splice(++l,0,y.lerp(f,g,T/S));l++}}*tweenPoints(t,e,n){const s=[...this.parsedPoints()],r=this.parsePoints(Fn(t)),l=this.closed(),c=s.length-r.length;ro.distributePoints(c<0?s:r,Math.abs(c)),ro.rotatePoints(r,s,l),this.tweenedPoints(s),yield*vn(e,f=>{const g=n(f);this.tweenedPoints(qf(s,r,g))},()=>{this.tweenedPoints(null),this.points(t)})}constructor(t){super(t),this.tweenedPoints=Z(null),t.children===void 0&&t.points===void 0&&de().warn({message:"No points specified for the line",remarks:`<p>The line won&#39;t be visible unless you specify at least two points:</p>
<pre class=""><code class="language-tsx">&lt;<span class="hljs-title class_">Line</span>
  stroke=<span class="hljs-string">&quot;#fff&quot;</span>
  lineWidth={<span class="hljs-number">8</span>}
  points={[
    [<span class="hljs-number">100</span>, <span class="hljs-number">0</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>],
    [<span class="hljs-number">0</span>, <span class="hljs-number">100</span>],
  ]}
/&gt;</code></pre><p>Alternatively, you can define the points using the children:</p>
<pre class=""><code class="language-tsx">&lt;<span class="hljs-title class_">Line</span> stroke=<span class="hljs-string">&quot;#fff&quot;</span> lineWidth={<span class="hljs-number">8</span>}&gt;
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Node</span> <span class="hljs-attr">x</span>=<span class="hljs-string">{100}</span> /&gt;</span></span>
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Node</span> /&gt;</span></span>
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Node</span> <span class="hljs-attr">y</span>=<span class="hljs-string">{100}</span> /&gt;</span></span>
&lt;/<span class="hljs-title class_">Line</span>&gt;</code></pre><p>If you did this intentionally, and want to disable this message, set the
<code>points</code> property to <code>null</code>:</p>
<pre class=""><code class="language-tsx">&lt;<span class="hljs-title class_">Line</span> stroke=<span class="hljs-string">&quot;#fff&quot;</span> lineWidth={<span class="hljs-number">8</span>} points={<span class="hljs-literal">null</span>} /&gt;</code></pre>`,inspect:this.key})}childrenBBox(){let t=this.tweenedPoints();if(!t){const e=this.points();t=e?e.map(n=>new y(Fn(n))):this.children().filter(n=>!(n instanceof H)||n.isLayoutRoot()).map(n=>n.position())}return St.fromPoints(...t)}parsedPoints(){return this.parsePoints(this.points())}profile(){return Xf(this.tweenedPoints()??this.parsedPoints(),this.radius(),this.closed())}lineWidthCoefficient(){const t=this.radius(),e=this.lineJoin();let n=super.lineWidthCoefficient();if(t===0&&e==="miter"){const{minSin:s}=this.profile();s>0&&(n=Math.max(n,.5/s))}return n}drawOverlay(t,e){const n=this.childrenBBox().transformCorners(e),r=this.computedSize().mul(this.offset()).scale(.5).transformAsPoint(e);t.fillStyle="white",t.strokeStyle="black",t.lineWidth=1;const l=new Path2D,c=(this.tweenedPoints()??this.parsedPoints()).map(f=>f.transformAsPoint(e));if(c.length>0){yr(l,c[0]);for(const f of c)An(l,f),t.beginPath(),lh(t,f,4),t.closePath(),t.fill(),t.stroke()}t.strokeStyle="white",t.stroke(l),t.beginPath(),ah(t,r),t.stroke(),t.beginPath(),Ri(t,n),t.closePath(),t.stroke()}parsePoints(t){return t?t.map(e=>new y(Fn(e))):this.children().map(e=>e.position())}};ds([j(0),E()],te.prototype,"radius",void 0);ds([j(null),E()],te.prototype,"points",void 0);ds([qt()],te.prototype,"tweenPoints",null);ds([nt()],te.prototype,"childrenBBox",null);ds([nt()],te.prototype,"parsedPoints",null);ds([nt()],te.prototype,"profile",null);te=ro=ds([En("Line")],te);var xr=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},oo;let tn=oo=class extends pe{constructor({children:t,...e}){super(e),t&&this.text(t)}parentTxt(){const t=this.parent();return t instanceof lt?t:null}draw(t){this.requestFontUpdate(),this.applyStyle(t),this.applyText(t),t.font=this.styles.font,t.textBaseline="bottom","letterSpacing"in t&&(t.letterSpacing=`${this.letterSpacing()}px`);const e=t.measureText("").fontBoundingBoxAscent,n=this.element.getBoundingClientRect(),{width:s,height:r}=this.size(),l=document.createRange();let c="";const f=new St;for(const g of this.element.childNodes){if(!g.textContent)continue;l.selectNodeContents(g);const x=l.getBoundingClientRect(),S=s/-2+x.left-n.left,T=r/-2+x.top-n.top+e;f.y===T?(f.width+=x.width,c+=g.textContent):(this.drawText(t,c,f),f.x=S,f.y=T,f.width=x.width,f.height=x.height,c=g.textContent)}this.drawText(t,c,f)}drawText(t,e,n){const s=n.y;e=e.replace(/\s+/g," "),this.lineWidth()<=0?t.fillText(e,n.x,s):this.strokeFirst()?(t.strokeText(e,n.x,s),t.fillText(e,n.x,s)):(t.fillText(e,n.x,s),t.strokeText(e,n.x,s))}getCacheBBox(){const t=this.computedSize(),e=document.createRange();e.selectNodeContents(this.element);const n=e.getBoundingClientRect(),s=this.lineWidth(),r=this.lineJoin()==="miter"?.5*10:.5;return new St(-t.width/2,-t.height/2,n.width,n.height).expand([0,this.fontSize()*.5]).expand(s*r)}applyFlex(){super.applyFlex(),this.element.style.display="inline"}updateLayout(){if(this.applyFont(),this.applyFlex(),this.justifyContent.isInitial()&&(this.element.style.justifyContent=this.styles.getPropertyValue("text-align")),this.styles.whiteSpace!=="nowrap"&&this.styles.whiteSpace!=="pre")if(this.element.innerText="",oo.segmenter)for(const e of oo.segmenter.segment(this.text()))this.element.appendChild(document.createTextNode(e.segment));else for(const e of this.text().split(""))this.element.appendChild(document.createTextNode(e));else if(this.styles.whiteSpace==="pre"){this.element.innerText="";for(const e of this.text().split(`
`))this.element.appendChild(document.createTextNode(e+`
`))}else this.element.innerText=this.text()}};xr([j(""),pa(Kl),E()],tn.prototype,"text",void 0);xr([nt()],tn.prototype,"parentTxt",null);xr([dr(()=>{const i=document.createElement("span");return ii.shadowRoot.append(i),i})],tn,"formatter",void 0);xr([dr(()=>{try{return new Intl.Segmenter(void 0,{granularity:"grapheme"})}catch{return null}})],tn,"segmenter",void 0);tn=oo=xr([En("TxtLeaf")],tn);["fill","stroke","lineWidth","strokeFirst","lineCap","lineJoin","lineDash","lineDashOffset"].forEach(i=>{tn.prototype[`get${as(i)}`]=function(){var t;return((t=this.parentTxt())==null?void 0:t[i]())??this[i].context.getInitial()}});var Sr=function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var c=i.length-1;c>=0;c--)(l=i[c])&&(r=(s<3?l(r):s>3?l(t,e,r):l(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},ns;let lt=ns=class extends pe{static b(t){return new ns({...t,fontWeight:700})}static i(t){return new ns({...t,fontStyle:"italic"})}getText(){return this.innerText()}setText(t){const e=this.children();let n=null;for(let s=0;s<e.length;s++){const r=e[s];n===null&&r instanceof tn?n=r:r.parent(null)}n===null?(n=new tn({text:t}),n.parent(this)):n.text(t),this.setParsedChildren([n])}setChildren(t){this.children.context.raw()!==t&&(typeof t=="string"?this.text(t):super.setChildren(t))}*tweenText(t,e,n,s){const r=this.children();(r.length!==1||!(r[0]instanceof tn))&&this.text.save();const l=this.childAs(0),c=l.text.context.raw(),f=this.size.context.raw();l.text(t);const g=this.size();l.text(c??$s),this.height()===0&&this.height(g.height),yield*D(this.size(g,e,n),l.text(t,e,n,s)),this.children.context.setter(t),this.size(f)}getLayout(){return!0}constructor({children:t,text:e,...n}){super(n),this.children(e??t)}innerText(){const t=this.childrenAs();let e="";for(const n of t)e+=n.text();return e}parentTxt(){const t=this.parent();return t instanceof ns?t:null}parseChildren(t){const e=[],n=Array.isArray(t)?t:[t];for(const s of n)s instanceof ns||s instanceof tn?e.push(s):typeof s=="string"&&e.push(new tn({text:s}));return e}applyFlex(){super.applyFlex(),this.element.style.display=this.findAncestor(ya(ns))?"inline":"block"}draw(t){this.drawChildren(t)}};Sr([j(""),E()],lt.prototype,"text",void 0);Sr([qt()],lt.prototype,"tweenText",null);Sr([nt()],lt.prototype,"innerText",null);Sr([nt()],lt.prototype,"parentTxt",null);lt=ns=Sr([En("Txt")],lt);["fill","stroke","lineWidth","strokeFirst","lineCap","lineJoin","lineDash","lineDashOffset"].forEach(i=>{lt.prototype[`getDefault${as(i)}`]=function(t){var e;return((e=this.parentTxt())==null?void 0:e[i]())??t}});class Jf extends mf{constructor(t){super(t),this.view=null,this.registeredNodes=new Map,this.nodeCounters=new Map,this.assetHash=Date.now().toString(),this.recreateView()}getView(){return this.view}next(){var t;return(t=this.getView())==null||t.playbackState(this.playback.state).globalTime(this.playback.time),super.next()}draw(t){t.save(),this.renderLifecycle.dispatch([On.BeforeRender,t]),t.save(),this.renderLifecycle.dispatch([On.BeginRender,t]),this.getView().playbackState(this.playback.state).globalTime(this.playback.time),this.getView().render(t),this.renderLifecycle.dispatch([On.FinishRender,t]),t.restore(),this.renderLifecycle.dispatch([On.AfterRender,t]),t.restore()}reset(t){for(const e of this.registeredNodes.keys())try{this.registeredNodes.get(e).dispose()}catch(n){this.logger.error(n)}return this.registeredNodes.clear(),this.registeredNodes=new Map,this.nodeCounters.clear(),this.recreateView(),super.reset(t)}inspectPosition(t,e){return this.execute(()=>{var n;return((n=this.getView().hit(new y(t,e)))==null?void 0:n.key)??null})}validateInspection(t){var e;return((e=this.getNode(t))==null?void 0:e.key)??null}inspectAttributes(t){const e=this.getNode(t);if(!e)return null;const n={stack:e.creationStack,key:e.key};for(const{key:s,meta:r,signal:l}of e)r.inspectable&&(n[s]=l());return n}drawOverlay(t,e,n){const s=this.getNode(t);s&&this.execute(()=>{const r=this.getView().findAll(ya(Sn)),l=[];for(const c of r){const f=c.scene();f&&(f===s||f.findFirst(g=>g===s))&&l.push(c)}if(l.length>0)for(const c of l){const f=c.parentToWorld(),g=c.localToParent().inverse(),x=s.localToWorld();s.drawOverlay(n,e.multiply(f).multiply(g).multiply(x))}else s.drawOverlay(n,e.multiply(s.localToWorld()))})}transformMousePosition(t,e){return new y(t,e).transformAsPoint(this.getView().localToParent().inverse())}registerNode(t,e){var l;const n=((l=t.constructor)==null?void 0:l.name)??"unknown",s=(this.nodeCounters.get(n)??0)+1;this.nodeCounters.set(n,s),e&&this.registeredNodes.has(e)&&(de().error({message:`Duplicated node key: "${e}".`,inspect:e,stack:new Error().stack}),e=void 0),e??(e=`${this.name}/${n}[${s}]`),this.registeredNodes.set(e,t);const r=this.registeredNodes;return[e,()=>r.delete(e)]}getNode(t){return typeof t!="string"?null:this.registeredNodes.get(t)??null}*getDetachedNodes(){for(const t of this.registeredNodes.values())!t.parent()&&t!==this.view&&(yield t)}recreateView(){this.execute(()=>{const t=this.getSize();this.view=new ii({position:t.scale(this.resolutionScale/2),scale:this.resolutionScale,assetHash:this.assetHash,size:t})})}}function mo(i){return{klass:Jf,config:i,stack:new Error().stack,meta:yf(),plugins:["@motion-canvas/2d/editor"]}}const Vf={colors:{bg:"#E7E1D8",card:"#F6F1E8",ink:"#151515",muted:"#6F6A63",border:"#CFC6BA",blue:"#3A5A89",accent:"#FF8CA3",accentSubtle:"rgba(200, 116, 143, 0.22)",transport:"#B07C46"},fonts:{sans:"Space Grotesk, Inter, sans-serif",mono:"JetBrains Mono, IBM Plex Mono, monospace"}},Zt={service:{fontSize:32,fontWeight:520,letterSpacing:.6},serviceMid:{fontSize:28,letterSpacing:.55},endpointVerb:{fontSize:18,fontWeight:700,letterSpacing:2.2},endpointPath:{fontSize:20,fontWeight:600,letterSpacing:.55},code:{fontSize:24,lineHeight:40,fontWeight:600}},Oe={radius:{card:22},stroke:{connector:1,card:1},dots:{port:20},padding:{cardX:18,cardY:16},spacing:{labelGap:10,endpointY:46},shadow:{color:"rgba(21,21,21,0.18)",blur:24,offset:[-8,12]}},dt={background:{from:"#0B0C10",to:"#12141A"},surface:"#1B1D24",text:{primary:"#F4F1EB"},accent:"#FF8CA3"},Tt={primary:"Space Grotesk, Inter, sans-serif",code:"JetBrains Mono, IBM Plex Mono, monospace"},le={width:1920,height:1080},et={slow:1.1},Zf=.6,uh=1.5;function Kf(i){return i*Zf}function Qf(i,t){const e=i.split(`
`),n=Math.max(...e.map(r=>r.length)),s=t*uh;return{width:n*Kf(t),height:e.length*s,lineHeight:s}}function va(i){return Math.round(Math.max(24,Math.min(56,i*2+8)))}function ba(i){return Math.round(Math.max(24,Math.min(48,i*1.5+8)))}function fh(i){return i*uh}const Ee={top:-480,bottom:480,left:-840,right:840},td=300,ed=1600,Ol=60;function nd(i,t,e=20){if(i.length===0)return[];const n=i.map(S=>{const T=va(e),N=ba(e),K=Qf(S,e),C=Math.min(ed,Math.max(td,K.width+T*2)),$=S.split(`
`).length*fh(e)+N*2;return{width:C,height:$}}),s=Math.max(...n.map(S=>S.width)),r=Math.max(...n.map(S=>S.height)),l=Ee.left+s/2,c=Ee.bottom-Ee.top,f=i.length*r+(i.length-1)*Ol,g=Math.max(0,(c-f)/2),x=Ee.top+g+r/2;return i.map((S,T)=>({x:l,y:x+T*(r+Ol),width:s,height:r,fontSize:e}))}const id=2;let Vr=null;function sd(){if(Vr)return Vr;const i=globalThis,t=typeof document<"u"?document.createElement("canvas"):i.OffscreenCanvas?new i.OffscreenCanvas(1,1):null;if(!t)throw new Error("No canvas available for text measurement.");const e=t.getContext("2d");if(!e)throw new Error("No 2D context available for text measurement.");return Vr=e,Vr}function be(i,t,e,n=400){const s=sd();return s.font=`normal ${n} ${e}px ${t}`,s.measureText(i).width}function rd(i,t,e,n,s=400,r=""){const l=r;if(be(i,e,n,s)<=t)return i;if(be(l,e,n,s)>t)return"";let c=0,f=i.length;for(;c<f;){const g=Math.ceil((c+f)/2),x=i.slice(0,g)+l;be(x,e,n,s)<=t?c=g:f=g-1}return i.slice(0,c)+l}function od(i,t,e,n,s=400,r=""){const l=r;if(be(i,e,n,s)<=t)return i;if(be(l,e,n,s)>t)return l;let c=0,f=i.length;for(;c<f;){const S=Math.ceil((c+f)/2),T=Math.ceil(S/2),N=Math.floor(S/2),K=i.slice(0,T)+l+i.slice(i.length-N);be(K,e,n,s)<=t?c=S:f=S-1}const g=Math.ceil(c/2),x=Math.floor(c/2);return i.slice(0,g)+l+i.slice(i.length-x)}function ra(i,t,e,n,s,r=400,l=""){const c=Math.max(0,t-id);return e==="middle"?od(i,c,n,s,r,l):rd(i,c,n,s,r,l)}const Zr=i=>typeof i=="function"?i():i,Al=i=>typeof i=="function"?i():i;function Fl(i,t,e,n,s,r){return i.split(`
`).map(l=>ra(l,t,s,Tt.code,e,n,r)).join(`
`)}function rr(i){const t=i.opacity??1,e=i.valuesOpacity??1,n=i.valuesDx??0,s=i.style.fontWeight??650,r=i.ellipsisMode??"end",l=i.ellipsisText??"...",c=i.maxWidthPx??i.style.width,f=g=>Zr(g);return P(bn,{children:[P(lt,{ref:i.keysRef,x:i.x,y:i.y,width:i.style.width,text:()=>{const g=Al(i.keysText);return i.ellipsis?Fl(g,Zr(c),i.style.fontSize,s,r,l):g},fontFamily:Tt.code,fontSize:i.style.fontSize,fontWeight:s,lineHeight:i.style.lineHeight,fill:i.keysFill,textAlign:"left",offset:[-1,-1],opacity:t}),P(lt,{ref:i.valuesRef,x:()=>Zr(i.x)+f(n),y:i.y,width:()=>Math.max(0,i.style.width-f(n)),text:()=>{const g=Al(i.valuesText),x=Math.max(0,Zr(c)-f(n));return i.ellipsis?Fl(g,x,i.style.fontSize,s,r,l):g},fontFamily:Tt.code,fontSize:i.style.fontSize,fontWeight:s,lineHeight:i.style.lineHeight,fill:i.valuesFill,textAlign:"left",offset:[-1,-1],opacity:()=>f(t)*f(e)})]})}const ad=!1,is=mo(function*(i){const t=Vf,e=t.colors.ink,n=t.colors.muted,s=t.colors.border,r=t.colors.blue,l="rgba(0,0,0,0)",c=Z(0),f=Z(0),g=Z(0),x=Z(0),S=Z(0),T=Z(0),N=Z(0),K=Z(0),C=Z(0),$=Z(1),W=Z(0),st=Z(0),Ot=Z(0),rt=Z(0),at=Z(0),F=Z(0),Et=Z("0.91"),yt=Z(0),Ct=Z(0),zt=Z(0),jt=Z(0),At=Z(0),ee=Z(0),Qt=Z(0),V=Z(0),J=Z(0),mt=Z(0),Nt=150,ne=175,He=150,ze=70,we=120+ze,Ue=365,$e=Ee.right-Ee.left,Dn=Nt*2+Ue+ne*2+Ue+He*2,In=($e-Dn)/2,Bi=Ee.left+In+Nt,Wi=Bi+Nt+Ue+ne,Cn=Wi+ne+Ue+He,ge=[Wi,we],ie=[Bi,we],se=[Cn,we],ps=e,oi=e,ai=e,ji=t.colors.card,gs="rgba(21,21,21,0.55)",li=r,ms=t.colors.blue,hi=t.colors.accent,ci=t.colors.accentSubtle,kn=t.colors.transport,z=.78,_t=()=>1-W()*.78,he=A=>Math.max(0,1-Math.abs(F()-A)),bt=()=>1-at()*.9*$(),xe="rgba(255,0,0,1)",Se=A=>{const it=A.replace(/\s+/g,"").match(/^rgba\((\d+),(\d+),(\d+),([0-9.]+)\)$/);return it?{r:Number(it[1]),g:Number(it[2]),b:Number(it[3]),a:Number(it[4])}:{r:255,g:255,b:255,a:1}},Ce=(A,it,Gt)=>{const Pt=Se(A),ln=Se(it),Pn=Math.max(0,Math.min(1,Gt)),bi=Pt.r+(ln.r-Pt.r)*Pn,Rn=Pt.g+(ln.g-Pt.g)*Pn,hn=Pt.b+(ln.b-Pt.b)*Pn,Qs=Pt.a+(ln.a-Pt.a)*Pn;return`rgba(${Math.round(bi)},${Math.round(Rn)},${Math.round(hn)},${Qs})`},Ut=Zt.service.fontSize,Yt=Zt.service.fontWeight,ke=Zt.service.letterSpacing,Te=Zt.serviceMid.fontSize,Pe=Zt.serviceMid.letterSpacing,Ze=Oe.dots.port*1.35,en=Ze*.82,zn=t.colors.blue,q={fontSize:Zt.code.fontSize,lineHeight:Zt.code.lineHeight,width:600,fontWeight:Zt.code.fontWeight},Ye=-450+ze,$n=kn,Re=t.colors.ink,ui="PaymentDto",me=" {",$t=[" id:"," amount:"," currency:"," status:"," updatedAt:","}"],re=Z($t.join(`
`)),ye=Z(['"550e8400-e29b-41d4-a716-446655440000"',"99.00",'"USD"','"CAPTURED"','"2024-12-15T14:32:00Z"',""].join(`
`)),Xt=Z(0),_n=Math.max(...$t.map(A=>{const it=A.replace(/\s+/g," "),Gt=it.indexOf(":");if(Gt<0)return 0;const Pt=it.slice(0,Gt+2);return be(Pt,Tt.code,q.fontSize,q.fontWeight)}))+25,fi=Math.max(...[...$t.slice(0,-1)," riskScore:",$t[$t.length-1]].map(A=>{const it=A.replace(/\s+/g," "),Gt=it.indexOf(":");if(Gt<0)return 0;const Pt=it.slice(0,Gt+2);return be(Pt,Tt.code,q.fontSize,q.fontWeight)}))+25,Le=Z(_n),Me=Ye,Jt=Ye+q.lineHeight,di=100,Ni=520,ys=s,pi=()=>Ce(s,r,C()),vs=Oe.stroke.card,Bn=Oe.radius.card,nn=Oe.padding.cardX,Wn=Oe.padding.cardY,Ws=Oe.stroke.card,gi=Oe.shadow.color,Hi=Oe.shadow.blur,jn=Oe.shadow.offset,bs=1+$t.length,_e=Math.max(0,Math.min(q.width,Ni-di)),Ui=_e+nn*2,mi=bs*q.lineHeight+Wn*2,Yi=()=>mi+Xt()*q.lineHeight,Xi=ge[0]-Ui/2,ws=Ye-Wn,sn=Xi+nn,xs=sn+be(ui,Tt.code,q.fontSize,q.fontWeight),Ss=`{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "amount": 99.00,
  "currency": "USD",
  "status": "CAPTURED",
  "updatedAt": "2024-12-15T14:32:00Z"
}`,rn=Ye,L=gt(),ht=gt(),Nn=gt(),on=gt(),Hn=Ss.split(`
`).map(A=>A.replace(/\s+/g," ")),Un=Hn.map(A=>{const it=A.indexOf(":");return it<0?A:A.slice(0,it+2)}),yo=Un.join(`
`),js=Z(yo),Cr=Hn.map(A=>{const it=A.indexOf(":");return it<0?"":A.slice(it+2)}),kr=Cr.join(`
`),Gi=Z(kr),vo=Z(Cr.map(()=>"").join(`
`)),Tr=14,Ns=Math.max(...[...Hn.slice(0,-1),'  "riskScore": 0',Hn[Hn.length-1]].map(A=>{const it=A.indexOf(":");if(it<0)return 0;const Gt=A.slice(0,it+2);return be(Gt,Tt.code,q.fontSize,600)}))-Tr,Yn=_e,Hs=Yn+nn*2,Pr=()=>mi+st()*q.lineHeight,Rr=se[0]+He-Hs,bo=rn-Wn,qi=Rr+nn,Lr=Yn,Ji=ie[1],Us=ie[0]+Nt,Cs=ge[0]-ne,Vi=se[1],Ys=se[0]-He,ks=ge[0]+ne,Mr=[Cs,ge[1]],Or=[ks,ge[1]],Ts=[Ys,Vi],Xs=[ks,Vi],Ar=()=>Ts[0]+(Xs[0]-Ts[0])*jt(),wo=()=>Ts[1]+(Xs[1]-Ts[1])*jt(),Xn=[Cs,Ji],Gn=[Us,Ji],xo=()=>Xn[0]+(Gn[0]-Xn[0])*J(),Fr=()=>Xn[1]+(Gn[1]-Xn[1])*J(),qn=`{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "amount": 99.00,
  "currency": "USD",
  "status": "CAPTURED"
}`.split(`
`).map(A=>A.replace(/\s+/g," ")),Jn=qn.map(A=>{const it=A.indexOf(":");return it<0?A:A.slice(0,it+2)}),Gs=Z(Jn.join(`
`)),qs=qn.map(A=>{const it=A.indexOf(":");return it<0?"":A.slice(it+2)}),an=Z(qs.join(`
`)),So=Z(qs.map(()=>"").join(`
`)),Js=Math.max(...[...qn.slice(0,-1),'  "riskScore": 0',qn[qn.length-1]].map(A=>{const it=A.indexOf(":");if(it<0)return 0;const Gt=A.slice(0,it+2);return be(Gt,Tt.code,q.fontSize,600)}))-Tr,yi=Ye,Ke=_e,Vs=Ke+nn*2,Er=()=>mi+Ot()*q.lineHeight,Dr=ie[0]-Nt,Co=yi-Wn,Zi=Dr+nn,Ir=gt(),zr=gt(),$r=A=>String(A).padStart(2,"0"),vi=A=>{const Gt=`${(1427014656+A*69905>>>0).toString(16).padStart(8,"0")}-e29b-41d4-a716-446655440000`,Pt=(49+A*3.5).toFixed(2),ln=A%5===0?"FAILED":A%3===0?"PENDING":"CAPTURED",Pn=(32+A)%60,bi=(10+A*7)%60,Rn=`2024-12-15T14:${$r(Pn)}:${$r(bi)}Z`,hn=Math.min(.99,.55+A*.03).toFixed(2);return{id:Gt,amount:Pt,status:ln,updatedAt:Rn,riskScore:hn}},_r=(A,it)=>{if(it){const Gt=[...Un.slice(0,-1),'  "riskScore": ',Un[Un.length-1]];js(Gt.join(`
`)),Gi(["",`"${A.id}",`,`${A.amount},`,'"USD",',`"${A.status}",`,`"${A.updatedAt}",`,A.riskScore,""].join(`
`));return}js(Un.join(`
`)),Gi(["",`"${A.id}",`,`${A.amount},`,'"USD",',`"${A.status}",`,`"${A.updatedAt}"`,""].join(`
`))},Zs=(A,it)=>{if(it){const Gt=[...Jn.slice(0,-1),'  "riskScore": ',Jn[Jn.length-1]];Gs(Gt.join(`
`)),an(["",`"${A.id}",`,`${A.amount},`,'"USD",',`"${A.status}",`,A.riskScore,""].join(`
`));return}Gs(Jn.join(`
`)),an(["",`"${A.id}",`,`${A.amount},`,'"USD",',`"${A.status}"`,""].join(`
`))},Ks=(A,it)=>{if(it){Xt(1),Le(fi),re([...$t.slice(0,-1)," riskScore:",$t[$t.length-1]].join(`
`)),ye([`"${A.id}"`,A.amount,'"USD"',`"${A.status}"`,`"${A.updatedAt}"`,A.riskScore,""].join(`
`));return}Xt(0),Le(_n),re($t.join(`
`)),ye([`"${A.id}"`,A.amount,'"USD"',`"${A.status}"`,`"${A.updatedAt}"`,""].join(`
`))};i.add(P(bn,{children:[P(Y,{width:le.width,height:le.height,fill:t.colors.bg}),P(Y,{children:[P(te,{points:[[Us,Ji],[Cs,Ji]],stroke:gs,lineWidth:Oe.stroke.connector*1,lineCap:"round",opacity:()=>c()*T()*_t()*bt()}),P(je,{x:ie[0],y:ie[1],width:Nt*2,height:Nt*2,fill:()=>Ce(ps,xe,rt()),stroke:l,lineWidth:0,opacity:()=>c()*_t()*bt()}),P(je,{x:ie[0],y:ie[1],width:Nt*2+40,height:Nt*2+40,fill:"rgba(0,0,0,0)",stroke:xe,lineWidth:18,opacity:()=>c()*_t()*bt()*rt()*.22}),P(lt,{x:ie[0],y:ie[1]-5,text:"CLIENT",fontFamily:t.fonts.sans,fontSize:Ut,fontWeight:Yt,letterSpacing:ke,fill:ji,opacity:()=>c()*_t()*bt()}),P(je,{x:ge[0],y:ge[1],width:ne*2,height:ne*2,fill:oi,stroke:l,lineWidth:0,opacity:()=>f()*bt()}),P(je,{x:Mr[0],y:Mr[1],width:Ze,height:Ze,fill:li,opacity:()=>f()*x()*bt()*(z+C()*(1-z))}),P(je,{x:Or[0],y:Or[1],width:Ze,height:Ze,fill:li,opacity:()=>f()*S()*bt()*(z+C()*(1-z))}),P(lt,{x:ge[0],y:ge[1]-6,text:"PAYMENT-SERVICE",fontFamily:t.fonts.sans,fontSize:Te,fontWeight:Yt,letterSpacing:Pe,fill:ji,opacity:()=>f()*bt()}),P(te,{points:[[Ys,Vi],[ks,Vi]],stroke:gs,lineWidth:Oe.stroke.connector*1,lineCap:"round",opacity:()=>g()*T()*_t()*bt()}),P(Y,{x:(Us+Cs)/2,y:Ji-Oe.spacing.endpointY,layout:!0,direction:"row",alignItems:"center",gap:Oe.spacing.labelGap,opacity:()=>T()*c()*_t()*bt(),children:[P(lt,{text:"GET",fontFamily:t.fonts.mono,fontSize:Zt.endpointVerb.fontSize,fontWeight:Zt.endpointVerb.fontWeight,letterSpacing:Zt.endpointVerb.letterSpacing,fill:n}),P(lt,{text:"/payments/{id}",fontFamily:t.fonts.mono,fontSize:Zt.endpointPath.fontSize,fontWeight:Zt.endpointPath.fontWeight,letterSpacing:Zt.endpointPath.letterSpacing,fill:ms})]}),P(Y,{x:(Ys+ks)/2,y:Vi-Oe.spacing.endpointY,layout:!0,direction:"row",alignItems:"center",gap:Oe.spacing.labelGap,opacity:()=>T()*g()*_t()*bt(),children:[P(lt,{text:"POST",fontFamily:t.fonts.mono,fontSize:Zt.endpointVerb.fontSize,fontWeight:Zt.endpointVerb.fontWeight,letterSpacing:Zt.endpointVerb.letterSpacing,fill:n}),P(lt,{text:"/webhooks/payment",fontFamily:t.fonts.mono,fontSize:Zt.endpointPath.fontSize,fontWeight:Zt.endpointPath.fontWeight,letterSpacing:Zt.endpointPath.letterSpacing,fill:ms})]}),P(je,{x:se[0],y:se[1],width:He*2,height:He*2,fill:ai,stroke:l,lineWidth:0,opacity:()=>g()*_t()*bt()}),P(lt,{x:se[0],y:se[1]-5,text:"STRIPE",fontFamily:t.fonts.sans,fontSize:Ut,fontWeight:Yt,letterSpacing:ke,fill:ji,opacity:()=>g()*_t()*bt()})]}),P(Y,{x:Xi,y:ws,width:Ui,height:Yi,radius:Bn,fill:t.colors.card,stroke:pi,lineWidth:Ws,shadowColor:gi,shadowBlur:Hi,shadowOffset:jn,offset:[-1,-1],opacity:()=>f()*N()*bt()}),P(lt,{x:sn,y:Me,text:ui,fontFamily:t.fonts.mono,fontSize:q.fontSize,fontWeight:q.fontWeight,lineHeight:q.lineHeight,fill:zn,textAlign:"left",offset:[-1,-1],opacity:()=>f()*N()*bt()}),P(lt,{x:xs,y:Me,text:me,fontFamily:t.fonts.mono,fontSize:q.fontSize,fontWeight:q.fontWeight,lineHeight:q.lineHeight,fill:Re,textAlign:"left",offset:[-1,-1],opacity:()=>f()*N()*bt()}),P(rr,{x:sn,y:Jt,style:{...q,width:_e},keysText:re,valuesText:ye,keysFill:Re,valuesFill:$n,opacity:()=>f()*N()*bt(),valuesOpacity:K,valuesDx:Le,ellipsis:!0,ellipsisText:"...",maxWidthPx:_e,keysRef:L,valuesRef:ht}),P(Y,{x:Rr,y:bo,width:Hs,height:Pr,radius:Bn,fill:t.colors.card,stroke:ys,lineWidth:vs,shadowColor:gi,shadowBlur:Hi,shadowOffset:jn,offset:[-1,-1],opacity:()=>yt()*_t()*bt()}),P(rr,{x:qi,y:rn,style:{...q,fontWeight:600,width:Yn},keysText:js,valuesText:Gi,keysFill:t.colors.ink,valuesFill:n,opacity:()=>yt()*_t()*bt(),valuesOpacity:zt,valuesDx:Ns,ellipsis:!0,ellipsisText:"...",maxWidthPx:Lr,keysRef:Nn,valuesRef:on}),P(rr,{x:qi,y:rn,style:{...q,fontWeight:600,width:Yn},keysText:vo,valuesText:Gi,keysFill:l,valuesFill:kn,opacity:()=>yt()*_t()*bt(),valuesOpacity:Ct,valuesDx:Ns,ellipsis:!0,ellipsisText:"...",maxWidthPx:Lr}),P(je,{x:Ar,y:wo,width:en,height:en,fill:kn,opacity:()=>At()*bt()*z}),P(Y,{x:Dr,y:Co,width:Vs,height:Er,radius:Bn,fill:t.colors.card,stroke:ys,lineWidth:vs,shadowColor:gi,shadowBlur:Hi,shadowOffset:jn,offset:[-1,-1],opacity:()=>ee()*_t()*bt()}),P(rr,{x:Zi,y:yi,style:{...q,fontWeight:600,width:Ke},keysText:Gs,valuesText:an,keysFill:t.colors.ink,valuesFill:n,opacity:()=>ee()*_t()*bt(),valuesOpacity:V,valuesDx:Js,ellipsis:!0,ellipsisText:"...",maxWidthPx:Ke,keysRef:Ir,valuesRef:zr}),P(rr,{x:Zi,y:yi,style:{...q,fontWeight:600,width:Ke},keysText:So,valuesText:an,keysFill:l,valuesFill:kn,opacity:()=>ee()*_t()*bt(),valuesOpacity:Qt,valuesDx:Js,ellipsis:!0,ellipsisText:"...",maxWidthPx:Ke}),P(je,{x:xo,y:Fr,width:en,height:en,fill:kn,opacity:()=>mt()*bt()*z}),P(Y,{x:()=>qi-10,y:()=>rn+q.lineHeight*6-2,width:()=>Yn+20,height:()=>q.lineHeight+4,radius:10,fill:ci,offset:[-1,-1],opacity:()=>at()*he(0)}),P(lt,{x:qi,y:()=>rn+q.lineHeight*6,width:Yn,text:'  "riskScore": ',fontFamily:t.fonts.mono,fontSize:q.fontSize,fontWeight:650,lineHeight:q.lineHeight,fill:t.colors.ink,textAlign:"left",offset:[-1,-1],opacity:()=>at()*he(0)}),P(lt,{x:()=>qi+Ns,y:()=>rn+q.lineHeight*6,width:Yn,text:Et,fontFamily:t.fonts.mono,fontSize:q.fontSize,fontWeight:650,lineHeight:q.lineHeight,fill:hi,textAlign:"left",offset:[-1,-1],opacity:()=>at()*he(0)}),P(Y,{x:()=>sn-10,y:()=>Jt+q.lineHeight*5-2,width:()=>_e+20,height:()=>q.lineHeight+4,radius:10,fill:ci,offset:[-1,-1],opacity:()=>at()*he(1)}),P(lt,{x:sn,y:()=>Jt+q.lineHeight*5,width:_e,text:" riskScore:",fontFamily:t.fonts.mono,fontSize:q.fontSize,fontWeight:650,lineHeight:q.lineHeight,fill:Re,textAlign:"left",offset:[-1,-1],opacity:()=>at()*he(1)}),P(lt,{x:()=>sn+fi,y:()=>Jt+q.lineHeight*5,width:_e,text:Et,fontFamily:t.fonts.mono,fontSize:q.fontSize,fontWeight:650,lineHeight:q.lineHeight,fill:hi,textAlign:"left",offset:[-1,-1],opacity:()=>0}),P(Y,{x:()=>Zi-10,y:()=>yi+q.lineHeight*5-2,width:()=>Ke+20,height:()=>q.lineHeight+4,radius:10,fill:ci,offset:[-1,-1],opacity:()=>at()*he(2)}),P(lt,{x:Zi,y:()=>yi+q.lineHeight*5,width:Ke,text:'  "riskScore": ',fontFamily:t.fonts.mono,fontSize:q.fontSize,fontWeight:650,lineHeight:q.lineHeight,fill:t.colors.ink,textAlign:"left",offset:[-1,-1],opacity:()=>at()*he(2)}),P(lt,{x:()=>Zi+Js,y:()=>yi+q.lineHeight*5,width:Ke,text:Et,fontFamily:t.fonts.mono,fontSize:q.fontSize,fontWeight:650,lineHeight:q.lineHeight,fill:hi,textAlign:"left",offset:[-1,-1],opacity:()=>at()*he(2)}),ad]})),yield*D(c(1,1.6,w),f(1,1.6,w),g(1,1.6,w)),yield*U(1.8),yield*D(T(1,.9,w),x(1,.9,w),S(1,.9,w)),yield*U(.3),yield*D(N(1,1.05,w),W(1,1.05,w));for(let A=0;A<3;A++)yield*C(1,.26,w),yield*U(.06),yield*C(0,.34,w),yield*U(.1);yield*D(W(0,.6,w),C(0,.6,w)),yield*U(.35),yield*D(yt(1,1.1,w),ee(1,1.1,w)),yield*U(.35),jt(0),At(0),J(0),mt(0),Ct(0),zt(0),K(0),Qt(0),V(0);const Br=20,Ps=9,Tn=Br-Ps,Wr=1.15,jr=.18;for(let A=0;A<Ps;A++){const it=A===Ps-1,Gt=(A+Tn)/(Br-1),Pt=Wr+(jr-Wr)*Gt,ln=Math.max(.1,Math.min(.28,Pt*.3)),Pn=Math.max(.1,Math.min(.24,Pt*.26)),bi=Math.max(.05,Math.min(.16,Pt*.18));st(it?1:0),Ot(0),rt(0),at(0),$(1),F(0);{const Ge=vi(A+Tn);Et(Ge.riskScore),_r(Ge,it)}jt(0),At(0),Ct(0),A===0&&zt(0),K(0),A===0&&Qt(0),A===0&&V(0),J(0),mt(0);const Rn=A===0;zt(Rn?0:1),V(Rn?0:1);const hn=Rn?Math.max(.6,ln*1.9):ln,Qs=Math.max(.12,Math.min(.28,hn*.6));yield*D(At(1,hn,w),Ct(1,hn,w),A>0?Qt(0,hn,w):U(0)),yield*U(Qs),yield*jt(.7,Pt*.7,es);{const Ge=vi(A+Tn);it?Ks(Ge,!0):Ks(Ge,!1)}const tr=Math.max(.06,Math.min(.12,Pt*.12));yield*D(jt(1,Pt*.3,es),Ct(0,Pt*.3,w),Rn?zt(1,Pt*.3,w):U(0),K(1,Pt*.3,w)),yield*At(0,tr,w),yield*U(bi),yield*D(mt(1,Pn,w),K(1,0)),yield*J(.7,Pt*.7,es);{const Ge=vi(A+Tn);it&&Ot(1),it?Zs(Ge,!0):Zs(Ge,!1)}if(yield*D(J(1,Pt*.3,es),K(0,Pt*.3,w),Qt(1,Pt*.3,w)),it){yield*D(rt(1,.55,w),mt(0,tr,w),U(1)),yield*D($(.5,.35,w),at(1,1.15,w));break}if(yield*mt(0,tr,w),yield*U(bi),A===Ps-2){const Ge=Math.max(.08,jr*.55),Qe=.09,er=.035;for(let Vn=0;Vn<5;Vn++){st(0),Ot(0),rt(0),at(0),F(0);{const wi=vi(A+Tn+Vn+1);Et(wi.riskScore),_r(wi,!1)}jt(0),At(0),Ct(0),K(0),Vn===0&&Qt(0),J(0),mt(0),yield*D(At(1,Qe,w),Ct(1,Qe,w),Vn>0?Qt(0,Qe,w):U(0)),yield*jt(1,Ge,es);{const wi=vi(A+Tn+Vn+1);Ks(wi,!1)}yield*D(At(0,Qe,w),Ct(0,Qe,w),K(1,Qe,w)),yield*U(er),yield*mt(1,Qe,w),yield*J(1,Ge,es);{const wi=vi(A+Tn+Vn+1);Zs(wi,!1)}yield*D(mt(0,Qe,w),K(0,Qe,w),Qt(1,Qe,w)),yield*U(er)}}}at()>0&&(yield*U(.35),yield*F(1,.9,w),yield*U(.35),yield*F(2,.9,w),yield*U(.45),yield*D(at(0,.65,w),$(0,.65,w),F(0,.65,w))),yield*U(1.5)});is.name="paymentInputsScene";Lf.attach(is.meta);is.onReplaced??(is.onReplaced=new wn(is.config));let wa;wa??(wa=new Ii("dryFiltersScene",!1));wa.loadData({version:0,timeEvents:[],seed:1847921574});const ld=wa;class lo{constructor(t){ve(this,"lines");this.lines=t}static from(t){return new lo(t.split(`
`))}get lineCount(){return this.lines.length}getLine(t){return this.lines[t]}getLines(t,e){return this.lines.slice(t,e+1)}slice(t,e){return new lo(this.getLines(t,e))}}const hd=new Set(["void","int","long","double","float","boolean","char","byte","short","if","else","for","while","do","switch","case","default","break","continue","return","try","catch","finally","throw","throws","class","interface","enum","extends","implements","public","private","protected","static","final","abstract","synchronized","volatile","transient","new","this","super","instanceof","true","false","null","import","package"]),cd=new Set(["String","Integer","Long","Double","Float","Boolean","Character","Byte","Short","Object","Class","Void","List","ArrayList","Map","HashMap","Set","HashSet","Optional","Stream","Exception","RuntimeException","Error","LocalDate","LocalDateTime","Instant","User","Plan","Subscription","IllegalStateException","BigDecimal","BigInteger","Decimal"]),Ti={comment:/^\/\/.*/,annotation:/^@\w+/,string:/^"([^"\\]|\\.)*"/,number:/^\d+(\.\d+)?[fFdDlL]?/,word:/^[a-zA-Z_]\w*/,operator:/^(&&|\|\||==|!=|<=|>=|->|::|\+\+|--|[+\-*/%=<>!&|^~?:])/,punctuation:/^[{}()\[\];,.<>]/,whitespace:/^\s+/};function ud(i){return/^[A-Z][A-Z0-9_]*$/.test(i)&&i.length>1}function fd(i,t,e,n=new Set){return hd.has(i)?"keyword":cd.has(i)||n.has(i)||e&&e.type==="keyword"&&(e.text==="class"||e.text==="interface"||e.text==="enum")?"type":t==="("&&(e==null?void 0:e.text)==="."?"method":ud(i)?"constant":"plain"}function dd(i,t=[]){const e=[];let n=i,s=null;const r=new Set(t);for(;n.length>0;){const l=n.match(Ti.comment);if(l){e.push({text:l[0],type:"comment"});break}const c=n.match(Ti.annotation);if(c){e.push({text:c[0],type:"annotation"}),n=n.slice(c[0].length);continue}const f=n.match(Ti.string);if(f){e.push({text:f[0],type:"string"}),n=n.slice(f[0].length);continue}const g=n.match(Ti.number);if(g){const C={text:g[0],type:"number"};e.push(C),C.text.trim().length>0&&(s=C),n=n.slice(g[0].length);continue}const x=n.match(Ti.word);if(x){const C=x[0],$=n[C.length]??"",W={text:C,type:fd(C,$,s,r)};e.push(W),W.text.trim().length>0&&(s=W),n=n.slice(C.length);continue}const S=n.match(Ti.operator);if(S){const C={text:S[0],type:"operator"};e.push(C),C.text.trim().length>0&&(s=C),n=n.slice(S[0].length);continue}const T=n.match(Ti.punctuation);if(T){const C={text:T[0],type:"punctuation"};e.push(C),C.text.trim().length>0&&(s=C),n=n.slice(T[0].length);continue}const N=n.match(Ti.whitespace);if(N){const C={text:N[0],type:"plain"};e.push(C),n=n.slice(N[0].length);continue}const K={text:n[0],type:"plain"};e.push(K),K.text.trim().length>0&&(s=K),n=n.slice(1)}return e}const dh={keyword:"#CC7832",type:"#A9B7C6",string:"#6A8759",number:"#6897BB",operator:"#A9B7C6",punctuation:"#A9B7C6",method:"#FFC66D",comment:"#808080",annotation:"#BBB529",constant:"#9876AA",plain:"#A9B7C6"},gn={keyword:"#F2A25F",type:"#D3DBEC",string:"#F2C37B",number:"#FF9A4A",operator:"#D3CCBF",punctuation:"rgba(252,251,248,0.70)",method:"#E8CFAE",comment:"#6E7380",annotation:"#F2A25F",constant:"#A8D8C0",plain:"#FCFBF8"};function pd(i,t=dh){return t[i]}const G={radius:28,radiusSmall:22,stroke:"#262A34",lineWidth:1,shadowColor:"rgba(0, 0, 0, 0.50)",shadowBlur:44,shadowOffset:[-16,22],labelFill:"rgba(244, 241, 235, 0.78)",labelFillMuted:"rgba(244, 241, 235, 0.72)"},gd={radius:G.radius,fill:dt.surface,stroke:G.stroke,strokeWidth:G.lineWidth,opacity:1,shadowColor:G.shadowColor,shadowBlur:G.shadowBlur,shadowOffsetX:G.shadowOffset[0],shadowOffsetY:G.shadowOffset[1],edge:!0};class md{constructor(t){ve(this,"rectRef",gt());ve(this,"config");ve(this,"style");this.config=t,this.style={...gd,...t.style}}build(){const t=new Y({width:this.config.width,height:this.config.height,radius:this.style.radius,fill:this.style.fill,stroke:this.style.stroke,lineWidth:this.style.strokeWidth,opacity:this.style.opacity,shadowColor:this.style.shadowColor,shadowBlur:this.style.shadowBlur,shadowOffset:[this.style.shadowOffsetX,this.style.shadowOffsetY],clip:!0});if(this.style.edge){t.add(new Y({width:"100%",height:2,y:()=>-t.height()/2+1,fill:"rgba(255,255,255,0.06)",opacity:.7,layout:!1}));const e=2,n=Math.max(0,this.style.radius-e);t.add(new Y({width:()=>t.width()-e*2,height:()=>t.height()-e*2,radius:n,fill:"rgba(0,0,0,0)",stroke:"rgba(255,255,255,0.045)",lineWidth:1,layout:!1}))}return this.rectRef(t),t}get node(){return this.rectRef()}get width(){return this.config.width}get height(){return this.config.height}}function ph(i){const t=i.absolutePosition();return{x:t.x,y:t.y}}const yd=new Set(["!=","==","<=",">=","&&","||","++","--","->","::"]);class vd{constructor(t){ve(this,"containerRef",gt());ve(this,"backgroundRef",gt());ve(this,"tokensData",[]);ve(this,"config");this.config=t}build(t){const e=new Q({y:t});this.containerRef(e);const n=new Y({width:this.config.contentWidth,height:this.config.lineHeight*1.15,x:0,y:0,radius:this.config.fontSize*.5,fill:dt.surface,opacity:0});this.backgroundRef(n),e.add(n);let s=this.config.leftEdge;for(const r of this.config.tokens){const l=r.color??pd(r.type,this.config.theme);if(r.type==="operator"&&yd.has(r.text)){for(let g=0;g<r.text.length;g++){const x=r.text[g],S=gt(),T=new lt({text:x,fontFamily:this.config.fontFamily,fontSize:this.config.fontSize,fill:l,x:s,offset:[-1,0]});S(T),e.add(T),this.tokensData.push({ref:S,text:g===0?r.text:"",localX:s,originalColor:l,originalShadowBlur:0,originalShadowColor:"rgba(0,0,0,0)",originalShadowOffset:[0,0]}),s+=be(x,this.config.fontFamily,this.config.fontSize)}continue}const c=gt(),f=new lt({text:r.text,fontFamily:this.config.fontFamily,fontSize:this.config.fontSize,fill:l,x:s,offset:[-1,0]});c(f),e.add(f),this.tokensData.push({ref:c,text:r.text,localX:s,originalColor:l,originalShadowBlur:0,originalShadowColor:"rgba(0,0,0,0)",originalShadowOffset:[0,0]}),s+=be(r.text,this.config.fontFamily,this.config.fontSize)}return e}get node(){return this.containerRef()}getWorldPosition(){return ph(this.containerRef())}*setOpacity(t,e=.4){yield*this.containerRef().opacity(t,e,w)}*recolorAll(t,e=.4){const n=[];for(const s of this.tokensData)n.push(s.ref().fill(t,e,w)),n.push(...this.getGlowAnimations(s,t,e));n.length>0&&(yield*D(...n))}*recolorTokens(t,e,n=.4){const s=[];for(const r of this.tokensData)t.some(l=>r.text.includes(l))&&(s.push(r.ref().fill(e,n,w)),s.push(...this.getGlowAnimations(r,e,n)));s.length>0&&(yield*D(...s))}*resetColors(t=.4){const e=[];for(const n of this.tokensData)e.push(n.ref().fill(n.originalColor,t,w)),e.push(n.ref().shadowBlur(n.originalShadowBlur,t,w)),e.push(n.ref().shadowColor(n.originalShadowColor,t,w)),e.push(n.ref().shadowOffset(n.originalShadowOffset,t,w));e.length>0&&(yield*D(...e))}setTokenOpacityAt(t,e){const n=this.resolveTokenIndex(t),s=this.tokensData[n];s&&s.ref().opacity(e)}*animateTokenOpacityAt(t,e,n=.4){const s=this.resolveTokenIndex(t),r=this.tokensData[s];r&&(yield*r.ref().opacity(e,n,w))}resolveTokenIndex(t){return t<0?Math.max(0,this.tokensData.length+t):Math.min(t,Math.max(0,this.tokensData.length-1))}getGlowAnimations(t,e,n){return e!==dt.accent?[t.ref().shadowBlur(t.originalShadowBlur,n,w),t.ref().shadowColor(t.originalShadowColor,n,w),t.ref().shadowOffset(t.originalShadowOffset,n,w)]:[t.ref().shadowBlur(8,n,w),t.ref().shadowColor("rgba(255, 140, 163, 0.30)",n,w),t.ref().shadowOffset([0,0],n,w)]}*showBackground(t,e=.4){yield*D(this.backgroundRef().opacity(1,e,w),this.backgroundRef().fill(t,e,w))}*hideBackground(t=.4){yield*this.backgroundRef().opacity(0,t,w)}hideTokensInstantly(){for(const t of this.tokensData)t.ref().opacity(0)}cloneTokensAsGhost(){const t=[];for(const e of this.tokensData){const n=e.ref(),s=new lt({text:n.text(),fontFamily:n.fontFamily(),fontSize:n.fontSize(),fill:n.fill(),x:e.localX,y:0,offset:[-1,0]});t.push(s)}return t}findToken(t){for(const e of this.tokensData)if(e.text.includes(t)){const n=e.text.indexOf(t),s=be(e.text.substring(0,n),this.config.fontFamily,this.config.fontSize),r=be(t,this.config.fontFamily,this.config.fontSize);return{localX:e.localX+s+r/2,width:r}}return null}}class We{constructor(t,e){ve(this,"containerRef",gt());ve(this,"contentRef",gt());ve(this,"lines",[]);ve(this,"document");ve(this,"config");ve(this,"card",null);ve(this,"mounted",!1);this.document=t;const n=e.fontSize??20;this.config={x:e.x??0,y:e.y??0,width:e.width??600,height:e.height??0,fontSize:n,lineHeight:e.lineHeight??fh(n),fontFamily:e.fontFamily??Tt.code,theme:e.theme??dh,cardStyle:e.cardStyle??{},customTypes:e.customTypes??[],contentOffsetX:e.contentOffsetX??0,contentOffsetY:e.contentOffsetY??0}}static fromCode(t,e={}){return new We(lo.from(t),e)}static fromDocument(t,e={}){return new We(t,e)}getPaddingX(){return va(this.config.fontSize)}getPaddingY(){return ba(this.config.fontSize)}getContentLeftEdge(){const t=this.getPaddingX();return-Math.max(this.config.width-t*2,0)/2+this.config.contentOffsetX}mount(t){if(this.mounted)return;const e=new Q({x:this.config.x,y:this.config.y,opacity:0});this.containerRef(e);const n=this.document.lineCount,s=this.getPaddingX(),r=this.getPaddingY(),l=this.config.width,c=n*this.config.lineHeight+r*2,f=this.config.height>0?this.config.height:c,g=Math.max(l-s*2,0);this.card=new md({width:l,height:f,style:this.config.cardStyle});const x=this.card.build();e.add(x);const S=Math.max(0,f-r*2),T=new Y({width:g,height:S,radius:0,fill:"#00000000",clip:!0});e.add(T);const N=new Q({y:0});this.contentRef(N),T.add(N);const K=this.getContentLeftEdge(),C=this.config.height>0&&f!==c,$=-S/2+this.config.contentOffsetY+this.config.lineHeight/2,W=-((n-1)/2)*this.config.lineHeight,st=C?$:W;for(let Ot=0;Ot<n;Ot++){const rt=this.document.getLine(Ot)??"",at=dd(rt,this.config.customTypes),F=st+Ot*this.config.lineHeight,Et=new vd({tokens:at,fontSize:this.config.fontSize,lineHeight:this.config.lineHeight,fontFamily:this.config.fontFamily,theme:this.config.theme,contentWidth:g,leftEdge:K});N.add(Et.build(F)),this.lines.push(Et)}t.add(e),this.mounted=!0}get node(){return this.containerRef()}getLine(t){return this.lines[t]??null}getPosition(){return this.mounted?ph(this.containerRef()):{x:this.config.x,y:this.config.y}}getLineWorldPosition(t){const e=this.lines[t];return e?e.getWorldPosition():null}*appear(t=.6){yield*this.containerRef().opacity(1,t,w)}*disappear(t=.6){yield*this.containerRef().opacity(0,t,w)}*moveTo(t,e,n=1){yield*this.containerRef().position([t,e],n,w)}*flyTo(t,e=1){yield*this.containerRef().position([t.x,t.y],e,w)}*highlightLines(t,e=.4){const n=[];for(let s=0;s<this.lines.length;s++){const r=t.some(([l,c])=>s>=l&&s<=c);n.push(this.lines[s].setOpacity(r?1:.25,e))}yield*D(...n)}*dimLines(t,e,n=.25,s=.4){const r=[];for(let l=t;l<=e&&l<this.lines.length;l++)r.push(this.lines[l].setOpacity(n,s));yield*D(...r)}*hideLines(t,e=.4){const n=[];for(let s=0;s<this.lines.length;s++)t.some(([r,l])=>s>=r&&s<=l)&&n.push(this.lines[s].setOpacity(0,e));yield*D(...n)}*showAllLines(t=.4){yield*D(...this.lines.map(e=>e.setOpacity(1,t)))}*recolorLine(t,e,n=.4){const s=this.lines[t];s&&(yield*s.recolorAll(e,n))}*resetLineColors(t,e=.4){const n=this.lines[t];n&&(yield*n.resetColors(e))}*recolorTokens(t,e,n,s=.4){const r=this.lines[t];r&&(yield*r.recolorTokens(e,n,s))}hideAllTokens(){for(const t of this.lines)t.hideTokensInstantly()}buildLineGhost(t){const e=this.lines[t];if(!e)return null;const n=e.getWorldPosition(),s=new Q({opacity:0}),r=e.cloneTokensAsGhost();for(const l of r)s.add(l);return{node:s,originWorld:n}}get lineCount(){return this.document.lineCount}get width(){return this.config.width}get fontSize(){return this.config.fontSize}get lineHeight(){return this.config.lineHeight}get fontFamily(){return this.config.fontFamily}get theme(){return this.config.theme}getLineLayouts(){return this.lines.map(t=>({y:t.node.y(),opacity:t.node.opacity()}))}setLinePosition(t,e){const n=this.lines[t];n&&n.node.y(e)}setLineOpacity(t,e){const n=this.lines[t];n&&n.node.opacity(e)}setTokenOpacityAt(t,e,n){const s=this.lines[t];s&&s.setTokenOpacityAt(e,n)}*animateTokenOpacityAt(t,e,n,s=.4){const r=this.lines[t];r&&(yield*r.animateTokenOpacityAt(e,n,s))}*animateInsertLines(t,e,n=.6){const[s,r]=t,l=Math.max(0,r-s+1);if(l===0)return;const c=this.config.lineHeight,f=[];for(let g=s;g<this.lines.length;g++){const x=g<=r?(g-s)*c:l*c;e[g]+=x,f.push(this.lines[g].node.y(e[g],n,w))}for(let g=s;g<=r&&g<this.lines.length;g++)f.push(this.lines[g].node.opacity(1,n,w));f.length>0&&(yield*D(...f))}setScrollY(t){if(!this.mounted)return;this.contentRef().y(-t)}*animateScrollY(t,e=.6){if(!this.mounted)return;const n=this.contentRef(),s=-t;yield*n.y(s,e,w)}setCardFill(t){this.card&&this.card.node.fill(t)}*animateCardFill(t,e=.6){this.card&&(yield*this.card.node.fill(t,e,w))}}function gh(i){const t=new De({type:"linear",from:new y(0,-540),to:new y(0,le.height/2),stops:[{offset:0,color:dt.background.from},{offset:1,color:dt.background.to}]}),e=new Y({width:le.width,height:le.height,fill:t}),n=new De({type:"radial",from:new y(le.width*.12,-1080*.12),to:new y(le.width*.12,-1080*.12),fromRadius:0,toRadius:le.width*.95,stops:[{offset:0,color:"rgba(246,231,212,0.045)"},{offset:1,color:"rgba(255,255,255,0)"}]}),s=new Y({width:le.width,height:le.height,fill:n,opacity:1});i.add(e),i.add(s)}const Kr=G.stroke,El=`final class PaymentRepository {

  private final DSLContext dsl;

  PaymentRepository(DSLContext dsl) {
    this.dsl = dsl;
  }

  List<PaymentRecord> find(PaymentSearchFilter filter) {
    Condition condition = PaymentConditions.fromFilter(filter);

    return dsl.selectFrom(PAYMENTS)
      .where(condition)
      .fetch();
  }
}`,Dl=`final class OrderRepository {

  private final DSLContext dsl;

  OrderRepository(DSLContext dsl) {
    this.dsl = dsl;
  }

  List<OrderRecord> find(OrderSearchFilter filter) {
    Condition condition = OrderConditions.fromFilter(filter);

    return dsl.selectFrom(ORDERS)
      .where(condition)
      .fetch();
  }
}`,Es=Tt.code,Ds=16,Qr=400,to=48,Ln=16,qo=32,Il=24,zl=22,$l=G.labelFill,Jo="rgba(0, 0, 0, 0)",bd="rgba(200, 116, 143, 0.22)",wd="2024-12-10 00:00",xd=.22,Sd=.22,_l=.08,Bl=.28,Cd=1,or=[{key:"id",header:"id",ellipsis:"middle",align:"left"},{key:"status",header:"status",ellipsis:"end",align:"left",color:()=>G.labelFillMuted},{key:"amount",header:"amount",ellipsis:"end",align:"left"},{key:"created_at",header:"created_at",ellipsis:"end",align:"left"}],dn=[{id:"550e8400-e29b-41d4-a716-446655440000",status:"CAPTURED",amount:"$99.00",created_at:"2024-12-15 14:32"},{id:"6ba7b810-9dad-11d1-80b4-00c04fd430c8",status:"DECLINED",amount:"$150.00",created_at:"2024-12-14 09:15"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d479",status:"CAPTURED",amount:"$245.00",created_at:"2024-12-12 18:47"},{id:"7c9e6679-7425-40de-944b-e07fc1f90ae7",status:"PENDING",amount:"$78.00",created_at:"2024-12-10 11:03"},{id:"a1b2c3d4-e5f6-7890-abcd-ef1234567890",status:"CAPTURED",amount:"$312.50",created_at:"2024-12-08 22:19"}],ar=[{key:"id",header:"id",ellipsis:"middle",align:"left"},{key:"status",header:"status",ellipsis:"end",align:"left",color:()=>G.labelFillMuted},{key:"total",header:"total",ellipsis:"end",align:"left"},{key:"created_at",header:"created_at",ellipsis:"end",align:"left"}],pn=[{id:"ord-8a4b2c1d-3e5f-6789-abcd-ef0123456789",status:"SHIPPED",total:"$299.00",created_at:"2024-12-14 16:20"},{id:"ord-1f2e3d4c-5b6a-7890-1234-567890abcdef",status:"PROCESSING",total:"$450.00",created_at:"2024-12-13 11:45"},{id:"ord-9c8b7a6d-5e4f-3210-fedc-ba9876543210",status:"SHIPPED",total:"$125.50",created_at:"2024-12-11 09:30"},{id:"ord-2d3e4f5a-6b7c-8901-2345-6789abcdef01",status:"CANCELLED",total:"$89.00",created_at:"2024-12-09 14:15"},{id:"ord-7a8b9c0d-1e2f-3456-7890-abcdef012345",status:"SHIPPED",total:"$567.00",created_at:"2024-12-07 20:00"}],ss=mo(function*(i){gh(i);function*t(V,J=xd,mt=Sd){yield*V.fill(bd,J,w),yield*V.fill(Jo,mt,w)}function e(V){return V>=wd}function n(V){return e(V.created_at)}function s(V){return V.status==="CAPTURED"}function r(V){return e(V.created_at)}function l(V){return V.status==="SHIPPED"}function c(V){return n(V)&&s(V)}function f(V){return r(V)&&l(V)}const S=(Ee.right-Ee.left-120)/2,T=Ee.left+S/2,N=Ee.right-S/2,K=nd([El,Dl],"L",16),C={...K[0],x:T,width:S},$={...K[1],x:T,width:S},W=gt(),st=gt(),Ot=S,rt=Ot-qo*2,at=dn.map(()=>({status:gt(),created_at:gt()})),F=pn.map(()=>({status:gt(),created_at:gt()})),Et=dn.map(()=>gt()),yt=pn.map(()=>gt());i.add(P(Y,{ref:W,x:N,y:C.y,width:Ot,height:C.height,layout:!0,direction:"column",gap:0,padding:qo,radius:G.radiusSmall,fill:dt.surface,stroke:G.stroke,lineWidth:G.lineWidth,shadowColor:G.shadowColor,shadowBlur:G.shadowBlur,shadowOffset:G.shadowOffset,opacity:0,clip:!0,children:[P(Y,{layout:!0,direction:"row",height:Il,width:rt,justifyContent:"start",alignItems:"center",clip:!0,marginBottom:10,children:P(lt,{fontFamily:Tt.primary,fontSize:zl,fontWeight:600,fill:$l,text:"PAYMENTS"})}),P(Y,{layout:!0,direction:"row",height:to,width:rt,justifyContent:"start",clip:!0,children:or.map((V,J)=>P(bn,{children:[P(Y,{layout:!0,grow:1,shrink:1,basis:0,minWidth:0,height:"100%",paddingLeft:Ln,paddingRight:Ln,alignItems:"center",justifyContent:"start",clip:!0,children:P(lt,{width:"100%",minWidth:0,textWrap:!1,textAlign:V.align==="right"?"right":"left",fontFamily:Es,fontSize:Ds,fontWeight:600,fill:G.labelFillMuted,text:V.header})}),J<or.length-1&&P(Y,{width:1,height:"100%",fill:Kr,shrink:0})]}))}),dn.map((V,J)=>P(Y,{ref:Et[J],layout:!0,direction:"row",height:to,width:rt,justifyContent:"start",clip:!0,marginTop:J===0?6:0,children:or.map((mt,Nt)=>{const ne=V[mt.key],ze=rt/or.length-Ln*2,we=ra(ne,ze,mt.ellipsis??"end",Es,Ds,Qr),Ue=mt.color?mt.color(ne):dt.text.primary,$e=mt.key==="status"?at[J].status:mt.key==="created_at"?at[J].created_at:void 0;return P(bn,{children:[P(Y,{ref:$e,layout:!0,grow:1,shrink:1,basis:0,minWidth:0,height:"100%",paddingLeft:Ln,paddingRight:Ln,alignItems:"center",justifyContent:"start",clip:!0,fill:$e?Jo:void 0,children:P(lt,{width:"100%",minWidth:0,textWrap:!1,textAlign:mt.align==="right"?"right":"left",fontFamily:Es,fontSize:Ds,fontWeight:Qr,fill:Ue,text:we})}),Nt<or.length-1&&P(Y,{width:1,height:"100%",fill:Kr,shrink:0})]})})}))]})),i.add(P(Y,{ref:st,x:N,y:$.y,width:Ot,height:$.height,layout:!0,direction:"column",gap:0,padding:qo,radius:G.radiusSmall,fill:dt.surface,stroke:G.stroke,lineWidth:G.lineWidth,shadowColor:G.shadowColor,shadowBlur:G.shadowBlur,shadowOffset:G.shadowOffset,opacity:0,clip:!0,children:[P(Y,{layout:!0,direction:"row",height:Il,width:rt,justifyContent:"start",alignItems:"center",clip:!0,marginBottom:10,children:P(lt,{fontFamily:Tt.primary,fontSize:zl,fontWeight:600,fill:$l,text:"ORDERS"})}),P(Y,{layout:!0,direction:"row",height:to,width:rt,justifyContent:"start",clip:!0,children:ar.map((V,J)=>P(bn,{children:[P(Y,{layout:!0,grow:1,shrink:1,basis:0,minWidth:0,height:"100%",paddingLeft:Ln,paddingRight:Ln,alignItems:"center",justifyContent:"start",clip:!0,children:P(lt,{width:"100%",minWidth:0,textWrap:!1,textAlign:V.align==="right"?"right":"left",fontFamily:Es,fontSize:Ds,fontWeight:600,fill:G.labelFillMuted,text:V.header})}),J<ar.length-1&&P(Y,{width:1,height:"100%",fill:Kr,shrink:0})]}))}),pn.map((V,J)=>P(Y,{ref:yt[J],layout:!0,direction:"row",height:to,width:rt,justifyContent:"start",clip:!0,marginTop:J===0?6:0,children:ar.map((mt,Nt)=>{const ne=V[mt.key],ze=rt/ar.length-Ln*2,we=ra(ne,ze,mt.ellipsis??"end",Es,Ds,Qr),Ue=mt.color?mt.color(ne):dt.text.primary,$e=mt.key==="status"?F[J].status:mt.key==="created_at"?F[J].created_at:void 0;return P(bn,{children:[P(Y,{ref:$e,layout:!0,grow:1,shrink:1,basis:0,minWidth:0,height:"100%",paddingLeft:Ln,paddingRight:Ln,alignItems:"center",justifyContent:"start",clip:!0,fill:$e?Jo:void 0,children:P(lt,{width:"100%",minWidth:0,textWrap:!1,textAlign:mt.align==="right"?"right":"left",fontFamily:Es,fontSize:Ds,fontWeight:Qr,fill:Ue,text:we})}),Nt<ar.length-1&&P(Y,{width:1,height:"100%",fill:Kr,shrink:0})]})})}))]}));const Ct=We.fromCode(El,{x:C.x,y:C.y,width:C.width,height:C.height,fontSize:C.fontSize,fontFamily:Tt.code,theme:gn,customTypes:["PaymentRepository","DSLContext","PaymentRecord","PaymentSearchFilter","Condition","PaymentConditions"]}),zt=We.fromCode(Dl,{x:$.x,y:$.y,width:$.width,height:$.height,fontSize:$.fontSize,fontFamily:Tt.code,theme:gn,customTypes:["OrderRepository","DSLContext","OrderRecord","OrderSearchFilter","Condition","OrderConditions"]});Ct.mount(i),yield*D(Ct.appear(et.slow),W().opacity(1,et.slow,w));const jt=9,At=12;yield*U(2),zt.mount(i),yield*D(zt.appear(et.slow),st().opacity(1,et.slow,w)),yield*U(.4),yield*D(D(Ct.highlightLines([[jt,jt],[At,At]],et.slow),Ct.recolorLine(jt,dt.accent,et.slow),Ct.recolorLine(At,dt.accent,et.slow)),D(zt.highlightLines([[jt,jt],[At,At]],et.slow),zt.recolorLine(jt,dt.accent,et.slow),zt.recolorLine(At,dt.accent,et.slow))),yield*U(.6);for(let V=0;V<Cd;V++){for(let J=0;J<Math.max(dn.length,pn.length);J++)yield*D(J<dn.length&&n(dn[J])?t(at[J].created_at()):U(0),J<pn.length&&r(pn[J])?t(F[J].created_at()):U(0)),yield*U(_l);yield*U(Bl);for(let J=0;J<Math.max(dn.length,pn.length);J++)yield*D(J<dn.length&&s(dn[J])?t(at[J].status()):U(0),J<pn.length&&l(pn[J])?t(F[J].status()):U(0)),yield*U(_l);yield*U(Bl)}const ee=.7,Qt=[];for(let V=0;V<dn.length;V++){if(c(dn[V]))continue;const J=Et[V]();Qt.push(D(J.opacity(0,ee,w),J.height(0,ee,w)))}for(let V=0;V<pn.length;V++){if(f(pn[V]))continue;const J=yt[V]();Qt.push(D(J.opacity(0,ee,w),J.height(0,ee,w)))}Qt.length>0&&(yield*D(...Qt)),yield*D(D(Ct.resetLineColors(jt,.45),Ct.resetLineColors(At,.45),Ct.showAllLines(.45)),D(zt.resetLineColors(jt,.45),zt.resetLineColors(At,.45),zt.showAllLines(.45))),yield*U(1.2),yield*D(Ct.disappear(et.slow),zt.disappear(et.slow),W().opacity(0,et.slow,w),st().opacity(0,et.slow,w)),yield*U(.4)});ss.name="dryFiltersScene";ld.attach(ss.meta);ss.onReplaced??(ss.onReplaced=new wn(ss.config));let xa;xa??(xa=new Ii("dryConditionsScene",!1));xa.loadData({version:0,timeEvents:[],seed:924731155});const kd=xa,Wl=`final class OrderConditions {

  static Condition fromFilter(OrderSearchFilter filter) {
    Condition conditions = DSL.trueCondition();

    if (filter.createdSince() != null) {
      conditions = conditions.and(
        ORDERS.CREATED_AT.ge(filter.createdSince())
      );
    }

    if (filter.status() != null) {
      conditions = conditions.and(ORDERS.STATUS.eq(filter.status()));
    }

    return conditions;
  }
}`,jl=`final class PaymentConditions {

  static Condition fromFilter(PaymentSearchFilter filter) {
    Condition conditions = DSL.trueCondition();

    if (filter.createdSince() != null) {
      conditions = conditions.and(
        PAYMENTS.CREATED_AT.ge(filter.createdSince())
      );
    }

    if (filter.status() != null) {
      conditions = conditions.and(PAYMENTS.STATUS.eq(filter.status()));
    }

    return conditions;
  }
}`,Vo=`final class CommonConditions {

  static Condition fromFilter(
    Filter filter, Field<LocalDateTime> createdAt, Field<String> statusField,
    Field<Boolean> deleted, boolean isOrders, boolean isPayments,
    boolean isInvoices
  ) {
    Condition conditions = DSL.trueCondition();

    if (filter.createdSince() != null) {
      conditions = conditions.and(createdAt.ge(filter.createdSince()));
    }

    if (filter.status() != null) {
      conditions = conditions.and(statusField.eq(filter.status()));
    }

    if (isOrders && !filter.includeDeleted()) {
      conditions = conditions.and(deleted.isFalse());
    }

    if (isPayments && filter.currency() != null) {
      conditions = conditions.and(PAYMENTS.CURRENCY.eq(filter.currency()));
    }

    if (isPayments && filter.executedSince() != null) {
      conditions = conditions.and(PAYMENTS.EXECUTED_AT.ge(filter.executedSince()));
    }

    if (isInvoices && filter.invoiceNumber() != null) {
      conditions = conditions.and(INVOICES.NUMBER.eq(filter.invoiceNumber()));
    }

    if (isInvoices && filter.invoiceCurrency() != null) {
      conditions = conditions.and(INVOICES.CURRENCY.eq(filter.invoiceCurrency()));
    }

    if (isInvoices && filter.invoiceMinTotal() != null) {
      conditions = conditions.and(INVOICES.TOTAL_CENTS.ge(filter.invoiceMinTotal()));
    }

    return conditions;
  }
}`,Pi="#2C6BFF",Qn="rgba(219, 213, 202, 0.22)",eo="#E35B66",Zo="rgba(227, 91, 102, 0.55)";function Is(i,t,e){return i+(t-i)*e}function Mt(i,t,e){const[n,s]=i,[r,l]=e,c=r-n,f=l-s;if(c===0&&f===0)return[n,s];const g=t[0]/2,x=t[1]/2,S=Math.abs(c),T=Math.abs(f),N=Math.min(g/(S||1e-9),x/(T||1e-9));return[n+c*N,s+f*N]}function Nl(i,t,e){return i.split(`
`).length*t+e*2}function Td(i,t,e,n){const s=Math.max(0,...i.split(`
`).map(l=>be(l,t,e,400))),r=Math.ceil(s+n*2);return Math.min(1600,Math.max(900,r))}const rs=mo(function*(i){gh(i);const t=16,e=Math.round(t*1.7*10)/10,n=ba(t),s=va(t),c=(Ee.right-Ee.left-120)/2,f=Ee.left+c/2,g=Ee.right-c/2,x=Math.max(Nl(Wl,e,n),Nl(jl,e,n)),S=We.fromCode(Wl,{x:f,y:0,width:c,height:x,fontSize:t,lineHeight:e,fontFamily:Tt.code,theme:gn,customTypes:["OrderConditions","OrderSearchFilter","Condition","DSL"]}),T=We.fromCode(jl,{x:g,y:0,width:c,height:x,fontSize:t,lineHeight:e,fontFamily:Tt.code,theme:gn,customTypes:["PaymentConditions","PaymentSearchFilter","Condition","DSL"]}),N=Td(Vo,Tt.code,t,s),K=920,C=Math.max(18,n-10),$=We.fromCode(Vo,{x:0,y:0,width:N,height:K,fontSize:t,lineHeight:e,contentOffsetY:C,fontFamily:Tt.code,theme:gn,customTypes:["CommonConditions","LocalDateTime","Field","Boolean","Condition","DSL"]});S.mount(i),T.mount(i),yield*D(S.appear(et.slow),T.appear(et.slow));const W=.8,st=.5,Ot=.16;function*rt(L,ht){yield*D(D(S.highlightLines([[L,L]],st),S.recolorLine(L,dt.accent,st)),D(T.highlightLines([[ht,ht]],st),T.recolorLine(ht,dt.accent,st))),yield*U(Ot),yield*U(Ot)}yield*U(.35),yield*rt(2,2),yield*rt(3,3),yield*rt(5,5),yield*rt(6,6),yield*rt(7,7),yield*rt(8,8),yield*rt(11,11),yield*rt(12,12),yield*rt(15,15),yield*D(S.resetLineColors(2,W),S.resetLineColors(3,W),S.resetLineColors(5,W),S.resetLineColors(6,W),S.resetLineColors(7,W),S.resetLineColors(8,W),S.resetLineColors(11,W),S.resetLineColors(12,W),S.resetLineColors(15,W),T.resetLineColors(2,W),T.resetLineColors(3,W),T.resetLineColors(5,W),T.resetLineColors(6,W),T.resetLineColors(7,W),T.resetLineColors(8,W),T.resetLineColors(11,W),T.resetLineColors(12,W),T.resetLineColors(15,W),S.showAllLines(W),T.showAllLines(W)),yield*U(.35),yield*D(D(S.highlightLines([[0,0],[2,2],[7,7],[12,12]],et.slow),S.recolorTokens(0,["OrderConditions"],dt.accent,et.slow),S.recolorTokens(2,["OrderSearchFilter"],dt.accent,et.slow),S.recolorTokens(7,["ORDERS"],dt.accent,et.slow),S.recolorTokens(12,["ORDERS"],dt.accent,et.slow)),D(T.highlightLines([[0,0],[2,2],[7,7],[12,12]],et.slow),T.recolorTokens(0,["PaymentConditions"],dt.accent,et.slow),T.recolorTokens(2,["PaymentSearchFilter"],dt.accent,et.slow),T.recolorTokens(7,["PAYMENTS"],dt.accent,et.slow),T.recolorTokens(12,["PAYMENTS"],dt.accent,et.slow)));const at="rgba(255, 140, 163, 0.72)",F=.16;yield*U(.25);for(let L=0;L<2;L++)yield*D(D(S.recolorTokens(0,["OrderConditions"],at,F),S.recolorTokens(2,["OrderSearchFilter"],at,F),S.recolorTokens(7,["ORDERS"],at,F),S.recolorTokens(12,["ORDERS"],at,F)),D(T.recolorTokens(0,["PaymentConditions"],at,F),T.recolorTokens(2,["PaymentSearchFilter"],at,F),T.recolorTokens(7,["PAYMENTS"],at,F),T.recolorTokens(12,["PAYMENTS"],at,F))),yield*D(D(S.recolorTokens(0,["OrderConditions"],dt.accent,F),S.recolorTokens(2,["OrderSearchFilter"],dt.accent,F),S.recolorTokens(7,["ORDERS"],dt.accent,F),S.recolorTokens(12,["ORDERS"],dt.accent,F)),D(T.recolorTokens(0,["PaymentConditions"],dt.accent,F),T.recolorTokens(2,["PaymentSearchFilter"],dt.accent,F),T.recolorTokens(7,["PAYMENTS"],dt.accent,F),T.recolorTokens(12,["PAYMENTS"],dt.accent,F)));yield*U(2),yield*D(S.resetLineColors(0,W),S.resetLineColors(2,W),S.resetLineColors(7,W),S.resetLineColors(12,W),T.resetLineColors(0,W),T.resetLineColors(2,W),T.resetLineColors(7,W),T.resetLineColors(12,W),S.showAllLines(W),T.showAllLines(W));const Et=Z(0),yt=Z(0);S.node.cache(!0),T.node.cache(!0),S.node.cachePadding(120),T.node.cachePadding(120),S.node.filters(()=>[Pl(Et())]),T.node.filters(()=>[Pl(yt())]),$.mount(i);const Ct=Vo.split(`
`),zt=Ct.length,jt=$.getLineLayouts(),At=jt.map(L=>L.y),ee=Ct.findIndex(L=>L.includes("Field<Boolean> deleted")),Qt=Ct.findIndex(L=>L.trim().startsWith("boolean isInvoices"));function V(L){let[ht,Nn]=L;for(;ht>0&&Ct[ht-1].trim()==="";)ht--;return[ht,Nn]}const J=ee>=0?[ee,ee]:null,mt=Qt>=0?[Qt,Qt]:null,Nt=Ct.findIndex(L=>L.includes("if (isOrders && !filter.includeDeleted())")),ne=Nt>=0?Ct.findIndex((L,ht)=>ht>Nt&&L.trim()==="}"):-1,He=Nt>=0&&ne>=Nt?[Nt,ne]:null,ze=He?V(He):null,we=Ct.findIndex(L=>L.includes("if (isPayments && filter.currency() != null)")),Ue=we>=0?Ct.findIndex((L,ht)=>ht>we&&L.trim()==="}"):-1,$e=we>=0&&Ue>=we?[we,Ue]:null,Dn=$e?V($e):null,In=Ct.findIndex(L=>L.includes("if (isPayments && filter.executedSince() != null)")),Bi=In>=0?Ct.findIndex((L,ht)=>ht>In&&L.trim()==="}"):-1,Wi=In>=0&&Bi>=In?[In,Bi]:null,Cn=Wi?V(Wi):null,ge=[];for(let L=0;L<zt;L++)Ct[L].includes("if (isInvoices")&&ge.push(L);let ie=null;if(ge.length>0){const L=ge[0];let ht=-1;for(const Nn of ge){const on=Ct.findIndex((Hn,Un)=>Un>Nn&&Hn.trim()==="}");on>ht&&(ht=on)}ht>=L&&(ie=V([L,ht]))}const se=new Array(zt).fill(!1);if(J)for(let L=J[0];L<=J[1];L++)se[L]=!0;if(mt)for(let L=mt[0];L<=mt[1];L++)se[L]=!0;if(ze)for(let L=ze[0];L<=ze[1];L++)se[L]=!0;if(Dn)for(let L=Dn[0];L<=Dn[1];L++)se[L]=!0;if(Cn)for(let L=Cn[0];L<=Cn[1];L++)se[L]=!0;if(ie)for(let L=ie[0];L<=ie[1];L++)se[L]=!0;const ps=new Array(zt).fill(0);let oi=0;for(let L=0;L<zt;L++)ps[L]=oi,se[L]&&oi++;for(let L=0;L<zt;L++)At[L]=jt[L].y-ps[L]*e,$.setLinePosition(L,At[L]),se[L]&&$.setLineOpacity(L,0);ee>=0&&$.setTokenOpacityAt(ee,-1,0);const ai=et.slow,ji=.35;function*gs(){yield*U(ji),yield*$.appear(et.slow)}yield*D(Et(6,ai,w),yt(6,ai,w),S.node.opacity(.22,ai,w),T.node.opacity(.22,ai,w),gs()),yield*U(.6),J&&(yield*$.animateInsertLines(J,At,et.slow)),yield*U(.5),ze&&(yield*$.animateInsertLines(ze,At,et.slow)),yield*U(.45),Dn&&(yield*$.animateInsertLines(Dn,At,et.slow)),yield*U(.45),Cn&&(yield*$.animateInsertLines(Cn,At,et.slow)),yield*U(.45),mt&&(yield*D($.animateInsertLines(mt,At,et.slow),$.animateTokenOpacityAt(ee,-1,1,et.slow))),yield*U(.45),ie&&(yield*$.animateInsertLines(ie,At,et.slow)),yield*U(.3);const li=K-n*2,ms=8,hi=zt-1,ci=li/2-e/2-ms,kn=Math.max(0,At[hi]-ci);yield*$.animateScrollY(kn,et.slow),yield*U(.35);const z=gt(),_t=gt(),he=gt(),bt=gt(),xe=gt(),Se=gt(),Ce=gt(),Ut=480,Yt=120,ke=[-520,-40],Te=[520,-40],Pe=[0,360];yield*D($.animateCardFill(Pi,.7),$.hideLines([[0,$.lineCount-1]],.7),S.node.opacity(0,.7,w),T.node.opacity(0,.7,w)),i.add(P(bn,{children:[P(te,{ref:xe,stroke:Qn,lineWidth:2,end:0,points:()=>[Mt([z().position.x(),z().position.y()],[z().width(),z().height()],[ke[0],ke[1]]),Mt([ke[0],ke[1]],[Ut,Yt],[z().position.x(),z().position.y()])]}),P(te,{ref:Se,stroke:Qn,lineWidth:2,end:0,points:()=>[Mt([z().position.x(),z().position.y()],[z().width(),z().height()],[Te[0],Te[1]]),Mt([Te[0],Te[1]],[Ut,Yt],[z().position.x(),z().position.y()])]}),P(te,{ref:Ce,stroke:Qn,lineWidth:2,end:0,points:()=>[Mt([z().position.x(),z().position.y()],[z().width(),z().height()],[Pe[0],Pe[1]]),Mt([Pe[0],Pe[1]],[Ut,Yt],[z().position.x(),z().position.y()])]}),P(Y,{ref:z,width:N,height:K,radius:G.radius,fill:Pi,stroke:G.stroke,lineWidth:G.lineWidth,shadowColor:G.shadowColor,shadowBlur:G.shadowBlur,shadowOffset:G.shadowOffset,opacity:1}),P(Y,{ref:_t,x:ke[0],y:ke[1],width:Ut,height:Yt,radius:G.radiusSmall,fill:dt.surface,stroke:G.stroke,lineWidth:G.lineWidth,shadowColor:G.shadowColor,shadowBlur:G.shadowBlur,shadowOffset:G.shadowOffset,opacity:0,children:P(lt,{text:"ORDERS",fontFamily:Tt.primary,fontSize:22,fontWeight:600,fill:G.labelFill})}),P(Y,{ref:he,x:Te[0],y:Te[1],width:Ut,height:Yt,radius:G.radiusSmall,fill:dt.surface,stroke:G.stroke,lineWidth:G.lineWidth,shadowColor:G.shadowColor,shadowBlur:G.shadowBlur,shadowOffset:G.shadowOffset,opacity:0,children:P(lt,{text:"PAYMENTS",fontFamily:Tt.primary,fontSize:22,fontWeight:600,fill:G.labelFill})}),P(Y,{ref:bt,x:Pe[0],y:Pe[1],width:Ut,height:Yt,radius:G.radiusSmall,fill:dt.surface,stroke:G.stroke,lineWidth:G.lineWidth,shadowColor:G.shadowColor,shadowBlur:G.shadowBlur,shadowOffset:G.shadowOffset,opacity:0,children:P(lt,{text:"INVOICES",fontFamily:Tt.primary,fontSize:22,fontWeight:600,fill:G.labelFill})})]})),$.node.opacity(0),yield*D(z().size([170,170],.9,w),z().radius(22,.9,w)),yield*D(xe().end(1,et.slow,w),Se().end(1,et.slow,w),Ce().end(1,et.slow,w)),yield*D(_t().opacity(1,et.slow,w),he().opacity(1,et.slow,w),bt().opacity(1,et.slow,w)),xe().opacity(.75),Se().opacity(.75),Ce().opacity(.75);const Ze=Z(0),en=Z(0),zn=Z(0),q=Z(0),Ye=Z(0),$n=Z(0);i.add(P(bn,{children:[P(Y,{width:10,height:10,radius:5,fill:Pi,shadowColor:Pi,shadowBlur:18,opacity:()=>q(),x:()=>{const L=Mt(ke,[Ut,Yt],[z().position.x(),z().position.y()]),ht=Mt([z().position.x(),z().position.y()],[z().width(),z().height()],ke);return Is(L[0],ht[0],Ze())},y:()=>{const L=Mt(ke,[Ut,Yt],[z().position.x(),z().position.y()]),ht=Mt([z().position.x(),z().position.y()],[z().width(),z().height()],ke);return Is(L[1],ht[1],Ze())}}),P(Y,{width:10,height:10,radius:5,fill:Pi,shadowColor:Pi,shadowBlur:18,opacity:()=>Ye(),x:()=>{const L=Mt([z().position.x(),z().position.y()],[z().width(),z().height()],Te),ht=Mt(Te,[Ut,Yt],[z().position.x(),z().position.y()]);return Is(L[0],ht[0],en())},y:()=>{const L=Mt([z().position.x(),z().position.y()],[z().width(),z().height()],Te),ht=Mt(Te,[Ut,Yt],[z().position.x(),z().position.y()]);return Is(L[1],ht[1],en())}}),P(Y,{width:10,height:10,radius:5,fill:Pi,shadowColor:Pi,shadowBlur:18,opacity:()=>$n(),x:()=>{const L=Mt([z().position.x(),z().position.y()],[z().width(),z().height()],Pe),ht=Mt(Pe,[Ut,Yt],[z().position.x(),z().position.y()]);return Is(L[0],ht[0],zn())},y:()=>{const L=Mt([z().position.x(),z().position.y()],[z().width(),z().height()],Pe),ht=Mt(Pe,[Ut,Yt],[z().position.x(),z().position.y()]);return Is(L[1],ht[1],zn())}})]}));for(let L=0;L<3;L++)Ze(0),en(0),zn(0),q(1),Ye(0),$n(0),yield*D(xe().opacity(1,.18,w),Ze(1,.7,w)),yield*D(xe().opacity(.75,.22,w),q(0,.22,w)),Ye(1),$n(1),yield*D(Se().opacity(1,.18,w),Ce().opacity(1,.18,w),en(1,.75,w),zn(1,.75,w)),yield*D(Se().opacity(.75,.22,w),Ce().opacity(.75,.22,w),Ye(0,.22,w),$n(0,.22,w)),yield*U(.15);yield*D(z().fill(eo,.75,w),xe().stroke(Zo,.75,w),Se().stroke(Zo,.75,w),Ce().stroke(Zo,.75,w)),yield*U(.18);for(let L=0;L<2;L++)yield*D(_t().stroke(eo,.18,w),he().stroke(eo,.18,w),bt().stroke(eo,.18,w),xe().opacity(1,.18,w),Se().opacity(1,.18,w),Ce().opacity(1,.18,w)),yield*D(_t().stroke(G.stroke,.22,w),he().stroke(G.stroke,.22,w),bt().stroke(G.stroke,.22,w),xe().opacity(.75,.22,w),Se().opacity(.75,.22,w),Ce().opacity(.75,.22,w));yield*U(.35),yield*D(z().opacity(0,.65,w),xe().opacity(0,.65,w),Se().opacity(0,.65,w),Ce().opacity(0,.65,w),q(0,.5,w),Ye(0,.5,w),$n(0,.5,w));const Re=-320,ui=[-600,0,600],me=ui[0],$t=ui[1],re=ui[2];yield*D(_t().position([me,Re],1.15,w),he().position([re,Re],1.15,w),bt().position([$t,Re],1.15,w));const Xe=480,ye=220,Xt=-60,_n=16,fi=Math.round(_n*1.7*10)/10,Le=Xe,Me=ye,Jt=250,di=16,Ni=Math.round(di*1.7*10)/10,ys=`final class OrderConditions {

  static Condition fromFilter(...) {
    ...
  }
}`,pi=`final class InvoiceConditions {

  static Condition fromFilter(...) {
    ...
  }
}`,vs=`final class PaymentConditions {

  static Condition fromFilter(...) {
    ...
  }
}`,Bn=We.fromCode(ys,{x:me,y:Xt,width:Xe,height:ye,fontSize:_n,lineHeight:fi,contentOffsetY:18,fontFamily:Tt.code,theme:gn,customTypes:["Condition","OrderSearchFilter","OrderConditions","DSL"]}),nn=We.fromCode(pi,{x:$t,y:Xt,width:Xe,height:ye,fontSize:_n,lineHeight:fi,contentOffsetY:18,fontFamily:Tt.code,theme:gn,customTypes:["Condition","InvoiceSearchFilter","InvoiceConditions","DSL"]}),Wn=We.fromCode(vs,{x:re,y:Xt,width:Xe,height:ye,fontSize:_n,lineHeight:fi,contentOffsetY:18,fontFamily:Tt.code,theme:gn,customTypes:["Condition","PaymentSearchFilter","PaymentConditions","DSL"]}),Ws=`@Test
void orders_filter_combinations() {
  ...
}`,gi=`@Test
void payments_filter_combinations() {
  ...
}`,Hi=`@Test
void invoices_filter_combinations() {
  ...
}`,jn=We.fromCode(Ws,{x:me,y:Jt,width:Le,height:Me,fontSize:di,lineHeight:Ni,contentOffsetY:18,fontFamily:Tt.code,theme:gn,customTypes:["Test","List","LocalDateTime","Condition","OrderSearchFilter","OrderConditions"]}),bs=We.fromCode(gi,{x:re,y:Jt,width:Le,height:Me,fontSize:di,lineHeight:Ni,contentOffsetY:18,fontFamily:Tt.code,theme:gn,customTypes:["Test","List","LocalDateTime","Condition","PaymentSearchFilter","PaymentConditions"]}),_e=We.fromCode(Hi,{x:$t,y:Jt,width:Le,height:Me,fontSize:di,lineHeight:Ni,contentOffsetY:18,fontFamily:Tt.code,theme:gn,customTypes:["Test","List","LocalDateTime","Condition","InvoiceSearchFilter","InvoiceConditions"]});Bn.mount(i),nn.mount(i),Wn.mount(i),jn.mount(i),bs.mount(i),_e.mount(i);const Ui=gt(),mi=gt(),Yi=gt(),Xi=gt(),ws=gt(),sn=gt(),xs=gt(),Ss=gt(),rn=gt();i.add(P(bn,{children:[P(te,{ref:Ui,stroke:Qn,lineWidth:2,end:0,opacity:.6,points:()=>[Mt([me,Re],[Ut,Yt],[me,Xt]),Mt([me,Xt],[Xe,ye],[me,Re])]}),P(te,{ref:mi,stroke:Qn,lineWidth:2,end:0,opacity:.6,points:()=>[Mt([$t,Re],[Ut,Yt],[$t,Xt]),Mt([$t,Xt],[Xe,ye],[$t,Re])]}),P(te,{ref:Yi,stroke:Qn,lineWidth:2,end:0,opacity:.6,points:()=>[Mt([re,Re],[Ut,Yt],[re,Xt]),Mt([re,Xt],[Xe,ye],[re,Re])]}),P(te,{ref:Xi,stroke:Qn,lineWidth:2,end:0,opacity:.6,points:()=>[Mt([me,Xt],[Xe,ye],[me,Jt]),Mt([me,Jt],[Le,Me],[me,Xt])]}),P(te,{ref:ws,stroke:Qn,lineWidth:2,end:0,opacity:.6,points:()=>[Mt([$t,Xt],[Xe,ye],[$t,Jt]),Mt([$t,Jt],[Le,Me],[$t,Xt])]}),P(te,{ref:sn,stroke:Qn,lineWidth:2,end:0,opacity:.6,points:()=>[Mt([re,Xt],[Xe,ye],[re,Jt]),Mt([re,Jt],[Le,Me],[re,Xt])]}),P(Y,{ref:xs,x:me,y:Jt,width:Le,height:Me,radius:28,fill:"rgba(0, 0, 0, 0)",stroke:"rgba(0, 0, 0, 0)",lineWidth:3}),P(Y,{ref:Ss,x:$t,y:Jt,width:Le,height:Me,radius:28,fill:"rgba(0, 0, 0, 0)",stroke:"rgba(0, 0, 0, 0)",lineWidth:3}),P(Y,{ref:rn,x:re,y:Jt,width:Le,height:Me,radius:28,fill:"rgba(0, 0, 0, 0)",stroke:"rgba(0, 0, 0, 0)",lineWidth:3})]})),yield*D(Bn.appear(et.slow),nn.appear(et.slow),Wn.appear(et.slow),Ui().end(1,1,w),mi().end(1,1,w),Yi().end(1,1,w)),yield*U(.35),yield*D(jn.appear(et.slow),bs.appear(et.slow),_e.appear(et.slow),Xi().end(1,1.35,w),ws().end(1,1.35,w),sn().end(1,1.35,w)),yield*U(.25),yield*xs().stroke("rgba(106, 219, 156, 0.95)",.55,w),yield*U(.2),yield*Ss().stroke("rgba(106, 219, 156, 0.95)",.55,w),yield*U(.2),yield*rn().stroke("rgba(227, 91, 102, 0.95)",.55,w),yield*U(16)});rs.name="dryConditionsScene";kd.attach(rs.meta);rs.onReplaced??(rs.onReplaced=new wn(rs.config));let Sa;Sa??(Sa=new Ii("splitDtoScene",!1));Sa.loadData({version:1,timeEvents:[],seed:300407378});const Pd=Sa,os=mo(function*(i){const t=Z(0),e=new De({type:"linear",from:[0,-1080/2],to:[0,le.height/2],stops:[{offset:0,color:"#F7F5F2"},{offset:1,color:"#EFEAE3"}]}),n=new De({type:"linear",from:[0,-1080/2],to:[0,le.height/2],stops:[{offset:0,color:dt.background.from},{offset:1,color:dt.background.to}]}),s=new De({type:"radial",from:[le.width*.12,-1080*.12],to:[le.width*.12,-1080*.12],fromRadius:0,toRadius:le.width*.95,stops:[{offset:0,color:"rgba(246,231,212,0.045)"},{offset:1,color:"rgba(255,255,255,0)"}]}),r=le.width/2,l=le.height,c=-1920/4,f=le.width/4,g=56,x=56,S=96,T=56,N=0+S,K=-1080/2+T,C=`record PaymentDto(
  String id,
  BigDecimal amount,
  String currency,
  String status,
  Instant updatedAt
) {}`,$=r/2-g*2,W=220,st=22,Ot="rgba(27,29,36,0.96)",rt="rgba(0,0,0,0.10)",at="rgba(0,0,0,0.55)",F=G.shadowBlur*1.35,Et=[G.shadowOffset[0]*1.15,G.shadowOffset[1]*1.15],yt=dt.text.primary;i.add(P(bn,{children:[P(Y,{x:c,width:r,height:l,fill:e}),P(Y,{x:f,width:r,height:l,fill:n}),P(Y,{x:f,width:r,height:l,fill:s}),P(Y,{x:0,width:1,height:l,fill:"rgba(0,0,0,0.10)"}),P(Y,{x:c,width:r,height:l,layout:!0,direction:"column",alignItems:"start",justifyContent:"space-between",padding:[x,g],opacity:t,children:[P(Y,{width:$,height:W,radius:st,fill:Ot,stroke:rt,lineWidth:1,shadowColor:at,shadowBlur:F,shadowOffset:Et,clip:!0,layout:!0,alignItems:"center",justifyContent:"center",children:P(lt,{text:"CLIENT",fontFamily:Tt.primary,fontSize:30,fontWeight:650,letterSpacing:.6,fill:yt,textAlign:"center"})}),P(Y,{width:$,height:W,radius:st,fill:Ot,stroke:rt,lineWidth:1,shadowColor:at,shadowBlur:F,shadowOffset:Et,clip:!0,layout:!0,alignItems:"center",justifyContent:"center",children:P(lt,{text:"PAYMENT-SERVICE",fontFamily:Tt.primary,fontSize:30,fontWeight:650,letterSpacing:.6,fill:yt,textAlign:"center"})}),P(Y,{width:$,height:W,radius:st,fill:Ot,stroke:rt,lineWidth:1,shadowColor:at,shadowBlur:F,shadowOffset:Et,clip:!0,layout:!0,alignItems:"center",justifyContent:"center",children:P(lt,{text:"STRIPE",fontFamily:Tt.primary,fontSize:30,fontWeight:650,letterSpacing:.6,fill:yt,textAlign:"center"})})]}),P(lt,{x:N,y:K,width:r-S*2,text:C,fontFamily:Tt.code,fontSize:64,fontWeight:600,lineHeight:92,fill:dt.text.primary,offset:[-1,-1],opacity:t})]})),yield*t(1,et.slow,w),yield*U(12)});os.name="splitDtoScene";Pd.attach(os.meta);os.onReplaced??(os.onReplaced=new wn(os.config));const Rd={scenes:[is,os,ss,rs]};let Ca;Ca??(Ca=new Ii("\0virtual:settings",!1));Ca.loadData({version:1,appearance:{color:"rgb(51,166,255)",font:!1,coordinates:!0},defaults:{background:null,size:{x:1920,y:1080}}});const Ld=Ca,Wd=qu("project",{core:"3.17.2",two:"3.17.2",ui:"3.17.2",vitePlugin:"3.17.2"},[],Rd,Rf,Ld);export{Wd as default};
