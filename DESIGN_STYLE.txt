DESIGN STYLE — Motion Canvas (тёплый минимализм)

Назначение
- Это дизайн‑спек высокого уровня: правила внешнего вида и “поведения” компонентов.
- Без деталей реализации (без JSX, формул, алгоритмов).
- Любое правило привязано к “источнику правды” в коде (ссылки на файлы).

Цель
- Спокойный, “дорогой”, тёплый минимализм.
- Один акцент = один смысл (акцент не должен быть фоном по умолчанию).
- Предсказуемость: одинаковые формы/тени/отступы/ритм появления.

Палитра (смысл цветов)
- Background: тёмный градиент, не плоский чёрный.
- Surface (cards): тёмная “плита”, читается через тень + тонкий контур.
- Text primary: мягкий бежевый (не чисто‑белый как дефолт).
- Text muted: приглушённый для второстепенного.
- Accent (highlight): розовый — только для смысловых подсветок (condition/проверка/результат).
- В подсветке кода не использовать оранжевый как “дефолтный” токен‑цвет.

Источник правды по палитре:
- `tz.txt` (ТЗ)
- `motion-canvas/src/core/theme.ts` (реальные значения в проекте)

Типографика
- UI‑текст: аккуратный гротеск (без “игрушечности”).
- Код: читабельный моноширинный.
- Контраст повышать размером/весом/spacing, а не белизной.

Карточки (код/таблица)
- Единая форма: одинаковый радиус и “материал” у кода, таблиц и доменных узлов.
- Тонкий контур: едва заметная обводка (без коробочности).
- Тень: мягкая и глубокая, без жёстких краёв.
- Появление по умолчанию: только opacity (без scale).

Единый “материал” карточек:
- `motion-canvas/src/core/panelStyle.ts` (`PanelStyle`) — stroke/тень/радиусы/заливка/цвет подписей.
- Базовые компоненты должны использовать `PanelStyle` по умолчанию (карточки не должны “дрейфовать” по стилю).

Таблицы (визуальные правила)
- Заголовок таблицы: короткое имя (PAYMENTS/ORDERS) внутри карточки, над header‑строкой.
- Колонки: разделители тонкими вертикальными линиями (не stroke на каждой ячейке).
- Переполнение: длинные значения всегда укорачиваются (ellipsis) + клип как страховка.
- Подсветка фильтра: светло‑розовый фон ячеек, без скругления углов.
- Подсветка должна объяснять смысл: что проверяем (даты/статусы отдельно) и/или что прошло.

Motion (анимации)
- Ритм: “slow” для появления карточек, быстрые короткие “пульсы” для highlight.
- Сравнение двух сущностей (orders/payments): ключевые подсветки синхронные.
- Акцент‑анимации: 1–2 цикла, затем тишина/статичный кадр.

Defocus (дорогой blur для второстепенного):
- используем blur только как переход/фокусировку, а не как постоянный фон;
- blur делаем по слоям/карточкам, не по всему кадру;
- реализация: `Node.filters(blur(...))` + `cachePadding` (см. `CODE_PLACEMENT.txt` и сцены).

Интро главы (репрезент / title card)
- Текст: английский, один кегль, 2–3 строки, жирный гротеск (`Fonts.primary`, 700).
- Компоновка: левое выравнивание, “постерный” отступ слева (не по центру).
- Цвет: тёплый бежевый, чуть теплее базового текста — `#F6E7D4`.
- Анимация: только fade по opacity (без сдвига/scale).
- Фон: фирменный градиент (`applyBackground`), без дополнительных объектов.

Референсы (источники правды в коде)
- Палитра/шрифты/тайминги: motion-canvas/src/core/theme.ts
- Тема подсветки кода: motion-canvas/src/core/code/model/SyntaxTheme.ts (ExplainorCodeTheme)
- Карточка кода (форма/тень): motion-canvas/src/core/code/components/CodeCard.ts
- Единый стиль панелей: motion-canvas/src/core/panelStyle.ts (PanelStyle)
- Эталонная сцена “код + таблица + фильтр”: motion-canvas/src/scenes/dryFiltersScene.tsx
- Эталонная сцена “монстр + связанность + тесты”: motion-canvas/src/scenes/dryConditionsScene.tsx
- Ellipsis по реальному measureText: motion-canvas/src/core/utils/textMeasure.ts

Инженерные контракты (отдельный документ)
- CODE_PLACEMENT.txt — safe zone, размещение, контракты функций и практические паттерны сборки.


